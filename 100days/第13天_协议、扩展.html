<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第13天 协议、扩展 | SwiftUIX</title>
    <meta name="description" content="专注于分享 SwiftUI 实战技巧与开发经验">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.C3itEhId.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CCAKWzHx.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.P-1yK2GS.js">
    <link rel="modulepreload" href="/assets/chunks/framework.ymCRTBvy.js">
    <link rel="modulepreload" href="/assets/100days_第13天_协议、扩展.md.BkOpjsOG.lean.js">
    <link rel="icon" href="./logo.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>SwiftUIX</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>SwiftUI基础</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link active" href="/100days/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 100 天</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/base/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 从入门到进阶</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/core/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 核心技术与高级实践</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/network/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 网络编程</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/animation/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 动画核心技术与实践</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/purchase/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 订阅实战</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/grid/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 网格布局</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/lifecycle/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 视图生命周期</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>SwiftUI高级</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/custom_views/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 自定义视图组件</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/geometry/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 动效精讲</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/refactor/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 封装与重构</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/thinking/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 核心思想</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/advanced/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SwiftUI 高阶布局与数据流实战</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>UIKit</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/uikit/basics/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>UIKit编程入门</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>关于</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wumacms" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/249603883" aria-label="bilibili" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-bilibili"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wumacms" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/249603883" aria-label="bilibili" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-bilibili"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>概览</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>内容简介</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>课前准备</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E3%80%90%E8%AF%BE%E5%89%8D%E9%98%85%E8%AF%BB%E3%80%91%E5%A6%82%E4%BD%95%E6%88%90%E4%B8%BA%E4%B8%80%E5%90%8DiOS%E5%BC%80%E5%8F%91%E8%80%85.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>如何成为一名iOS开发者</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Swift 基础 (第01-15天)</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC01%E5%A4%A9_%E5%8F%98%E9%87%8F%E3%80%81%E5%B8%B8%E9%87%8F%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%95%B0%E5%AD%97.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第01天 变量、常量、字符串和数字</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC02%E5%A4%A9_%E5%B8%83%E5%B0%94%E5%80%BC%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第02天 布尔值、字符串插值</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC03%E5%A4%A9_%E6%95%B0%E7%BB%84%E3%80%81%E5%AD%97%E5%85%B8%E3%80%81%E9%9B%86%E5%90%88%E5%92%8C%E6%9E%9A%E4%B8%BE.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第03天 数组、字典、集合和枚举</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC04%E5%A4%A9_%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第04天 类型注解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC05%E5%A4%A9_%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E3%80%81Switch%E8%AF%AD%E5%8F%A5%E5%92%8C%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第05天 条件语句、Switch 语句和三元运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC06%E5%A4%A9_%E5%BE%AA%E7%8E%AF.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第06天 循环</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC07%E5%A4%A9_%E5%87%BD%E6%95%B0%E3%80%81%E5%8F%82%E6%95%B0%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第07天 函数、参数和返回值</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC08%E5%A4%A9_%E9%BB%98%E8%AE%A4%E5%80%BC%E3%80%81%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第08天 默认值、抛出异常</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC09%E5%A4%A9_%E9%97%AD%E5%8C%85%E3%80%81%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第09天 闭包、函数作为参数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC10%E5%A4%A9_%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8C%E5%B1%9E%E6%80%A7%E8%A7%82%E5%AF%9F%E8%80%85.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第10天 结构体、计算属性和属性观察者</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC11%E5%A4%A9_%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E3%80%81%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第11天 访问控制、静态属性和方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC12%E5%A4%A9_%E7%B1%BB%E3%80%81%E7%BB%A7%E6%89%BF.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第12天 类、继承</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC13%E5%A4%A9_%E5%8D%8F%E8%AE%AE%E3%80%81%E6%89%A9%E5%B1%95.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第13天 协议、扩展</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC14%E5%A4%A9_%E5%8F%AF%E9%80%89%E7%B1%BB%E5%9E%8B%E3%80%81%E7%A9%BA%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第14天 可选类型、空合运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC15%E5%A4%A9_%E5%A4%8D%E4%B9%A0%EF%BC%9A%E4%B8%80%E5%B0%8F%E6%97%B6%E6%8E%8C%E6%8F%A1Swift%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第15天 复习：一小时掌握 Swift 核心知识</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>SwiftUI 项目实战 (第16-100天)</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC16%E5%A4%A9_SwiftUI%E9%A1%B9%E7%9B%AE1_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第16天 SwiftUI项目1 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC17%E5%A4%A9_SwiftUI%E9%A1%B9%E7%9B%AE1_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第17天 SwiftUI项目1 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC18%E5%A4%A9_SwiftUI%E9%A1%B9%E7%9B%AE1_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第18天 SwiftUI项目1 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC19%E5%A4%A9_%E6%8C%91%E6%88%98%E6%97%A5.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第19天 挑战日</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC20%E5%A4%A9_%E9%A1%B9%E7%9B%AE2_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第20天 项目2 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC21%E5%A4%A9_%E9%A1%B9%E7%9B%AE2_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第21天 项目2 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC22%E5%A4%A9_%E9%A1%B9%E7%9B%AE2_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第22天 项目2 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC23%E5%A4%A9_%E9%A1%B9%E7%9B%AE3_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第23天 项目3 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC24%E5%A4%A9_%E9%A1%B9%E7%9B%AE3_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第24天 项目3 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC25%E5%A4%A9_%E5%A4%8D%E4%B9%A02.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第25天 复习2</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC26%E5%A4%A9_%E9%A1%B9%E7%9B%AE4%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第26天 项目4第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC27%E5%A4%A9_%E9%A1%B9%E7%9B%AE4%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第27天 项目4第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC28%E5%A4%A9_%E9%A1%B9%E7%9B%AE4%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第28天 项目4第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC29%E5%A4%A9_%E9%A1%B9%E7%9B%AE5%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第29天 项目5第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC30%E5%A4%A9_%E9%A1%B9%E7%9B%AE5%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第30天 项目5第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC31%E5%A4%A9_%E9%A1%B9%E7%9B%AE5%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第31天 项目5第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC32%E5%A4%A9_%E9%A1%B9%E7%9B%AE6%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第32天 项目6第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC33%E5%A4%A9_%E9%A1%B9%E7%9B%AE6%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第33天 项目6第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC34%E5%A4%A9_%E9%A1%B9%E7%9B%AE6%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第34天 项目6第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC35%E5%A4%A9_%E5%A4%8D%E4%B9%A03.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第35天 复习3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC36%E5%A4%A9_%E9%A1%B9%E7%9B%AE7_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第36天 项目7 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC37%E5%A4%A9_%E9%A1%B9%E7%9B%AE7_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第37天 项目7 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC38%E5%A4%A9_%E9%A1%B9%E7%9B%AE7_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第38天 项目7 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC39%E5%A4%A9_%E9%A1%B9%E7%9B%AE8_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第39天 项目8 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC40%E5%A4%A9_%E9%A1%B9%E7%9B%AE8_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第40天 项目8 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC41%E5%A4%A9_%E9%A1%B9%E7%9B%AE8_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第41天 项目8 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC42%E5%A4%A9_%E9%A1%B9%E7%9B%AE8_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第42天 项目8 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC43%E5%A4%A9_%E9%A1%B9%E7%9B%AE9_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第43天 项目9 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC44%E5%A4%A9_%E9%A1%B9%E7%9B%AE9_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第44天 项目9 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC45%E5%A4%A9_%E9%A1%B9%E7%9B%AE9_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第45天 项目9 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC46%E5%A4%A9_%E9%A1%B9%E7%9B%AE9_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第46天 项目9 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC47%E5%A4%A9_%E9%87%8C%E7%A8%8B%E7%A2%91_%E9%A1%B9%E7%9B%AE7-9.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第47天 里程碑 项目7-9</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC48%E5%A4%A9_%E6%8B%93%E5%B1%95%E4%BD%A0%E7%9A%84%E8%A7%86%E9%87%8E.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第48天 拓展你的视野</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC49%E5%A4%A9_%E9%A1%B9%E7%9B%AE10_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第49天 项目10 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC50%E5%A4%A9_%E9%A1%B9%E7%9B%AE10_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第50天 项目10 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC51%E5%A4%A9_%E9%A1%B9%E7%9B%AE10_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第51天 项目10 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC52%E5%A4%A9_%E9%A1%B9%E7%9B%AE10_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第52天 项目10 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC53%E5%A4%A9_%E9%A1%B9%E7%9B%AE11_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第53天 项目11 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC54%E5%A4%A9_%E9%A1%B9%E7%9B%AE11_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第54天 项目11 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC55%E5%A4%A9_%E9%A1%B9%E7%9B%AE11_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第55天 项目11 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC56%E5%A4%A9_%E9%A1%B9%E7%9B%AE11_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第56天 项目11 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC57%E5%A4%A9_%E9%A1%B9%E7%9B%AE12_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第57天 项目12 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC58%E5%A4%A9_%E9%A1%B9%E7%9B%AE12_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第58天 项目12 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC59%E5%A4%A9_%E9%A1%B9%E7%9B%AE12_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第59天 项目12 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC60%E5%A4%A9_%E9%87%8C%E7%A8%8B%E7%A2%91%EF%BC%9A%E9%A1%B9%E7%9B%AE10-12.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第60天 里程碑：项目10-12</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC61%E5%A4%A9_SwiftData%E6%97%B6%E9%97%B4.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第61天 SwiftData 时间</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC62%E5%A4%A9_%E9%A1%B9%E7%9B%AE13_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第62天 项目13 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC63%E5%A4%A9_%E9%A1%B9%E7%9B%AE13_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第63天 项目13 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC64%E5%A4%A9_%E9%A1%B9%E7%9B%AE13_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第64天 项目13 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC65%E5%A4%A9_%E9%A1%B9%E7%9B%AE13_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第65天 项目13 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC66%E5%A4%A9_%E9%A1%B9%E7%9B%AE13_%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第66天 项目13 第五部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC67%E5%A4%A9_%E9%A1%B9%E7%9B%AE13_%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第67天 项目13 第六部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC68%E5%A4%A9_%E9%A1%B9%E7%9B%AE14_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第68天 项目14 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC69%E5%A4%A9_%E9%A1%B9%E7%9B%AE14_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第69天 项目14 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC70%E5%A4%A9_%E9%A1%B9%E7%9B%AE14_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第70天 项目14 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC71%E5%A4%A9_%E9%A1%B9%E7%9B%AE14_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第71天 项目14 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC72%E5%A4%A9_%E9%A1%B9%E7%9B%AE14_%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第72天 项目14 第五部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC73%E5%A4%A9_%E9%A1%B9%E7%9B%AE14_%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第73天 项目14 第六部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC74%E5%A4%A9_%E9%A1%B9%E7%9B%AE15_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第74天 项目15 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC75%E5%A4%A9_%E9%A1%B9%E7%9B%AE15_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第75天 项目15 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC76%E5%A4%A9_%E9%A1%B9%E7%9B%AE15_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第76天 项目15 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC77%E5%A4%A9_%E9%87%8C%E7%A8%8B%E7%A2%91_%E9%A1%B9%E7%9B%AE13-15.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第77天 里程碑 项目13-15</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC78%E5%A4%A9_MapKit%E6%97%B6%E9%97%B4.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第78天 MapKit 时间</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC79%E5%A4%A9_%E9%A1%B9%E7%9B%AE16_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第79天 项目16 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC80%E5%A4%A9_%E9%A1%B9%E7%9B%AE16_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第80天 项目16 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC81%E5%A4%A9_%E9%A1%B9%E7%9B%AE16_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第81天 项目16 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC82%E5%A4%A9_%E9%A1%B9%E7%9B%AE16_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第82天 项目16 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC83%E5%A4%A9_%E9%A1%B9%E7%9B%AE16_%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第83天 项目16 第五部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC84%E5%A4%A9_%E9%A1%B9%E7%9B%AE16_%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第84天 项目16 第六部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC85%E5%A4%A9_%E9%A1%B9%E7%9B%AE16_%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第85天 项目16 第七部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC86%E5%A4%A9_%E9%A1%B9%E7%9B%AE17_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第86天 项目17 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC87%E5%A4%A9_%E9%A1%B9%E7%9B%AE17_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第87天 项目17 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC88%E5%A4%A9_%E9%A1%B9%E7%9B%AE17_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第88天 项目17 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC89%E5%A4%A9_%E9%A1%B9%E7%9B%AE17_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第89天 项目17 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC90%E5%A4%A9_%E9%A1%B9%E7%9B%AE17_%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第90天 项目17 第五部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC91%E5%A4%A9_%E9%A1%B9%E7%9B%AE17_%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第91天 项目17 第六部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC92%E5%A4%A9_%E9%A1%B9%E7%9B%AE18_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第92天 项目18 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC93%E5%A4%A9_%E9%A1%B9%E7%9B%AE18_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第93天 项目18 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC94%E5%A4%A9_%E9%A1%B9%E7%9B%AE18_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第94天 项目18 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC95%E5%A4%A9_%E9%87%8C%E7%A8%8B%E7%A2%91_%E9%A1%B9%E7%9B%AE16-18.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第95天 里程碑 项目16-18</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC96%E5%A4%A9_%E9%A1%B9%E7%9B%AE19_%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第96天 项目19 第一部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC97%E5%A4%A9_%E9%A1%B9%E7%9B%AE19_%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第97天 项目19 第二部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC98%E5%A4%A9_%E9%A1%B9%E7%9B%AE19_%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第98天 项目19 第三部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC99%E5%A4%A9_%E9%A1%B9%E7%9B%AE19_%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第99天 项目19 第四部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/100days/%E7%AC%AC100%E5%A4%A9_%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>第100天 期末考试</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>本页内容</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _100days_%E7%AC%AC13%E5%A4%A9_%E5%8D%8F%E8%AE%AE%E3%80%81%E6%89%A9%E5%B1%95" data-v-e6f2a212><div><h1 id="第13天-协议、扩展" tabindex="-1">第13天 协议、扩展 <a class="header-anchor" href="#第13天-协议、扩展" aria-label="Permalink to &quot;第13天 协议、扩展&quot;">​</a></h1><p>今天你将学习一些真正具有 Swift 特色的功能：协议、扩展和协议扩展。</p><p>协议扩展使我们能够摒弃庞大、复杂的继承层次结构，取而代之的是更小、更简单且可组合使用的协议。这真正印证了托尼・霍尔多年前说过的一句话：“每个大型程序内部，都有一个小型程序试图脱颖而出。”</p><p>从你第一个 SwiftUI 项目开始，你就会用到协议，并且在整个 Swift 编程生涯中，它们都将是非常宝贵的工具 —— 花时间熟悉它们是值得的。</p><p><strong>今天你要学习四个教程，从中你会接触到协议、扩展等内容。</strong></p><p><strong>提示：</strong> 这是少数几天中几乎肯定会花费超过一小时来学习的一天，但这并不会让学习变得更容易 —— 有很多内容需要涵盖！记住，额外阅读是<em>可选的</em>—— 如果你第一次就理解了某个主题，完全可以跳过。</p><h2 id="_13-1-如何创建和使用协议" tabindex="-1">13.1 如何创建和使用协议 <a class="header-anchor" href="#_13-1-如何创建和使用协议" aria-label="Permalink to &quot;13.1 如何创建和使用协议&quot;">​</a></h2><p><em>作者：Paul Hudson 2024 年 4 月 16 日 已针对 Xcode 16.4 更新</em></p><p>在 Swift 中，协议有点像契约：它们让我们能够定义我们期望某种数据类型支持的功能，而 Swift 会确保我们代码的其余部分遵循这些规则。</p><p>想想我们如何编写一些代码来模拟某人从家通勤到办公室的场景。我们可能会创建一个小型的<code>Car</code>结构体，然后编写一个这样的函数：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> commute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle: Car) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 这里有很多代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当然，他们也可能乘火车通勤，所以我们还会这样写：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> commute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle: Train) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 这里有很多代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或者他们可能乘坐公共汽车：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> commute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle: Bus) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 这里有很多代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或者他们可能使用自行车、电动滑板车、拼车或其他多种交通方式。</p><p>事实上，在这个层面上，我们并不真正关心底层的行程是如何进行的。我们更关心的是更广泛的事情：用户使用每种方式通勤可能需要多长时间，以及如何执行实际的移动到新地点的操作。</p><p>这就是协议的用武之地：它们让我们能够定义一系列我们想要使用的属性和方法。它们并不<em>实现</em>这些属性和方法 —— 它们实际上不会在背后编写任何代码 —— 它们只是表明这些属性和方法必须存在，有点像一个蓝图。</p><p>例如，我们可以这样定义一个新的<code>Vehicle</code>协议：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vehicle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> estimateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distance: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> travel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>让我们来分解一下：</p><ul><li>要创建一个新协议，我们先写<code>protocol</code>，然后是协议名称。这是一种新类型，所以我们需要使用以大写字母开头的驼峰式命名法。</li><li>在协议内部，我们列出了为了让这个协议按我们期望的方式工作所需要的所有方法。</li><li>这些方法内部不包含任何代码 —— 这里没有提供函数体。相反，我们只是指定了方法名称、参数和返回类型。如果需要，你还可以将方法标记为可抛出（throwing）或可修改（mutating）。</li></ul><p>那么我们已经创建了一个协议 —— 这对我们有什么帮助呢？</p><p>好吧，现在我们可以设计与该协议配合工作的类型了。这意味着创建新的结构体、类或枚举，它们要实现该协议的要求，这个过程我们称之为<em>采用</em>或<em>遵循</em>协议。</p><p>协议并没有指定必须存在的全部功能，而只是最低限度的功能。这意味着当你创建遵循协议的新类型时，你可以根据需要添加各种其他属性和方法。</p><p>例如，我们可以创建一个遵循<code>Vehicle</code>协议的<code>Car</code>结构体，像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Vehicle </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> estimateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distance: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        distance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> travel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;我正在驾驶</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(distance)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">公里。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> openSunroof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;今天天气真好！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在这段代码中，有几件事我想特别提醒大家注意：</p><ol><li>我们通过在<code>Car</code>名称后面使用冒号，告诉 Swift<code>Car</code>遵循<code>Vehicle</code>协议，就像我们标记子类那样。</li><li>我们在<code>Vehicle</code>中列出的所有方法都必须<em>精确地</em>存在于<code>Car</code>中。如果它们的名称略有不同、接受的参数不同、返回类型不同等等，那么 Swift 会说我们没有遵循协议。</li><li><code>Car</code>中的方法提供了我们在协议中定义的方法的实际实现。在这种情况下，这意味着我们的结构体提供了驾驶一定距离大约需要多少分钟的估计，并且在调用<code>travel()</code>时会打印一条消息。</li><li><code>openSunroof()</code>方法并非来自<code>Vehicle</code>协议，而且在协议中也没有意义，因为许多交通工具类型没有天窗。但这没关系，因为协议只描述了遵循协议的类型必须具备的<em>最低</em>功能，它们可以根据需要添加自己的功能。</li></ol><p>所以，现在我们已经创建了一个协议，并制作了一个遵循该协议的<code>Car</code>结构体。</p><p>最后，让我们更新一下前面的<code>commute()</code>函数，以便它使用我们添加到<code>Car</code>中的新方法：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> commute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle: Car) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">estimateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: distance) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;那太慢了！我会试试别的交通工具。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        vehicle.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">travel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: distance)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> car </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">commute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: car)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这段代码都能正常工作，但这里的协议实际上并没有增加任何价值。是的，它让我们在<code>Car</code>内部实现了两个非常具体的方法，但我们不添加协议也能做到这一点，那为什么还要费心呢？</p><p>精彩之处来了：Swift 知道任何遵循<code>Vehicle</code>协议的类型都必须实现<code>estimateTime()</code>和<code>travel()</code>方法，所以它实际上允许我们使用<code>Vehicle</code>作为参数类型，而不是<code>Car</code>。我们可以把函数重写成这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> commute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle: Vehicle) {</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>现在我们的意思是，这个函数可以用任何类型的数据来调用，只要那种类型遵循<code>Vehicle</code>协议。函数体不需要改变，因为 Swift 肯定知道<code>estimateTime()</code>和<code>travel()</code>方法是存在的。</p><p>如果你<em>仍然</em>想知道这有什么用，不妨看看下面的结构体：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bicycle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Vehicle </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> estimateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distance: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        distance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> travel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;我正在骑行</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(distance)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">公里。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bike </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Bicycle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">commute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: bike)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>现在我们有了第二个也遵循<code>Vehicle</code>协议的结构体，这就是协议的强大之处：我们现在可以向<code>commute()</code>函数传入<code>Car</code>或者<code>Bicycle</code>。函数内部可以有各种逻辑，当它调用<code>estimateTime()</code>或<code>travel()</code>时，Swift 会自动使用相应的方法 —— 如果我们传入一辆汽车，它会说 “我正在驾驶”，但如果我们传入一辆自行车，它会说 “我正在骑行”。</p><p>所以，协议让我们能够谈论我们想要使用的功能类型，而不是具体的类型。我们可以不说 “这个参数必须是一辆汽车”，而是说 “这个参数可以是任何东西，只要它能够估计旅行时间并移动到新的位置。”</p><p>除了方法，你也可以编写协议来描述遵循协议的类型必须存在的<em>属性</em>。要做到这一点，写出<code>var</code>，然后是属性名称，再列出它应该是可读的和 / 或可写的。</p><p>例如，我们可以规定所有遵循<code>Vehicle</code>协议的类型都必须指定其名称和当前的乘客数量，像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vehicle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> currentPassengers: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> estimateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distance: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> travel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这增加了两个属性：</p><ol><li>一个名为<code>name</code>的字符串，它必须是可读的。这可能意味着它是一个常量，也可能是一个带有 getter 的计算属性。</li><li>一个名为<code>currentPassengers</code>的整数，它必须是可读写的。这可能意味着它是一个变量，也可能是一个带有 getter 和 setter 的计算属性。</li></ol><p>两者都需要类型注解，因为我们不能在协议中提供默认值，就像协议不能为方法提供实现一样。</p><p>有了这两个额外的要求，Swift 会警告我们<code>Car</code>和<code>Bicycle</code>都不再遵循协议，因为它们缺少这些属性。为了修复这个问题，我们可以向<code>Car</code>添加以下属性：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;汽车&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> currentPassengers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>并向<code>Bicycle</code>添加这些属性：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;自行车&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> currentPassengers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>不过，同样，只要你遵守规则，你可以用计算属性来替换它们 —— 如果你使用<code>{ get set }</code>，那么你就不能用常量属性来遵循协议。</p><p>现在我们的协议需要两个方法和两个属性，这意味着所有遵循协议的类型都必须实现这四个东西，我们的代码才能工作。这反过来意味着 Swift 肯定知道这些功能是存在的，所以我们可以编写依赖于它们的代码。</p><p>例如，我们可以编写一个方法，它接受一个交通工具数组，并使用它来计算一系列选项的估计值：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getTravelEstimates</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicles: [Vehicle], </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicles {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> estimate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vehicle.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">estimateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: distance)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(vehicle.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">：行驶</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(distance)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">公里需要</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(estimate)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">小时&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>我希望这能向你展示协议的真正力量 —— 我们接受一个<code>Vehicle</code>协议的数组，这意味着我们可以传入<code>Car</code>、<code>Bicycle</code>或任何其他遵循<code>Vehicle</code>协议的结构体，它会自动工作：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">getTravelEstimates</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [car, bike], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>除了接受协议作为参数外，如有需要，你也可以从函数中返回协议。</p><p><strong>提示：</strong> 你可以根据需要遵循任意多个协议，只需一个接一个地列出它们，用逗号分隔即可。如果你需要继承某个类<em>并且</em>遵循某个协议，你应该先写父类的名称，然后再写协议。</p><h2 id="【可选阅读】swift-为什么需要协议" tabindex="-1">【可选阅读】Swift 为什么需要协议？ <a class="header-anchor" href="#【可选阅读】swift-为什么需要协议" aria-label="Permalink to &quot;【可选阅读】Swift 为什么需要协议？&quot;">​</a></h2><p><em>作者：Paul Hudson 2020 年 5 月 28 日 已针对 Xcode 16.4 更新</em></p><p>协议让我们能够定义结构体、类和枚举应该如何工作：它们应该具有哪些方法，以及应该具有哪些属性。Swift 会为我们强制执行这些规则，因此当我们说某个类型遵循某个协议时，Swift 会确保它拥有该协议所要求的所有方法和属性。</p><p>实际上，协议允许我们以更通用的方式处理数据。因此，我们不必说 “这个 <code>buy()</code> 方法必须接受一个 <code>Book</code> 对象”，而是可以说 “这个方法可以接受任何遵循 <code>Purchaseable</code> 协议的东西。这可能是一本书，但也可能是一部电影、一辆汽车、一些咖啡等等 —— 这使我们的简单方法更具灵活性，同时确保 Swift 为我们执行这些规则。</p><p>用代码来说，我们这个只适用于书籍的简单 <code>buy()</code> 方法会是这样的：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> book: Book) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;I&#39;m buying </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(book.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>为了创建一种更灵活的、基于协议的方法，我们首先要创建一个协议，声明我们需要的基本功能。这可能包含很多方法和属性，但在这里我们只说我们需要一个字符串类型的名称：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Purchaseable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>现在我们可以继续定义任意多个结构体，每个结构体都通过拥有一个字符串类型的名称来遵循该协议：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Purchaseable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> author: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Movie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Purchaseable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> actors: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Purchaseable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> manufacturer: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Coffee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Purchaseable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>你会注意到这些类型中的每一个都有一个未在协议中声明的属性，这没关系 —— 协议规定了最低要求的功能，但我们总是可以添加更多。</p><p>最后，我们可以重写 <code>buy()</code> 函数，使其接受任何类型的 <code>Purchaseable</code> 项目：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item: Purchaseable) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;I&#39;m buying </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(item.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在这个方法内部，我们可以安全地使用项目的 <code>name</code> 属性，因为 Swift 会保证每个 <code>Purchaseable</code> 项目都有一个 <code>name</code> 属性。它<em>不</em>保证我们定义的其他任何属性都会存在，只保证那些在协议中专门声明的属性存在。</p><p>因此，协议让我们能够创建类型如何共享功能的蓝图，然后在我们的函数中使用这些蓝图，让它们能够处理更多种类的数据。</p><h2 id="【练习题】协议" tabindex="-1">【练习题】协议 <a class="header-anchor" href="#【练习题】协议" aria-label="Permalink to &quot;【练习题】协议&quot;">​</a></h2><p>问题 1/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Swimmable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> depth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>问题 2/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Purchaseable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> currency: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>问题 3/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Climbable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gradient: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>问题 4/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Mailable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>问题 5/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Strokeable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fluffiness</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>问题 6/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Learnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> difficulty: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>问题 7/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Washable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dirtinessLevel: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>问题 8/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Knittable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> needleSizes: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>问题 9/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Singable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lyrics: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> notes: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>问题 10/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plantable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requirements: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>问题 11/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Buildable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numberOfBricks: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> materials: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>问题 12/12：这是一个有效的协议吗？—— 是或否？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Liftable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> weight: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> get set</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_13-2-如何使用不透明返回类型" tabindex="-1">13.2 如何使用不透明返回类型 <a class="header-anchor" href="#_13-2-如何使用不透明返回类型" aria-label="Permalink to &quot;13.2 如何使用不透明返回类型&quot;">​</a></h2><p><em>作者：Paul Hudson 2022 年 12 月 27 日 已针对 Xcode 16.4 更新</em></p><p>Swift 提供了一个非常晦涩、非常复杂但又非常<em>重要</em>的特性，叫做不透明返回类型，它可以帮助我们简化代码。说实话，如果不是因为一个非常重要的事实 —— 你在创建第一个 SwiftUI 项目时就会立刻看到它 —— 我不会在初学者课程中介绍它。</p><p><strong>重要提示：</strong> 你不需要详细理解不透明返回类型是如何工作的，只需要知道它们存在并且有特定的用途。在学习的过程中，你可能会开始疑惑这个特性为什么有用，但相信我：它<em>确实</em>很重要，也<em>确实</em>很有用，所以请努力理解下去！</p><p>让我们实现两个简单的函数：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRandomNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRandomBool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>提示：</strong> <code>Bool.random()</code>会返回 true 或 false。与随机整数和小数不同，我们不需要指定任何参数，因为它没有可自定义的选项。</p><p>所以，<code>getRandomNumber()</code>返回一个随机整数，<code>getRandomBool()</code>返回一个随机布尔值。</p><p><code>Int</code>和<code>Bool</code>都遵循 Swift 中的一个通用协议<code>Equatable</code>，这个协议的意思是 “可以进行相等性比较”。<code>Equatable</code>协议让我们能够使用<code>==</code>，就像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">getRandomNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> getRandomNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>因为这两种类型都遵循<code>Equatable</code>，我们可能会尝试修改函数，让它们返回<code>Equatable</code>类型的值，就像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRandomNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Equatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRandomBool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Equatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>然而，这段代码无法运行，Swift 会抛出一个在你 Swift 学习生涯的这个阶段可能没什么帮助的错误信息：“protocol &#39;Equatable&#39; can only be used as a generic constraint because it has Self or associated type requirements”（协议 “Equatable” 只能用作泛型约束，因为它有 Self 或关联类型要求）。Swift 的这个错误意思是返回<code>Equatable</code>是没有意义的，而理解它为什么没有意义是理解不透明返回类型的关键。</p><p>首先：你<em>可以</em>从函数中返回协议，而且这通常是一件非常有用的事情。例如，你可能有一个为用户查找租车的函数：它接受需要承载的乘客数量以及他们想要携带的行李数量，但它可能返回几个结构体中的一个：<code>Compact</code>（紧凑型车）、<code>SUV</code>（运动型多用途车）、<code>Minivan</code>（小型货车）等等。</p><p>我们可以通过返回一个所有这些结构体都遵循的<code>Vehicle</code>（交通工具）协议来处理这种情况，这样调用函数的人会得到某种符合他们要求的车，而我们不必编写 10 个不同的函数来处理所有的车型。这些车型中的每一种都会实现<code>Vehicle</code>的所有方法和属性，这意味着它们是可互换的 —— 从编码的角度来说，我们不在乎得到的是哪一种。</p><p>现在想想返回<code>Int</code>或<code>Bool</code>的情况。是的，它们都遵循<code>Equatable</code>，但它们<em>不是</em>可互换的 —— 我们不能用<code>==</code>来比较一个<code>Int</code>和一个<code>Bool</code>，因为无论它们遵循什么协议，Swift 都不允许这样做。</p><p>从函数中返回协议很有用，因为它让我们可以隐藏信息：我们不用说明返回的确切类型，而是专注于返回的<em>功能</em>。在<code>Vehicle</code>协议的例子中，这可能意味着返回座位数、大致油耗和价格。这意味着我们以后可以修改代码而不会破坏现有的功能：我们可以返回<code>RaceCar</code>（赛车）或<code>PickUpTruck</code>（皮卡车）等等，只要它们实现了<code>Vehicle</code>所需的属性和方法。</p><p>以这种方式隐藏信息非常有用，但对于<code>Equatable</code>来说是不可能的，因为比较两个不同的<code>Equatable</code>类型的对象是行不通的。即使我们两次调用<code>getRandomNumber()</code>得到两个整数，我们也不能比较它们，因为我们隐藏了它们的确切数据类型 —— 我们隐藏了它们是两个实际上可以比较的整数这一事实。</p><p>这就是不透明返回类型的用武之地：它们让我们可以在代码中隐藏信息，但<em>不会</em>对 Swift 编译器隐藏。这意味着我们保留了在内部灵活修改代码的权利，以便将来可以返回不同的内容，但 Swift 始终了解返回的<em>实际</em>数据类型，并会进行相应的检查。</p><p>要将我们的两个函数升级为不透明返回类型，可以在它们的返回类型前添加关键字<code>some</code>，像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRandomNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> some</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Equatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRandomBool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> some</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Equatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>现在我们<em>可以</em>两次调用<code>getRandomNumber()</code>并使用<code>==</code>比较结果了。从我们的角度来看，我们仍然只得到了一些<code>Equatable</code>类型的数据，但 Swift 知道在幕后它们实际上是两个整数。</p><p>返回不透明返回类型意味着我们仍然可以专注于想要返回的功能，而不是具体的类型，这反过来又允许我们在将来改变主意而不会破坏代码的其他部分。例如，<code>getRandomNumber()</code>可以切换到使用<code>Double.random(in:)</code>，代码仍然可以正常工作。</p><p>但这里的优势是 Swift 始终知道真正的底层数据类型。这是一个微妙的区别，返回<code>Vehicle</code>意味着 “任何一种 Vehicle 类型，但我们不知道是什么”，而返回<code>some Vehicle</code>意味着 “一种特定的<code>Vehicle</code>类型，但我们不想说具体是哪一种”。</p><p>我猜看到这里你的头可能已经晕了，所以让我举一个在 SwiftUI 中这一点为什么重要的实际例子。SwiftUI 需要确切地知道你想在屏幕上显示什么样的布局，所以我们编写代码来描述它。</p><p>用通俗的话来说，我们可能会这样描述：“有一个屏幕，顶部有一个工具栏，底部有一个标签栏，中间是一个滚动的颜色图标网格，每个图标下面都有一个标签，用粗体字体写着这个图标的含义，当你点击一个图标时，会出现一条消息。”</p><p>当 SwiftUI 询问我们的布局时，这个描述 —— 整个内容 —— 就成了布局的返回类型。我们需要明确说明我们想在屏幕上显示的每一个细节，包括位置、颜色、字体大小等等。你能想象把这些作为返回类型来输入吗？那会有一英里长！而且每次你修改生成布局的代码时，你都需要修改返回类型以匹配。</p><p>这就是不透明返回类型发挥作用的地方：我们可以返回<code>some View</code>类型，这意味着会返回某种视图屏幕，但我们不想写出它那一英里长的类型。同时，Swift 知道真正的底层类型，因为不透明返回类型就是这样工作的：Swift 始终知道返回的确切数据类型，而 SwiftUI 会利用这一点来创建它的布局。</p><p>就像我在开头说的，不透明返回类型是一个非常晦涩、非常复杂但又非常<em>重要</em>的特性，如果不是因为它们在 SwiftUI 中被广泛使用，我不会在初学者课程中介绍它们。</p><p>所以，当你在 SwiftUI 代码中看到<code>some View</code>时，实际上我们是在告诉 Swift“这将会返回某种用于布局的视图，但我不想写出确切的内容 —— 你自己去弄清楚吧。”</p><h2 id="_13-3-如何创建和使用扩展" tabindex="-1">13.3 如何创建和使用扩展 <a class="header-anchor" href="#_13-3-如何创建和使用扩展" aria-label="Permalink to &quot;13.3 如何创建和使用扩展&quot;">​</a></h2><p><em>作者：Paul Hudson 2022 年 5 月 12 日 已针对 Xcode 16.4 更新</em></p><p>扩展允许我们向任何类型添加功能，无论这个类型是我们自己创建的，还是其他人创建的 —— 甚至是苹果自己的类型。</p><p>为了说明这一点，我想向你介绍字符串上的一个有用方法，叫做 <code>trimmingCharacters(in:)</code>。它可以从字符串的开头或结尾移除某些类型的字符，比如字母数字、十进制数字，或者最常见的空格和换行符。</p><p>空格是空格字符、制表符以及这两种字符的各种变体的统称。换行符是文本中的换行，听起来可能很简单，但实际上当然没有单一的换行方式，所以当我们要求修剪换行符时，它会自动处理所有的变体。</p><p>例如，这里有一个两边都有空格的字符串：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> quote </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;   The truth is rarely pure and never simple   &quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果我们想修剪两边的空格和换行符，可以这样做：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trimmed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> quote.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">trimmingCharacters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .whitespacesAndNewlines)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>.whitespacesAndNewlines</code> 值来自苹果的 Foundation API，实际上 <code>trimmingCharacters(in:)</code> 也是 —— 就像我在本课程一开始说的，Foundation 确实包含了很多有用的代码！</p><p>每次都调用 <code>trimmingCharacters(in:)</code> 有点啰嗦，所以让我们编写一个扩展来简化它：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> trimmed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">trimmingCharacters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .whitespacesAndNewlines)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>让我们来分解一下：</p><ol><li>我们从 <code>extension</code> 关键字开始，它告诉 Swift 我们想要向一个已存在的类型添加功能。</li><li>哪个类型呢？接下来就是：我们想要向 <code>String</code> 添加功能。</li><li>现在我们打开一个大括号，直到最后的闭合大括号之前的所有代码都将被添加到字符串中。</li><li>我们添加了一个名为 <code>trimmed()</code> 的新方法，它返回一个新的字符串。</li><li>在方法内部，我们调用了之前的同一个方法：<code>trimmingCharacters(in:)</code>，并返回其结果。</li><li>注意我们在这里可以使用 <code>self</code>—— 它自动指代当前的字符串。这是可能的，因为我们现在处于字符串扩展中。</li></ol><p>现在，无论在哪里我们想要移除空格和换行符，都可以这样写：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trimmed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> quote.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">trimmed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>简单多了！这节省了一些输入，但它真的比一个普通的函数好很多吗？</p><p>好吧，事实是我们可以写出这样一个函数：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> trim</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    string.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">trimmingCharacters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .whitespacesAndNewlines)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后像这样使用它：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trimmed2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> trim</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(quote)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>无论是创建函数还是使用函数，这都比使用扩展的代码少。这种函数被称为全局函数，因为它在我们的项目中随处可用。</p><p>然而，扩展相比全局函数有很多好处，包括：</p><ol><li>当你输入 <code>quote.</code> 时，Xcode 会显示字符串上的方法列表，包括我们在扩展中添加的所有方法。这使得我们的额外功能很容易找到。</li><li>编写全局函数会使你的代码相当混乱 —— 它们难以组织且难以跟踪。另一方面，扩展自然地按照它们所扩展的数据类型进行分组。</li><li>因为你的扩展方法是原始类型的完整部分，它们可以完全访问该类型的内部数据。例如，它们可以使用标记为 <code>private</code> 访问控制的属性和方法。</li></ol><p>此外，扩展使就地修改值更容易 —— 也就是说，直接更改一个值，而不是返回一个新值。</p><p>例如， earlier 我们编写了一个 <code>trimmed()</code> 方法，它返回一个移除了空格和换行符的新字符串，但如果我们想直接修改字符串，我们可以向扩展中添加这个：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">mutating</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> trim</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">trimmed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>因为 <code>quote</code> 字符串是作为变量创建的，我们可以像这样就地修剪它：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">quote.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">trim</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意现在方法的命名略有不同：当我们返回一个新值时，我们使用 <code>trimmed()</code>，但当我们直接修改字符串时，我们使用 <code>trim()</code>。这是有意为之的，并且是 Swift 设计指南的一部分：如果你返回一个新值而不是就地修改它，你应该使用像 <code>ed</code> 或 <code>ing</code> 这样的词尾，比如 <code>reversed()</code>。</p><p><strong>提示：</strong> 之前我向你介绍了数组上的 <code>sorted()</code> 方法。现在你知道了这个规则，你应该意识到，如果你创建了一个可变数组，你可以使用 <code>sort()</code> 来就地排序数组，而不是返回一个新的副本。</p><p>你也可以使用扩展向类型添加属性，但有一个规则：它们只能是计算属性，而不是存储属性。原因是添加新的存储属性会影响数据类型的实际大小 —— 如果我们向整数添加一堆存储属性，那么到处的每个整数都需要在内存中占用更多空间，这会导致各种各样的问题。</p><p>幸运的是，我们仍然可以使用计算属性完成很多工作。例如，我喜欢向字符串添加的一个属性叫做 <code>lines</code>，它将字符串分解为单行的数组。这包装了另一个字符串方法 <code>components(separatedBy:)</code>，该方法通过在我们选择的边界上拆分字符串，将字符串分解为字符串数组。在这种情况下，我们希望边界是换行符，所以我们会向字符串扩展中添加这个：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lines: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">components</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">separatedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .newlines)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>有了这个，我们现在可以读取任何字符串的 <code>lines</code> 属性，如下所示：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lyrics </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">But I keep cruising</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Can&#39;t stop, won&#39;t stop moving</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">It&#39;s like I got this music in my mind</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Saying it&#39;s gonna be alright</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lyrics.lines.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>无论是单行还是复杂的功能片段，扩展的目标始终是：使你的代码更易于编写、更易于阅读，并且长期更易于维护。</p><p>在我们结束之前，我想向你展示一个在使用扩展时非常有用的技巧。你之前已经看到 Swift 如何为结构体自动生成一个成员初始化器，像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> title: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pageCount: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> readingHours: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lotr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Lord of the Rings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pageCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1178</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">readingHours</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>我还提到过，创建自己的初始化器意味着 Swift 将不再为我们提供成员初始化器。这是有意的，因为自定义初始化器意味着我们希望基于一些自定义逻辑来分配数据，像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> title: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pageCount: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> readingHours: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pageCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.title </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> title</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.pageCount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pageCount</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.readingHours </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pageCount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如果在这种情况下 Swift 保留成员初始化器，它会跳过我们计算大致阅读时间的逻辑。</p><p>然而，有时你两者都想要 —— 你想要能够使用自定义初始化器，同时保留 Swift 自动的成员初始化器。在这种情况下，了解 Swift 到底在做什么是值得的：如果我们在结构体内部实现一个自定义初始化器，那么 Swift 会禁用自动的成员初始化器。</p><p>这个额外的小细节可能会给你一个关于接下来要发生什么的提示：如果我们在扩展内部实现一个自定义初始化器，那么 Swift 不会禁用自动的成员初始化器。如果你仔细想想，这是有道理的：如果在扩展中添加一个新的初始化器也会禁用默认初始化器，那么我们的一个小改动可能会破坏各种各样的其他 Swift 代码。</p><p>所以，如果我们希望我们的 <code>Book</code> 结构体既有默认的成员初始化器，又有我们的自定义初始化器，我们会把自定义的初始化器放在扩展中，像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pageCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.title </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> title</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.pageCount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pageCount</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.readingHours </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pageCount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="【可选阅读】什么时候应该在-swift-中使用扩展" tabindex="-1">【可选阅读】什么时候应该在 Swift 中使用扩展？ <a class="header-anchor" href="#【可选阅读】什么时候应该在-swift-中使用扩展" aria-label="Permalink to &quot;【可选阅读】什么时候应该在 Swift 中使用扩展？&quot;">​</a></h2><p><em>作者：Paul Hudson 2020 年 5 月 28 日 已针对 Xcode 16.4 更新</em></p><p>扩展允许我们向类、结构体等添加功能，这对于修改我们不拥有的类型很有帮助 —— 例如，那些由苹果或其他人编写的类型。使用扩展添加的方法与最初属于该类型的方法难以区分，但对于属性来说有所不同：扩展可能不会添加新的存储属性，只能添加计算属性。</p><p>扩展对于组织我们自己的代码也很有用，虽然有几种方法可以做到这一点，但这里我想重点关注两个：一致性分组和目的分组。</p><p>一致性分组意味着将协议一致性添加到作为扩展的类型中，在该扩展内部添加所有必需的方法。这使得开发人员在阅读扩展时更容易理解需要记住多少代码 —— 如果当前扩展添加了对 <code>Printable</code> 的支持，他们不会发现打印方法与来自其他不相关协议的方法混合在一起。</p><p>另一方面，目的分组意味着创建扩展来执行特定任务，这使得处理大型类型更容易。例如，你可能有一个专门用于处理该类型的加载和保存的扩展。</p><p>值得在此补充的是，许多人意识到他们有一个大型类，并试图通过将其拆分为扩展来使其变小。需要明确的是：该类型的大小与以前完全相同，只是被整齐地拆分了。这确实意味着它可能更容易理解，但并不意味着这个类变小了。</p><h2 id="【练习题】扩展" tabindex="-1">【练习题】扩展 <a class="header-anchor" href="#【练习题】扩展" aria-label="Permalink to &quot;【练习题】扩展&quot;">​</a></h2><p>问题 1/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isNegative: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>问题 2/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isEven</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isMultiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>问题 3/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> other: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> other</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>问题 4/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	times</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		for</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">..&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>问题 5/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ext </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> summarize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;The array has </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(count)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> items. They are:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题 6/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isAnswerToLifeUniverseAndEverything: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> target </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 42</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> target</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>问题 7/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> toggled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>问题 8/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cubed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>问题 9/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> clamped</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> max) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> max</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> min) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> min</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>问题 10/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isLong: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 25</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>问题 11/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> withPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prefix: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">hasPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)\(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>问题 12/12：这段代码是一个有效的扩展 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isUppercased</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uppercased</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_13-4-如何创建和使用协议扩展" tabindex="-1">13.4 如何创建和使用协议扩展 <a class="header-anchor" href="#_13-4-如何创建和使用协议扩展" aria-label="Permalink to &quot;13.4 如何创建和使用协议扩展&quot;">​</a></h2><p><em>作者：Paul Hudson 2021 年 10 月 27 日 已针对 Xcode 16.4 更新</em></p><p>协议让我们能够定义遵循协议的类型必须遵守的契约，而扩展让我们可以向现有类型添加功能。但如果我们能对<em>协议</em>编写扩展，会发生什么呢？</p><p>别再好奇了，因为 Swift 恰好支持这种功能，它被恰当地命名为<em>协议扩展</em>：我们可以扩展整个协议来添加方法实现，这意味着任何遵循该协议的类型都能获得这些方法。</p><p>让我们从一个简单的例子开始。编写条件来检查数组是否有值是很常见的，就像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guests </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;马里奥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;路易吉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;碧琪&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guests.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isEmpty</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;客人数量：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(guests.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">count</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>有些人喜欢使用布尔值 <code>!</code> 运算符，像这样：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">guests.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isEmpty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;客人数量：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(guests.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">count</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我其实不太喜欢这两种方法，因为它们读起来不自然 ——“如果不是某个数组为空”？</p><p>我们可以通过一个非常简单的 <code>Array</code> 扩展来解决这个问题，如下所示：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isNotEmpty: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isEmpty </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>提示：</strong> Xcode 的 playground 是从上到下运行代码的，所以要确保把这个扩展放在使用它的地方之前。</p><p>现在我们可以写出我认为更容易理解的代码：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guests.isNotEmpty {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;客人数量：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(guests.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">count</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>但我们可以做得更好。你看，我们只是给数组添加了 <code>isNotEmpty</code>，但集合（set）和字典（dictionary）呢？当然，我们可以重复劳动，把代码复制到这些类型的扩展中，但有一个更好的解决方案：<code>Array</code>、<code>Set</code> 和 <code>Dictionary</code> 都遵循一个内置的协议 <code>Collection</code>，通过这个协议它们获得了诸如 <code>contains()</code>、<code>sorted()</code>、<code>reversed()</code> 等功能。</p><p>这一点很重要，因为 <code>Collection</code> 也要求必须存在 <code>isEmpty</code> 属性。所以，如果我们对 <code>Collection</code> 编写一个扩展，我们仍然可以访问 <code>isEmpty</code>，因为它是必需的。这意味着我们可以在代码中将 <code>Array</code> 改为 <code>Collection</code>，得到这样的结果：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Collection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isNotEmpty: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isEmpty </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>只需这一个单词的改动，我们现在就可以在数组、集合、字典以及任何其他遵循 <code>Collection</code> 协议的类型上使用 <code>isNotEmpty</code> 了。信不信由你，这个小小的扩展存在于成千上万的 Swift 项目中，因为很多人都觉得它更容易阅读。</p><p>更重要的是，通过扩展协议，我们添加的功能原本需要在各个结构体内部实现。这非常强大，也催生了苹果称之为<em>面向协议编程</em>的技术 —— 我们可以在协议中列出一些必需的方法，然后在协议扩展中添加这些方法的默认实现。所有遵循该协议的类型都可以使用这些默认实现，或者根据需要提供自己的实现。</p><p>例如，如果我们有这样一个协议：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这意味着所有遵循该协议的类型都必须添加 <code>sayHello()</code> 方法，但我们也可以像这样通过扩展添加该方法的默认实现：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;嗨，我是</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(name)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>现在，遵循该协议的类型<em>可以</em>根据需要添加自己的 <code>sayHello()</code> 方法，但也不是必须的 —— 它们随时可以依赖我们在协议扩展中提供的那个方法。</p><p>因此，我们可以创建一个没有 <code>sayHello()</code> 方法的员工：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Person </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>但因为它遵循 <code>Person</code> 协议，我们可以使用我们在扩展中提供的默认实现：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> taylor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;泰勒·斯威夫特&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">taylor.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">sayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Swift 大量使用协议扩展，但说实话，你暂时不需要非常深入地理解它们 —— 即使不使用协议扩展，你也能构建出很棒的应用程序。到这里，你知道它们的存在就足够了！</p><h2 id="【可选阅读】在-swift-中协议扩展何时有用" tabindex="-1">【可选阅读】在 Swift 中协议扩展何时有用？ <a class="header-anchor" href="#【可选阅读】在-swift-中协议扩展何时有用" aria-label="Permalink to &quot;【可选阅读】在 Swift 中协议扩展何时有用？&quot;">​</a></h2><p><em>作者：Paul Hudson 2020 年 5 月 28 日 已针对 Xcode 16.4 更新</em></p><p>协议扩展在 Swift 中随处可见，这就是为什么 Swift 经常被描述为 “面向协议的编程语言”。我们用它们直接向协议添加功能，这意味着我们不需要在许多结构体和类中重复添加这些功能。</p><p>例如，Swift 的数组有一个 <code>allSatisfy()</code> 方法，如果数组中的所有元素都通过某个测试，该方法就返回 true。所以，我们可以创建一个数字数组，并检查它们是否都是偶数：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> allEven </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">allSatisfy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isMultiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这真的很有用，但如果它也能在集合上工作，不是更有用吗？当然是，这也是它能在集合上使用的原因：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> allEven2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers2.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">allSatisfy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isMultiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>其基本原理是相同的：将数组或集合中的每个元素传入你提供的测试中，如果所有元素都返回 true，那么该方法的结果就是 true。</p><p>那字典呢 —— 它们也能使用这个方法吗？当然可以，而且工作方式相同：每个键值对都会传入闭包，你需要返回 true 或 false。看起来是这样的：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;four&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eight&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fifteen&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sixteen&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> allEven3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers3.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">allSatisfy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isMultiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当然，Swift 的开发者们不想一遍又一遍地编写相同的代码，所以他们使用了协议扩展：他们编写了一个单独的 <code>allSatisfy()</code> 方法，该方法适用于一个名为 <code>Sequence</code> 的协议，所有的数组、集合和字典都遵循这个协议。这意味着 <code>allSatisfy()</code> 方法立即就能在所有这些类型上使用，并且共享完全相同的代码。</p><h2 id="【练习题】协议扩展" tabindex="-1">【练习题】协议扩展 <a class="header-anchor" href="#【练习题】协议扩展" aria-label="Permalink to &quot;【练习题】协议扩展&quot;">​</a></h2><p>问题 1/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DogTrainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> train</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-style:italic;--shiki-dark:#79B8FF;--shiki-dark-font-style:italic;">		print</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">(</span><span style="--shiki-light:#032F62;--shiki-light-font-style:italic;--shiki-dark:#9ECBFF;--shiki-dark-font-style:italic;">&quot;我们很快就能让</span><span style="--shiki-light:#032F62;--shiki-light-font-style:italic;--shiki-dark:#9ECBFF;--shiki-dark-font-style:italic;">\(dog)</span><span style="--shiki-light:#032F62;--shiki-light-font-style:italic;--shiki-dark:#9ECBFF;--shiki-dark-font-style:italic;">听话！&quot;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">)</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>问题 2/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Chef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRecipes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Chief</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRecipes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;通心粉奶酪&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题 3/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SmartPhone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> makeCall</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(to name { get set })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SmartPhone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> makeCall</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;正在拨打</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(name)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">……&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题 4/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Politician</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isDirty: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> takeBribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Politician</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> takeBribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isDirty {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;非常感谢！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;快叫警察！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>问题 5/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Anime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> availableLanguages: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> language: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Anime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> language: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> availableLanguages.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">contains</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(language) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;现在以</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(language)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">语言播放&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;无法识别的语言。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>问题 6/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Club</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> organizeMeeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">day</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Club</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	override</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> organizeMeeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">day</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;我们将在</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(day)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">举行会议。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题 7/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SuperHeroMovie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> writeScript</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SuperHeroMovie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> makeScript</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		大量的特效，</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		一些蹩脚的笑话，</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		以及结尾处对另一部续集的暗示。</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>问题 8/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Mammal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Mammal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;该吃晚饭了！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题 9/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bartender</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> makeDrink</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bartender</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> makeDrink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;一杯</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(name)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">马上来。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题 10/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Hamster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> runInWheel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">minutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Hamster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> runInWheel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">minutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(name)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">要去跑步了。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		for</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">..&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">minutes {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;呼呼呼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>问题 11/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Starship</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> transport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Starship</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> transport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(number)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">人准备传送——能量启动！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题 12/12：这个扩展正确地实现了其协议中的一个方法 —— 对还是错？</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protocol</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Fencer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fenceFoil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Fencer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fenceFoil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;准备！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_13-5-总结-协议和扩展" tabindex="-1">13.5 总结：协议和扩展 <a class="header-anchor" href="#_13-5-总结-协议和扩展" aria-label="Permalink to &quot;13.5 总结：协议和扩展&quot;">​</a></h2><p><em>作者：Paul Hudson 2021 年 10 月 12 日 已针对 Xcode 16.4 更新</em></p><p>在这些章节中，我们介绍了 Swift 的一些复杂但强大的特性。如果你觉得有些吃力，也不用难过 —— 这些特性一开始确实很难掌握，只有当你有时间在自己的代码中尝试使用它们之后，才能真正理解。</p><p>让我们回顾一下所学的内容：</p><ul><li>协议就像是代码的契约：我们指定所需的函数和方法，遵循协议的类型必须实现它们。</li><li>不透明返回类型让我们可以隐藏代码中的一些信息。这可能意味着我们希望保留未来修改的灵活性，同时也意味着我们不需要写出冗长的返回类型。</li><li>扩展让我们可以为自己的自定义类型或 Swift 的内置类型添加功能。这可能包括添加方法，我们也可以添加计算属性。</li><li>协议扩展让我们可以一次性为多种类型添加功能 —— 我们可以为协议添加属性和方法，所有遵循该协议的类型都能使用这些功能。</li></ul><p>归根结底，这些特性看似简单，实则不然。你需要了解它们，知道它们的存在，但在继续学习的过程中，只需对它们有初步的使用即可。</p><h2 id="_13-6-检查点-8" tabindex="-1">13.6 检查点 8 <a class="header-anchor" href="#_13-6-检查点-8" aria-label="Permalink to &quot;13.6 检查点 8&quot;">​</a></h2><p><em>作者：Paul Hudson 2021 年 10 月 15 日 已针对 Xcode 16.4 更新</em></p><p>既然你已经理解了协议和扩展的工作原理，现在是时候暂停学习，接受一个挑战，以便将所学知识付诸实践了。</p><p>你的挑战是：创建一个描述建筑物的协议，添加各种属性和方法，然后创建两个结构体<code>House</code>（房屋）和<code>Office</code>（办公室）来遵循这个协议。你的协议需要包含以下内容：</p><ol><li>一个存储房间数量的属性。</li><li>一个存储成本的整数属性（例如，500000 表示该建筑物价值 500000 美元）。</li><li>一个存储负责销售该建筑物的房地产经纪人姓名的属性。</li><li>一个打印建筑物销售摘要的方法，描述该建筑物是什么以及它的其他属性。</li></ol><p>过一会儿我会提供一些提示，但首先建议你自己先尝试一下。</p><p>还在看吗？好吧，这里有一些提示：</p><ol><li>在编写任何结构体之前，先完整地设计协议。</li><li>记住，你不能在协议中提供方法的实现。</li><li>你可以决定你的属性是只读的还是既有 getter 又有 setter。例如，房间数量可能是固定的，但也许你还需要考虑到有人会对其进行扩展。</li><li>你可以使用<code>{ get }</code>或<code>{ get set }</code>来控制属性的读写状态。</li></ol><p>**补充：**如果你有更多时间，想进一步探索这个主题，我为你准备了一个额外的教程：《如何充分利用协议扩展》。这完全是可选的，而且肯定超出了 Swift 初学者的范围 —— 你<em>不需要</em>为了继续学习而必须学习这个教程。</p><h2 id="_13-7-扩展阅读-如何充分利用协议扩展" tabindex="-1">13.7 扩展阅读：如何充分利用协议扩展 <a class="header-anchor" href="#_13-7-扩展阅读-如何充分利用协议扩展" aria-label="Permalink to &quot;13.7 扩展阅读：如何充分利用协议扩展&quot;">​</a></h2><p><em>作者：Paul Hudson 2022 年 5 月 12 日 已针对 Xcode 16.4 更新</em></p><p>协议扩展是 Swift 中的一项强大功能，你已经掌握了足够的知识，可以在自己的应用程序中使用它们。不过，如果你有好奇心并且有时间的话，我们可以稍微偏离一下主题，进一步探索它们。</p><p><strong>注意：</strong> 这绝对已经超出了 Swift 初学者的水平，所以请不要有任何继续学习的压力 —— 你随时都可以跳到下一章！</p><p>让我们再尝试一个协议扩展，这次会稍微复杂一点。首先，我们将它作为 <code>Int</code> 的一个简单扩展来编写：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> squared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wholeNumber </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wholeNumber.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">squared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这添加了一个 <code>squared()</code> 方法，该方法将数字自身相乘得到平方，因此上面的代码将打印 25。</p><p>如果我们想在 <code>Double</code> 上也有同样的方法，又不想直接复制代码，我们可以遵循处理 <code>Collection</code> 时使用的相同模式：找到 <code>Int</code> 和 <code>Double</code> 都遵循的协议，然后扩展该协议。</p><p>这两种类型都遵循 <code>Numeric</code> 协议，因为它们都是数字，所以我们可以尝试扩展它：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Numeric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> squared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>然而，这段代码不再有效，因为 <code>self * self</code> 现在可以是任何类型的数字，包括 <code>Double</code>，而如果将一个 <code>Double</code> 乘以另一个 <code>Double</code>，得到的结果肯定不是 <code>Int</code>。</p><p>为了解决这个问题，我们可以使用 <code>Self</code> 关键字 —— 在讨论引用静态属性和方法时我简要介绍过它，因为它允许我们引用当前的数据类型。它在这里很有用，因为它表示 “调用该方法的具体遵循类型”，代码如下：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Numeric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> squared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>请记住，<code>self</code> 和 <code>Self</code> 含义不同：<code>self</code> 指的是当前值，而 <code>Self</code> 指的是当前<em>类型</em>。因此，如果我们有一个值为 5 的整数，我们的 <code>squared()</code> 函数实际上会像这样工作：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> squared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在这里，<code>Self</code> 实际上是 <code>Int</code>，而 <code>self</code> 实际上是 5。或者，如果我们有一个值为 3.141 的小数，<code>squared()</code> 会像这样工作：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> squared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    3.141</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.141</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果你还在看，我想可以肯定地说你想更深入地探索协议扩展，我又怎能让你失望呢？不过，这绝对只适合非常好奇的人 —— 要开始使用 SwiftUI 构建应用程序，你真的不需要知道以下内容。</p><p>让我们从一个名为 <code>Equatable</code> 的内置协议开始，Swift 用它来使用 <code>==</code> 和 <code>!=</code> 比较两个对象。</p><p>我们可以像这样让我们的 <code>User</code> 结构体遵循 <code>Equatable</code>：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Equatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>现在我们可以比较两个用户：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Link&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Zelda&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>我们不需要做任何特殊的工作，因为 Swift 可以为我们实现 <code>Equatable</code> 遵循 —— 它会将一个对象的所有属性与另一个对象的相同属性进行比较。</p><p>我们可以更进一步：Swift 有一个名为 <code>Comparable</code> 的协议，它允许 Swift 确定一个对象是否应该在另一个对象之前排序。Swift 不能自动在我们的自定义类型中实现这一点，但这并不难：你需要编写一个名为 <code>&lt;</code> 的函数，它接受你的结构体的两个实例作为参数，如果第一个实例应该在第二个实例之前排序，则返回 true。</p><p>所以，我们可以这样写：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Equatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Comparable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lhs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: User, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rhs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: User) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lhs.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rhs.name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>提示：</strong> 随着你对 Swift 了解的深入，你会发现 <code>&lt;</code> 函数可以实现为一个<em>静态</em>函数，这有助于使你的代码更有条理。</p><p>我们的代码足以让我们创建两个 <code>User</code> 实例，并使用 <code>&lt;</code> 来比较它们，如下所示：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Taylor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Adele&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这很巧妙，但真正聪明的是，Swift 使用协议扩展使以下代码也能工作：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这段代码之所以可行，是因为 <code>Equatable</code> 让我们知道 <code>user1</code> 是否等于 <code>user2</code>，而 <code>Comparable</code> 让我们知道 <code>user1</code> 是否应该在 <code>user2</code> 之前排序，有了这两个信息，Swift 就可以自动计算出其余的比较结果。</p><p>更好的是，我们甚至不需要为结构体添加 <code>Equatable</code> 就能使用 <code>==</code>。这样就足够了：</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Comparable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在幕后，Swift 使用<em>协议继承</em>，因此 <code>Comparable</code> 自动也意味着遵循 <code>Equatable</code>。这与类继承类似，所以当 <code>Comparable</code> 继承自 <code>Equatable</code> 时，它也继承了其所有要求。</p><p>无论如何，这已经是一个很大的题外话了 —— 如果这让你有点头晕，别担心，这只是出于好奇，当你在 Swift 学习之路上走得更远时，你会更明白的！</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/100days/%E7%AC%AC12%E5%A4%A9_%E7%B1%BB%E3%80%81%E7%BB%A7%E6%89%BF.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>上一篇</span><span class="title" data-v-1bcd8184>第12天 类、继承</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/100days/%E7%AC%AC14%E5%A4%A9_%E5%8F%AF%E9%80%89%E7%B1%BB%E5%9E%8B%E3%80%81%E7%A9%BA%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>下一篇</span><span class="title" data-v-1bcd8184>第14天 可选类型、空合运算符</span><!--]--></a></div></nav></footer><!--[--><!--[--><!--[--><div class="giscus-wrapper" data-v-db2c7664><div class="giscus" data-v-db2c7664></div></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>本站使用 <a href="https://vitepress.vuejs.org/" target="_blank" style="color: #47caff;">VitePress</a> 制作</p><p class="copyright" data-v-566314d4>版权所有 © 2025 SwiftUIX</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"100days_index.md\":\"BmmLmpfo\",\"100days_【课前阅读】如何成为一名ios开发者.md\":\"Dcs7pkil\",\"100days_第01天_变量、常量、字符串和数字.md\":\"Dg9xfSTl\",\"100days_第02天_布尔值、字符串插值.md\":\"CYS1iKsV\",\"100days_第03天_数组、字典、集合和枚举.md\":\"BYbZiyI6\",\"100days_第04天_类型注解.md\":\"Bp7dPTlU\",\"100days_第05天_条件语句、switch语句和三元运算符.md\":\"BGbXnfCc\",\"100days_第06天_循环.md\":\"DudpzMWi\",\"100days_第07天_函数、参数和返回值.md\":\"BF1thK8V\",\"100days_第08天_默认值、抛出异常.md\":\"BdzyOuse\",\"100days_第09天_闭包、函数作为参数.md\":\"CtJSqpRX\",\"100days_第100天_期末考试.md\":\"CgIJQbTX\",\"100days_第10天_结构体、计算属性和属性观察者.md\":\"BecguL56\",\"100days_第11天_访问控制、静态属性和方法.md\":\"BVboHuoa\",\"100days_第12天_类、继承.md\":\"DezGZSZw\",\"100days_第13天_协议、扩展.md\":\"BkOpjsOG\",\"100days_第14天_可选类型、空合运算符.md\":\"USPLmhDI\",\"100days_第15天_复习：一小时掌握swift核心知识.md\":\"D-PDl_xA\",\"100days_第16天_swiftui项目1_第一部分.md\":\"CviZpL93\",\"100days_第17天_swiftui项目1_第二部分.md\":\"CScs5iLV\",\"100days_第18天_swiftui项目1_第三部分.md\":\"Gvsb8rpY\",\"100days_第19天_挑战日.md\":\"CcRxaA3F\",\"100days_第20天_项目2_第一部分.md\":\"CSFtHACe\",\"100days_第21天_项目2_第二部分.md\":\"C2nuMB9t\",\"100days_第22天_项目2_第三部分.md\":\"Dx9pj8D0\",\"100days_第23天_项目3_第一部分.md\":\"Dg2MB9B_\",\"100days_第24天_项目3_第二部分.md\":\"CDL06A_6\",\"100days_第25天_复习2.md\":\"Dp2DzU5n\",\"100days_第26天_项目4第一部分.md\":\"DGlbUANz\",\"100days_第27天_项目4第二部分.md\":\"ClYDgPtt\",\"100days_第28天_项目4第三部分.md\":\"C6TKzgm3\",\"100days_第29天_项目5第一部分.md\":\"D_MDJeEJ\",\"100days_第30天_项目5第二部分.md\":\"DpcvZiA4\",\"100days_第31天_项目5第三部分.md\":\"D8E6fdLx\",\"100days_第32天_项目6第一部分.md\":\"DabJB4Wu\",\"100days_第33天_项目6第二部分.md\":\"Dbz99Tbi\",\"100days_第34天_项目6第三部分.md\":\"BAKNxQHH\",\"100days_第35天_复习3.md\":\"DaqRAuze\",\"100days_第36天_项目7_第一部分.md\":\"DSIaxWV9\",\"100days_第37天_项目7_第二部分.md\":\"BlGnJJYJ\",\"100days_第38天_项目7_第三部分.md\":\"DO4QTM3o\",\"100days_第39天_项目8_第一部分.md\":\"ekwNGjz6\",\"100days_第40天_项目8_第二部分.md\":\"Bj-z-T-Y\",\"100days_第41天_项目8_第三部分.md\":\"DSTrFPy9\",\"100days_第42天_项目8_第四部分.md\":\"CKWCuX1m\",\"100days_第43天_项目9_第一部分.md\":\"C83xBDz-\",\"100days_第44天_项目9_第二部分.md\":\"C3Jze7UH\",\"100days_第45天_项目9_第三部分.md\":\"BOeR84vh\",\"100days_第46天_项目9_第四部分.md\":\"EzRBmMIo\",\"100days_第47天_里程碑_项目7-9.md\":\"ChoQ2OUC\",\"100days_第48天_拓展你的视野.md\":\"DHGXd404\",\"100days_第49天_项目10_第一部分.md\":\"UNeD7fN3\",\"100days_第50天_项目10_第二部分.md\":\"Dc8O7tso\",\"100days_第51天_项目10_第三部分.md\":\"RcaL9eih\",\"100days_第52天_项目10_第四部分.md\":\"BEET660a\",\"100days_第53天_项目11_第一部分.md\":\"BTwitYyo\",\"100days_第54天_项目11_第二部分.md\":\"CZJ7IAnv\",\"100days_第55天_项目11_第三部分.md\":\"XK3phxey\",\"100days_第56天_项目11_第四部分.md\":\"DZI16XFD\",\"100days_第57天_项目12_第一部分.md\":\"DkYpurzq\",\"100days_第58天_项目12_第二部分.md\":\"CrQdmE18\",\"100days_第59天_项目12_第三部分.md\":\"DXDrPFcg\",\"100days_第60天_里程碑：项目10-12.md\":\"BEgz0e4W\",\"100days_第61天_swiftdata时间.md\":\"BzQn6JVU\",\"100days_第62天_项目13_第一部分.md\":\"B4QDQ3QZ\",\"100days_第63天_项目13_第二部分.md\":\"BpM2MjdL\",\"100days_第64天_项目13_第三部分.md\":\"B4OaKSBP\",\"100days_第65天_项目13_第四部分.md\":\"CH7xMTnx\",\"100days_第66天_项目13_第五部分.md\":\"CdpuERQw\",\"100days_第67天_项目13_第六部分.md\":\"DqISS_w3\",\"100days_第68天_项目14_第一部分.md\":\"eNpcKahn\",\"100days_第69天_项目14_第二部分.md\":\"CEdOTl-M\",\"100days_第70天_项目14_第三部分.md\":\"Bn_-VI1I\",\"100days_第71天_项目14_第四部分.md\":\"CKw5mNZb\",\"100days_第72天_项目14_第五部分.md\":\"DmlFDs-K\",\"100days_第73天_项目14_第六部分.md\":\"DobPYEaU\",\"100days_第74天_项目15_第一部分.md\":\"BPdmpbQb\",\"100days_第75天_项目15_第二部分.md\":\"CTV0dRTs\",\"100days_第76天_项目15_第三部分.md\":\"Bl5Tfx9L\",\"100days_第77天_里程碑_项目13-15.md\":\"f6i5s8HU\",\"100days_第78天_mapkit时间.md\":\"CIN5Ad8i\",\"100days_第79天_项目16_第一部分.md\":\"DFfuVBod\",\"100days_第80天_项目16_第二部分.md\":\"DYZ9yPKX\",\"100days_第81天_项目16_第三部分.md\":\"DBCEZUHP\",\"100days_第82天_项目16_第四部分.md\":\"BdqEBzot\",\"100days_第83天_项目16_第五部分.md\":\"CW3ElVwS\",\"100days_第84天_项目16_第六部分.md\":\"4UnnNnJM\",\"100days_第85天_项目16_第七部分.md\":\"CjsrHzfJ\",\"100days_第86天_项目17_第一部分.md\":\"CS3cpSvM\",\"100days_第87天_项目17_第二部分.md\":\"vZ47tSj5\",\"100days_第88天_项目17_第三部分.md\":\"DmBcUTFc\",\"100days_第89天_项目17_第四部分.md\":\"C0QloJgC\",\"100days_第90天_项目17_第五部分.md\":\"CwhF1aTR\",\"100days_第91天_项目17_第六部分.md\":\"FuGTe7CP\",\"100days_第92天_项目18_第一部分.md\":\"CIraK2Yb\",\"100days_第93天_项目18_第二部分.md\":\"BFjYHSrN\",\"100days_第94天_项目18_第三部分.md\":\"CLDYVCvJ\",\"100days_第95天_里程碑_项目16-18.md\":\"FNNbqhVp\",\"100days_第96天_项目19_第一部分.md\":\"GakIWOgv\",\"100days_第97天_项目19_第二部分.md\":\"0EU9_f2w\",\"100days_第98天_项目19_第三部分.md\":\"CJc_-T15\",\"100days_第99天_项目19_第四部分.md\":\"ByxMpJO6\",\"about_index.md\":\"3WxWfUMJ\",\"advanced_1.1_理解 geometryreader 的工作原理.md\":\"KDbXLe8D\",\"advanced_1.2_获取视图的尺寸和位置.md\":\"Di1OramO\",\"advanced_1.3_处理不同坐标空间 (local_ global_ named).md\":\"-wxQFwzc\",\"advanced_1.4_geometryreader 的性能陷阱与优化.md\":\"CkpBugmf\",\"advanced_1.5_创建响应式和自适应布局.md\":\"BDwaUbH5\",\"advanced_1.6_实现滚动视差效果.md\":\"CYV2b8DY\",\"advanced_10.1_使用 instruments 分析 swiftui 性能.md\":\"Cr6ikHbR\",\"advanced_10.2_识别并解决视图重复计算问题.md\":\"BGwO0UoM\",\"advanced_10.3_理解 'identity' 对性能和动画的影响.md\":\"Bv8H4uZw\",\"advanced_10.4_使用 equatableview 减少不必要的刷新.md\":\"qAo911Xw\",\"advanced_10.5_懒加载视图 (lazyvstack_ lazyhstack) 的优化技巧.md\":\"VKj7siNV\",\"advanced_11.1_使用 matchedgeometryeffect 实现英雄动画.md\":\"BgbUhSby\",\"advanced_11.2_创建自定义 animatable 协议动画.md\":\"CnjhTWt1\",\"advanced_11.3_利用 animatablepair 为多值添加动画.md\":\"Rz1EAYbn\",\"advanced_11.4_实现自定义视图转场 (anytransition).md\":\"BoFgMa0g\",\"advanced_11.5_组合与异步化转场效果.md\":\"C7Edsf01\",\"advanced_11.6_使用 phaseanimator 创建多阶段动画 (ios 17_).md\":\"DaqX4q38\",\"advanced_11.7_使用 keyframeanimator 创建关键帧动画 (ios 17_).md\":\"Bkr1CJof\",\"advanced_12.1_实现 uiviewrepresentable 协议.md\":\"BrzcTKKx\",\"advanced_12.2_实现 uiviewcontrollerrepresentable 协议.md\":\"CBd5U7zA\",\"advanced_12.3_使用 coordinator 处理代理和回调.md\":\"i1OgOBhv\",\"advanced_12.4_管理 representable 视图的生命周期.md\":\"DbiCLKUo\",\"advanced_12.5_在 swiftui 中嵌入 wkwebview.md\":\"BhWvTAm2\",\"advanced_13.1_使用 uihostingcontroller 嵌入 swiftui 视图.md\":\"LYTHT7Xh\",\"advanced_13.2_在 uitableviewcell 中使用 swiftui.md\":\"DC-_DYmv\",\"advanced_13.3_管理 swiftui 视图的尺寸和布局.md\":\"DMOyyHdN\",\"advanced_13.4_实现 uikit 与 swiftui 之间的数据通信.md\":\"FK5ZffMJ\",\"advanced_2.1_定义自定义 preferencekey.md\":\"DfHVEMOd\",\"advanced_2.2_使用 .preference(key-value-) 设置值.md\":\"DQ35UwtK\",\"advanced_2.3_使用 .onpreferencechange() 监听变化.md\":\"B9-Td1Hb\",\"advanced_2.4_使用 .background() 读取 preference 值.md\":\"rb3RcswG\",\"advanced_2.5_通过 preferencekey 同步子视图尺寸.md\":\"Cbw5xEcZ\",\"advanced_2.6_实现动态导航栏标题效果.md\":\"Bxt7vre6\",\"advanced_3.1_理解 layout 协议的核心方法.md\":\"UEBpraET\",\"advanced_3.2_实现 sizethatfits 方法计算容器大小.md\":\"CR4125rh\",\"advanced_3.3_实现 placesubviews 方法放置子视图.md\":\"Doyhdqzz\",\"advanced_3.4_创建自定义流式布局 (flow layout).md\":\"rBhKOMtL\",\"advanced_3.5_创建自定义径向布局 (radial layout).md\":\"Cy4o44sE\",\"advanced_3.6_管理布局缓存以提高性能.md\":\"hbvtgsAi\",\"advanced_3.7_为自定义布局添加动画.md\":\"BUmxNgiF\",\"advanced_4.1_理解 _anchor_value__ 的概念.md\":\"C9H1-OL3\",\"advanced_4.2_使用 .anchorpreference 传递锚点.md\":\"BBLYrvZR\",\"advanced_4.3_使用 geometryreader 读取锚点信息.md\":\"BYyNpxoC\",\"advanced_4.4_在不同视图间创建精确对齐线.md\":\"ngZcqrIh\",\"advanced_4.5_实现复杂的视图连接效果.md\":\"Ctk2mtg0\",\"advanced_5.1_辨析 @stateobject 和 @observedobject 的生命周期.md\":\"D6_B1Yuh\",\"advanced_5.2_选择正确包装器的场景分析.md\":\"DlWX2OHz\",\"advanced_5.3_避免 @observedobject 的常见陷阱.md\":\"Cup0E8n7\",\"advanced_5.4_在依赖注入中使用 @stateobject.md\":\"D-E9O30X\",\"advanced_6.1_使用 @environmentobject 注入依赖.md\":\"DRXKCrZu\",\"advanced_6.2_自定义 environmentkey 与 environmentvalues.md\":\"Dhqe0CUt\",\"advanced_6.3_在整个应用中共享数据模型.md\":\"CDjCdsxS\",\"advanced_6.4_读取系统环境值 (如颜色方案、尺寸类别).md\":\"0v0h7X-h\",\"advanced_6.5_环境值与视图预览的配合使用.md\":\"ySfIDRTY\",\"advanced_7.1_使用 @observable 宏简化模型.md\":\"BAOcP3kE\",\"advanced_7.2_理解 observation 框架的自动跟踪机制.md\":\"CMthriiB\",\"advanced_7.3_从 observableobject 迁移到 @observable.md\":\"BjnkeKRQ\",\"advanced_7.4_@bindable 的使用与双向绑定.md\":\"69Ncu0ef\",\"advanced_7.5_observation 框架的性能优势.md\":\"CtUBWVw5\",\"advanced_8.1_使用 @appstorage 进行轻量数据持久化.md\":\"BJcpQDSD\",\"advanced_8.2_集成 core data 与 swiftui.md\":\"Cok9Lklf\",\"advanced_8.3_使用 swiftdata 进行现代数据持久化 (ios 17_).md\":\"CgDosBgI\",\"advanced_8.4_@query 宏的使用与配置.md\":\"Bqti9joP\",\"advanced_8.5_在 swiftui 视图中处理 swiftdata 的增删改查.md\":\"04ki6nQZ\",\"advanced_9.1_创建可复用的自定义视图组件.md\":\"BXF4y_mp\",\"advanced_9.2_封装行为与样式到自定义 viewmodifier.md\":\"D0ezTduy\",\"advanced_9.3_通过扩展 view 提供简洁的 api.md\":\"C-wdCV6H\",\"advanced_9.4_理解 .modifier() 和直接调用的区别.md\":\"C2eiRwtC\",\"advanced_9.5_实现带参数的视图修改器.md\":\"B07bw52T\",\"advanced_index.md\":\"Bq7qj0Yt\",\"advanced_目录.md\":\"VHDJniuC\",\"animation_1.1_使用 .animation() 修饰符.md\":\"DShx-O5p\",\"animation_1.2_配置动画曲线- .easeinout_ .linear_ .spring.md\":\"D2t4FF49\",\"animation_1.3_设置动画时长- duration参数.md\":\"DfvR6AN2\",\"animation_1.4_应用 .animation() 到容器视图.md\":\"BAxcRk3J\",\"animation_1.5_使用 .animation(nil) 禁用动画.md\":\"Cf2gkqjP\",\"animation_10.1_keyframeanimator 视图基础.md\":\"BDVruFge\",\"animation_10.2_定义关键帧轨道 keyframetrack.md\":\"80Xa8dyh\",\"animation_10.3_使用 linearkeyframe.md\":\"DxDh8QWb\",\"animation_10.4_使用 springkeyframe.md\":\"DPl5enQk\",\"animation_10.5_使用 cubickeyframe.md\":\"C9sE6f2F\",\"animation_11.1_动画化路径 path.md\":\"CQo_RzCo\",\"animation_11.2_使用 animatabledata 动画化自定义形状.md\":\"CB2s4GoB\",\"animation_11.3_trim 修剪动画- strokestart_ strokeend.md\":\"B0etrU_n\",\"animation_11.4_实现路径绘制动画效果.md\":\"BTQfZBY5\",\"animation_11.5_形状变形动画.md\":\"mrxMnjvp\",\"animation_12.1_matchedgeometryeffect 概念与应用.md\":\"jCWDpJ6c\",\"animation_12.2_定义命名空间 @namespace.md\":\"MZw5Ni_U\",\"animation_12.3_在不同视图间同步几何属性.md\":\"y32jLXP-\",\"animation_12.4_实现“魔法移动”效果.md\":\"DQgK8pxn\",\"animation_12.5_处理源视图和目标视图的切换.md\":\"CQ2Wufsy\",\"animation_13.1_使用 timelineview 创建定时更新.md\":\"sY9yxQDz\",\"animation_13.2_timelineview 的 schedule 参数.md\":\"WtEhGWtR\",\"animation_13.3_在 canvas 中绘制动态图形.md\":\"BzfC4USl\",\"animation_13.4_结合 timelineview 和 canvas 实现复杂动画.md\":\"Dgi-f4Un\",\"animation_13.5_动画化 canvas 中的符号 (symbols).md\":\"CzSLYIFc\",\"animation_14.1_实现加载指示器动画.md\":\"9ZWJvFBN\",\"animation_14.2_创建卡片翻转效果.md\":\"BXseur11\",\"animation_14.3_构建视差滚动效果.md\":\"BXTyT-m_\",\"animation_14.4_制作可交互的拖拽动画.md\":\"Chz579gP\",\"animation_14.5_实现心跳动画效果.md\":\"OcSEmGu0\",\"animation_15.1_识别导致性能问题的动画.md\":\"csZbYIvB\",\"animation_15.2_使用 instruments 分析动画性能.md\":\"HDt6FVFy\",\"animation_15.3_最小化视图重绘范围.md\":\"Bz-gKh3K\",\"animation_15.4_将动画计算移出主线程.md\":\"C5LN5q-U\",\"animation_15.5_利用 .drawinggroup() 优化渲染.md\":\"DkmJGnH4\",\"animation_16.1_在 uiviewrepresentable 中使用 uiview 动画.md\":\"B1FBSC-S\",\"animation_16.2_在 nsviewrepresentable 中使用 core animation.md\":\"BQAdEK2M\",\"animation_16.3_通过 coordinator 同步状态.md\":\"DruJOY1T\",\"animation_16.4_从 swiftui 触发 uikit 动画.md\":\"CQCzYRmR\",\"animation_2.1_使用 withanimation 代码块.md\":\"BnRQymFj\",\"animation_2.2_在 withanimation 中改变状态.md\":\"nFtcIMQm\",\"animation_2.3_为 withanimation 指定动画曲线和时长.md\":\"DvNdanb7\",\"animation_2.4_嵌套 withanimation 代码块.md\":\"5qqhfZE-\",\"animation_2.5_显式动画与隐式动画的交互.md\":\"CpyQmMrr\",\"animation_3.1_使用 _binding.animation().md\":\"Cj67xqf0\",\"animation_3.2_为 toggle、slider 等控件添加动画.md\":\"D7LeQdLx\",\"animation_3.3_绑定动画的特定参数配置.md\":\"CFueT-L5\",\"animation_3.4_理解绑定动画的执行时机.md\":\"CUKKmPyq\",\"animation_4.1_使用 .transition() 修饰符.md\":\"B_8PCAeM\",\"animation_4.2_内置转场效果- .opacity_ .slide_ .scale.md\":\"BTgbMRPL\",\"animation_4.3_组合多个转场效果.md\":\"DCLnmzNi\",\"animation_4.4_使用 .asymmetric 创建非对称转场.md\":\"ClcTVP2O\",\"animation_4.5_根据状态切换视图并触发转场.md\":\"HT4CL-rc\",\"animation_5.1_理解 animatable 协议.md\":\"CrDDp2FG\",\"animation_5.2_实现 animatabledata 计算属性.md\":\"B2qGoClF\",\"animation_5.3_使用 vectorarithmetic 协议.md\":\"C_zxjsem\",\"animation_5.4_为自定义数据类型添加动画能力.md\":\"EeiJzFc_\",\"animation_5.5_动画化非数值属性 (例如颜色).md\":\"DUEsWdO8\",\"animation_6.1_geometryeffect 协议基础.md\":\"BwkynQh9\",\"animation_6.2_实现 effectvalue(size-) 方法.md\":\"Dj-zILt3\",\"animation_6.3_创建自定义视图变换动画.md\":\"N6Trx77T\",\"animation_6.4_skeweffect- 实现倾斜效果.md\":\"BLB9KjjX\",\"animation_6.5_followpatheffect- 实现路径跟随动画.md\":\"CtBeLhdG\",\"animation_7.1_线性动画 .linear.md\":\"Dv33b2pf\",\"animation_7.2_缓入缓出 .easeinout.md\":\"DbPo6Sv5\",\"animation_7.3_缓入 .easein 与 缓出 .easeout.md\":\"B4ZtuVIK\",\"animation_7.4_自定义缓动曲线 timingcurve.md\":\"DR96cL6R\",\"animation_8.1_基础弹簧动画 .spring().md\":\"sqR4iz71\",\"animation_8.2_交互式弹簧 .interactivespring().md\":\"Dr_CREY5\",\"animation_8.3_配置弹簧参数- response_ dampingfraction.md\":\"LE2pNo-T\",\"animation_8.4_配置弹簧参数- blendduration.md\":\"CqlOGVDJ\",\"animation_8.5_创建果冻效果.md\":\"DuB6MJ5g\",\"animation_9.1_phaseanimator 视图基础.md\":\"CBZKqcWr\",\"animation_9.2_定义动画阶段（phases）.md\":\"DDbebAUV\",\"animation_9.3_在 content 闭包中应用视图修饰符.md\":\"kCU9u32v\",\"animation_9.4_在 animation 闭包中配置动画.md\":\"DR46_xDM\",\"animation_9.5_通过 trigger 触发相位动画.md\":\"CTbTJ5dP\",\"animation_index.md\":\"B_Jq6nDS\",\"animation_toc.md\":\"D3QR_lqf\",\"base_1.1_安装xcode_15.md\":\"3sCADbCF\",\"base_1.2_创建第一个swiftui项目.md\":\"CDbDEv2y\",\"base_1.3_理解项目文件结构.md\":\"B1f-XnZD\",\"base_1.4_认识xcode预览画布(canvas).md\":\"DrOYHm5f\",\"base_10.1_探索swiftdata数据持久化框架.md\":\"DqUMj0zp\",\"base_10.2_使用preview宏进行预览.md\":\"BkX7oRa_\",\"base_10.3_滚动动画与过渡效果(scrolltransition).md\":\"CYu1F9s0\",\"base_10.4_视图动画的相位(phaseanimator).md\":\"Bxydyyk5\",\"base_11.1_隐式动画(.animation).md\":\"C9tscJ1q\",\"base_11.2_显式动画(withanimation).md\":\"B6AtFhxf\",\"base_11.3_自定义过渡效果(.transition).md\":\"7M7Uk-0o\",\"base_11.4_手势识别(tap_ longpress_ drag).md\":\"B_AMU7o1\",\"base_12.1_定义数据模型(@model).md\":\"B0PeNoEn\",\"base_12.2_设置模型容器(modelcontainer).md\":\"s1LbNCcQ\",\"base_12.3_使用@query获取数据.md\":\"C5u78R86\",\"base_12.4_插入、更新和删除数据.md\":\"BdRI3JIY\",\"base_13.1_抽取子视图以简化代码.md\":\"DUr5H0M5\",\"base_13.2_创建自定义修饰符(viewmodifier).md\":\"BJGR2GCZ\",\"base_13.3_定义自定义视图样式(style).md\":\"CcyCrj3f\",\"base_2.1_什么是视图(view).md\":\"DzoAIlEL\",\"base_2.2_使用文本视图(text).md\":\"B5gHgdEd\",\"base_2.3_使用图像视图(image).md\":\"EKJGoxuS\",\"base_2.4_应用修饰符(modifiers)改变外观.md\":\"UH9R30rl\",\"base_2.5_链式调用修饰符的顺序影响.md\":\"DoyexjBH\",\"base_3.1_垂直布局容器(vstack).md\":\"CPgBxQ3u\",\"base_3.2_水平布局容器(hstack).md\":\"DGpky_DC\",\"base_3.3_层叠布局容器(zstack).md\":\"C5N3Dg8s\",\"base_3.4_使用spacer和divider进行空间调整.md\":\"a3_vbAgc\",\"base_4.1_使用@state管理简单值类型.md\":\"XpTHI9Yi\",\"base_4.2_通过_符号创建双向绑定(binding).md\":\"DoIXOrEX\",\"base_4.3_了解视图的生命周期与状态更新.md\":\"CgB0hTT1\",\"base_5.1_使用@observedobject监听外部对象.md\":\"i_COuMg9\",\"base_5.2_使用@stateobject确保对象生命周期.md\":\"CJjGE2gV\",\"base_5.3_定义符合observableobject协议的类.md\":\"DTLjnAib\",\"base_5.4_使用@published发布属性变更.md\":\"qKLMZPbO\",\"base_6.1_使用@environmentobject在全局共享数据.md\":\"Cv60wtpT\",\"base_6.2_在视图层级中注入环境对象.md\":\"CZgO_8He\",\"base_6.3_读取系统环境值(@environment).md\":\"CGA8-SIO\",\"base_7.1_创建按钮(button).md\":\"eontGBhB\",\"base_7.2_使用文本输入框(textfield).md\":\"IcZJjr0c\",\"base_7.3_安全文本输入框(securefield).md\":\"CANul3TH\",\"base_7.4_使用开关(toggle).md\":\"BiA1cfz1\",\"base_7.5_创建滑块(slider).md\":\"BzwAhh8W\",\"base_7.6_使用步进器(stepper).md\":\"XhsI_7FY\",\"base_7.7_选择器(picker)的用法.md\":\"Dvv3cyGo\",\"base_8.1_创建静态列表(list).md\":\"Cyvl9VhQ\",\"base_8.2_创建动态数据列表(list与foreach).md\":\"ChikFj9U\",\"base_8.3_实现列表项选择与操作.md\":\"2balmpgE\",\"base_8.4_使用navigationstack进行导航.md\":\"C6BdUDth\",\"base_8.5_通过navigationlink跳转页面.md\":\"DkfS56NN\",\"base_8.6_自定义导航栏标题与按钮.md\":\"Tyw7xs1C\",\"base_9.1_创建可滚动视图(scrollview).md\":\"D9PQFTUy\",\"base_9.2_使用网格布局(grid).md\":\"BLjTx8Dm\",\"base_9.3_表单的构建(form).md\":\"CYKKOz_b\",\"base_9.4_分组框(groupbox)与控制组(controlgroup).md\":\"BZWh56ob\",\"base_9.5_标签视图(tabview)实现多标签页.md\":\"BsbPYdsw\",\"base_index.md\":\"pnT329ZB\",\"base_目录.md\":\"DWX5_sDk\",\"core_1.1_声明式语法入门.md\":\"tMSfWhmr\",\"core_1.2_构建基本视图：text_ image_ shape.md\":\"Dnk4arkI\",\"core_1.3_使用 vstack_ hstack_ zstack 组合视图.md\":\"qcJjYxjt\",\"core_1.4_掌握 spacer 与 divider.md\":\"CuljDNJ3\",\"core_1.5_使用 padding_ frame_ offset 进行微调.md\":\"CMhMOI5w\",\"core_1.6_对齐与分布指南.md\":\"DNYk9JGE\",\"core_1.7_安全区域与边缘忽略.md\":\"C_PqxMQh\",\"core_10.1_隐式动画 .animation() 修饰符.md\":\"D6Fhw_5u\",\"core_10.2_显式动画 withanimation 代码块.md\":\"Mj2joISb\",\"core_10.3_控制动画曲线与延迟.md\":\"Ck6z-fNZ\",\"core_10.4_使用 .matchedgeometryeffect 实现视图匹配动画.md\":\"wBUs3-EK\",\"core_11.1_视图转场 .transition() 修饰符.md\":\"DHqhkBs1\",\"core_11.2_创建自定义 anytransition.md\":\"CcE7boa1\",\"core_11.3_animatable 协议与矢量动画.md\":\"fwk2fOIx\",\"core_11.4_timelineview 与 canvas 的应用.md\":\"DvI9C572\",\"core_12.1_使用 uiviewrepresentable 封装 uikit 视图.md\":\"bsdyNw2E\",\"core_12.2_使用 uiviewcontrollerrepresentable 封装视图控制器.md\":\"BxoB0jsx\",\"core_12.3_处理协调器 coordinator.md\":\"srE6cRr0\",\"core_13.1_使用 uihostingcontroller 嵌入 swiftui 视图.md\":\"BIxIzAp9\",\"core_13.2_在 uitableviewcell 中嵌入 swiftui 视图.md\":\"wGhEO7Dw\",\"core_13.3_管理 swiftui 视图的尺寸与更新.md\":\"C1CJ3KUz\",\"core_14.1_在 swiftui 中使用 async-await.md\":\"BwIIq644\",\"core_14.2_任务修饰符 .task().md\":\"B14Zf21W\",\"core_14.3_下拉刷新 .refreshable().md\":\"C8Btl3A3\",\"core_14.4_处理加载与错误状态.md\":\"RhD23JYt\",\"core_15.1_分析视图更新的原因.md\":\"mWz2L6yZ\",\"core_15.2_使用 equatableview 减少不必要的刷新.md\":\"Das1TiUv\",\"core_15.3_懒加载视图 lazy stacks.md\":\"C4fLLnkR\",\"core_15.4_instruments swiftui 性能分析工具.md\":\"DSxgBQWQ\",\"core_16.1_为视图添加可访问性标签与提示.md\":\"DzNouJCC\",\"core_16.2_支持动态类型 (dynamic type).md\":\"DU6yDrZl\",\"core_16.3_实现字符串本地化.md\":\"UMG7l2Np\",\"core_16.4_处理从右到左 (rtl) 布局.md\":\"DV0qgVqc\",\"core_2.1_按钮 button 的使用与自定义.md\":\"CTp8G1Uo\",\"core_2.2_文本输入：textfield 与 texteditor.md\":\"BS7hQ5lc\",\"core_2.3_开关 toggle 与滑块 slider.md\":\"BPNimib2\",\"core_2.4_选择器 picker 的不同样式.md\":\"CVQcvor4\",\"core_2.5_步进器 stepper 与日期选择器 datepicker.md\":\"BBV5tinZ\",\"core_2.6_手势识别：tap_ longpress_ drag.md\":\"Ckam7-8U\",\"core_3.1_使用 @state 管理简单值类型.md\":\"CwhaEZbm\",\"core_3.2_使用 @binding 创建双向绑定.md\":\"mj-ilAU5\",\"core_3.3_理解视图的身份与生命周期.md\":\"Cu6Zb-Am\",\"core_4.1_使用 @stateobject 管理引用类型生命周期.md\":\"Cw26XqIL\",\"core_4.2_使用 @observedobject 订阅外部对象.md\":\"Bq3QClbJ\",\"core_4.3_使用 @environmentobject 进行全局数据传递.md\":\"DEVaykRO\",\"core_4.4_理解 @published 属性包装器.md\":\"CExFZIaG\",\"core_5.1_读取环境值 @environment.md\":\"UJIdb7e8\",\"core_5.2_自定义环境键 environmentkey.md\":\"38nViym-\",\"core_5.3_使用 preferencekey 从子视图向上传递数据.md\":\"BqC9Advx\",\"core_5.4_使用 anchorpreferences 进行几何对齐.md\":\"CYMDg1L5\",\"core_6.1_list 的基本用法与数据源.md\":\"CD5b_GBY\",\"core_6.2_foreach 的使用与 identifiable 协议.md\":\"B7EOaFqF\",\"core_6.3_自定义列表行视图.md\":\"BPuvZLsn\",\"core_6.4_实现列表的编辑模式：移动与删除.md\":\"CTHYf-75\",\"core_6.5_分组列表 section 与大纲视图 outlinegroup.md\":\"Bi7G1cs3\",\"core_7.1_navigationstack 与 navigationlink.md\":\"Djf5Z4xM\",\"core_7.2_导航路径与编程式导航.md\":\"CDDijJZA\",\"core_7.3_导航栏标题与按钮定制.md\":\"C7_huKBP\",\"core_7.4_模态呈现：sheet 与 fullscreencover.md\":\"BjNJeb35\",\"core_7.5_警报 alert 与确认对话框 confirmationdialog.md\":\"BbTM21GY\",\"core_8.1_滚动视图 scrollview 与 scrollviewreader.md\":\"Dy3Ip-yJ\",\"core_8.2_几何读取器 geometryreader.md\":\"Cm7g5Mwd\",\"core_8.3_自定义布局容器 layout 协议.md\":\"BjvXsB6w\",\"core_8.4_网格布局：lazyvgrid 与 lazyhgrid.md\":\"BGHiUzPc\",\"core_8.5_视图坐标空间转换.md\":\"Bz3iiNwk\",\"core_9.1_封装通用样式.md\":\"BR8TQg4K\",\"core_9.2_创建自定义 viewmodifier 协议实现.md\":\"BJFFrpSO\",\"core_9.3_链式调用修饰符的原理.md\":\"pnrTlWtd\",\"core_index.md\":\"B7jA2Apg\",\"core_目录.md\":\"5EIuTX7O\",\"custom_views_1.1_什么是自定义视图.md\":\"DT7BTNiv\",\"custom_views_1.2_为何需要自定义视图.md\":\"BOBSuwkq\",\"custom_views_1.3_view协议的核心要求.md\":\"CGUX4-gx\",\"custom_views_1.4_组合与封装原则.md\":\"1y-yluqR\",\"custom_views_10.1_创建自定义viewmodifier协议实现.md\":\"Dznj0snN\",\"custom_views_10.2_封装通用样式(如卡片样式).md\":\"WL_XwpFY\",\"custom_views_10.3_通过view扩展简化修饰符调用.md\":\"Burt6F09\",\"custom_views_10.4_链式调用多个自定义修饰符.md\":\"VcYR2QVt\",\"custom_views_11.1_使用environmentvalues传递全局配置.md\":\"m6oMgtMJ\",\"custom_views_11.2_定义自定义environmentkey.md\":\"CF3yTSjj\",\"custom_views_11.3_使用preferencekey从子视图向父视图传递数据.md\":\"DnbCiz5o\",\"custom_views_11.4_实现主题切换功能.md\":\"bkR0ppe3\",\"custom_views_12.1_使用泛型创建灵活的容器视图.md\":\"5e1FzoAZ\",\"custom_views_12.2_利用@viewbuilder构建可接受多个子视图的组件.md\":\"B91-fTaY\",\"custom_views_12.3_泛型约束在组件中的应用.md\":\"CjORMZRx\",\"custom_views_12.4_创建一个自定义的容器组件(如customvstack).md\":\"BgladyiX\",\"custom_views_13.1_使用geometryreader获取父视图尺寸.md\":\"BM-mXAjE\",\"custom_views_13.2_实现自适应布局的组件.md\":\"DF7ttOp1\",\"custom_views_13.3_读取视图的坐标和位置.md\":\"CjhJoLJE\",\"custom_views_13.4_避免geometryreader的常见陷阱.md\":\"BefnO036\",\"custom_views_14.1_初始化swift包项目.md\":\"BQRWDHzG\",\"custom_views_14.2_配置package.swift文件.md\":\"DBoTVg5M\",\"custom_views_14.3_定义库和目标(library___target).md\":\"BIGTj_7V\",\"custom_views_14.4_将组件代码移入包中.md\":\"bDONbr2A\",\"custom_views_15.1_为公共api编写文档注释.md\":\"B-5DAdN6\",\"custom_views_15.2_创建组件的使用示例.md\":\"D5Mz-Irp\",\"custom_views_15.3_编写单元测试验证组件逻辑.md\":\"J2jS6bkP\",\"custom_views_15.4_编写ui测试确保视图表现.md\":\"D-zwlNH7\",\"custom_views_16.1_将代码推送到github.md\":\"DgNvmSmM\",\"custom_views_16.2_创建版本标签(tagging_versions).md\":\"aipXb1FA\",\"custom_views_16.3_在xcode中添加swift包依赖.md\":\"BC773QZV\",\"custom_views_16.4_更新和维护组件库.md\":\"CZcvQPSo\",\"custom_views_2.1_创建新的swiftui项目.md\":\"NVg8Tbx3\",\"custom_views_2.2_组织文件的目录结构.md\":\"NKskTnaI\",\"custom_views_2.3_创建专门的组件预览文件.md\":\"DpvzbPo8\",\"custom_views_2.4_配置预览提供器(previewprovider).md\":\"WPlYI1yb\",\"custom_views_3.1_创建基本按钮结构.md\":\"BIxA3TI_\",\"custom_views_3.2_定义按钮的初始化参数.md\":\"IzAFpqKj\",\"custom_views_3.3_处理按钮的点击动作.md\":\"DUHNemc3\",\"custom_views_3.4_为按钮添加自定义样式.md\":\"BGoVfSGf\",\"custom_views_4.1_封装textfield并添加标签.md\":\"C9QLUuVo\",\"custom_views_4.2_实现输入验证逻辑.md\":\"DQA1HJvI\",\"custom_views_4.3_自定义边框和背景样式.md\":\"DTmkQgHh\",\"custom_views_4.4_处理焦点状态变化.md\":\"C1kuy0vd\",\"custom_views_5.1_创建可配置的图像组件.md\":\"hJFq_wnG\",\"custom_views_5.2_支持网络图片加载与占位符.md\":\"4Izn5haX\",\"custom_views_5.3_添加图像滤镜和效果.md\":\"Ii-1d0tS\",\"custom_views_5.4_实现图像的裁剪与缩放.md\":\"D_NnUmGX\",\"custom_views_6.1_创建圆形加载动画.md\":\"C4TF8A2i\",\"custom_views_6.2_创建条形加载进度条.md\":\"RCL2qpcK\",\"custom_views_6.3_控制动画的开始与停止.md\":\"Biejqe6c\",\"custom_views_6.4_允许自定义颜色和尺寸.md\":\"DBOPjd-4\",\"custom_views_7.1_组合图像、标题和描述文本.md\":\"CXseOk_j\",\"custom_views_7.2_设计卡片的布局结构.md\":\"BYuc5DSK\",\"custom_views_7.3_添加阴影和圆角效果.md\":\"DH71m9On\",\"custom_views_7.4_处理卡片点击事件.md\":\"BYGDme-e\",\"custom_views_8.1_结合图像和在线状态指示器.md\":\"BUoaynCb\",\"custom_views_8.2_处理不同尺寸的头像显示.md\":\"C--Jy-dX\",\"custom_views_8.3_实现占位符或默认头像.md\":\"D81Bl-sM\",\"custom_views_8.4_添加点击交互预览大图.md\":\"BRnLGpT7\",\"custom_views_9.1_设计包含标签和输入控件的行.md\":\"MR6qMWuz\",\"custom_views_9.2_支持不同类型的输入控件.md\":\"CEr_Sbfu\",\"custom_views_9.3_添加错误信息显示区域.md\":\"yjJm6q7L\",\"custom_views_9.4_统一表单行的样式.md\":\"DpVJR1Mb\",\"custom_views_index.md\":\"Ba0urylH\",\"geometry_1.1_什么是matchedgeometryeffect？.md\":\"DWGWlgNH\",\"geometry_1.2_核心参数.md\":\"Udm0TCTE\",\"geometry_1.3_namespace的作用与创建.md\":\"CsRI5RLZ\",\"geometry_1.4_使用@namespace创建动画命名空间.md\":\"NrnIDcI5\",\"geometry_1.5_id参数：标识视图的唯一性.md\":\"CWwtcsFh\",\"geometry_2.1_在两个独立视图之间创建过渡.md\":\"fx24fWn0\",\"geometry_2.2_使用@state切换视图状态以触发动画.md\":\"DTxksqyo\",\"geometry_2.3_同步源视图与目标视图的几何属性.md\":\"DNDXu2TR\",\"geometry_2.4_基础示例：按钮选择指示器动画.md\":\"CBm2P_KI\",\"geometry_2.5_基础示例：缩略图到全屏图的过渡.md\":\"C7cMp8TM\",\"geometry_3.1_properties参数-仅匹配特定几何属性.md\":\"BOgpwWX1\",\"geometry_3.2_使用.size实现尺寸匹配动画.md\":\"BsCFNGS1\",\"geometry_3.3_使用.position实现位置匹配动画.md\":\"CCoE3pL8\",\"geometry_3.4_anchor参数：控制动画的对齐基准点.md\":\"BLiH47eb\",\"geometry_3.5_不同anchor值的效果对比.md\":\"DRGnpyqn\",\"geometry_4.1_在list或foreach循环中应用matchedgeometryeffect.md\":\"BYhJbha2\",\"geometry_4.2_为动态列表项设置唯一的id.md\":\"DRE5dL9N\",\"geometry_4.3_实现列表项到详情页的平滑过渡.md\":\"BYCUe5e0\",\"geometry_4.4_结合zstack实现视图层级变换动画.md\":\"Nv3sa82z\",\"geometry_4.5_处理不同父视图间的过渡动画.md\":\"e5zjixGc\",\"geometry_5.1_解决动画闪烁或跳跃问题.md\":\"D0eCv-Wa\",\"geometry_5.2_处理namespace作用域不正确的情况.md\":\"BoGChaHx\",\"geometry_5.3_避免在动画期间出现视图拉伸变形.md\":\"DMC1FPXS\",\"geometry_5.4_调试技巧：使用geometryreader检查视图帧.md\":\"i1b7S37-\",\"geometry_5.5_优化性能：减少不必要的视图重绘.md\":\"DlzwImin\",\"geometry_6.1_布局卡片列表界面.md\":\"B-OdvWer\",\"geometry_6.2_创建详情页视图.md\":\"DzA8neCd\",\"geometry_6.3_使用matchedgeometryeffect连接卡片与详情页.md\":\"BlM-8mS4\",\"geometry_6.4_添加背景模糊与关闭按钮动画.md\":\"Dq9uDzqa\",\"geometry_6.5_处理滚动视图中的卡片动画.md\":\"BPFIJNO_\",\"geometry_7.1_创建自定义标签栏视图.md\":\"BOaWEkGi\",\"geometry_7.2_为选中的标签添加背景指示器.md\":\"DkQOEw4R\",\"geometry_7.3_使用matchedgeometryeffect实现指示器平滑移动.md\":\"B0ogH-I0\",\"geometry_7.4_同步指示器与页面内容的切换.md\":\"BasG9TiT\",\"geometry_7.5_调整动画曲线与时长.md\":\"B6h7FlNY\",\"geometry_8.1_使用lazyvgrid构建照片网格.md\":\"RjSk6Mb3\",\"geometry_8.2_实现点击缩略图放大为全屏视图.md\":\"q_hRssNU\",\"geometry_8.3_在网格和全屏视图间应用matchedgeometryeffect.md\":\"BDDCF_bI\",\"geometry_8.4_处理不同宽高比图像的过渡.md\":\"ChkOKxR-\",\"geometry_8.5_添加手势交互以关闭全屏视图.md\":\"BZ3ZjQ1q\",\"geometry_index.md\":\"CVJ30MPp\",\"grid_1.1_创建基本的lazyvgrid.md\":\"LzsvYpwl\",\"grid_1.2_理解scrollview的必要性.md\":\"DcOsyjqz\",\"grid_1.3_配置griditem以定义列.md\":\"CAMaqcmt\",\"grid_1.4_使用.fixed()创建固定宽度的列.md\":\"CmbBbp41\",\"grid_1.5_使用.flexible()创建灵活宽度的列.md\":\"BjUW-0Gj\",\"grid_1.6_使用.adaptive()创建自适应宽度的列.md\":\"DjBpWSFh\",\"grid_10.1_实战：创建一个照片画廊 (lazyvgrid).md\":\"DSBmqp6q\",\"grid_10.2_实战：创建一个类似app store的分类列表 (lazyhgrid).md\":\"B1i9Xyd-\",\"grid_10.3_实战：创建一个复杂的设置界面 (grid).md\":\"CyFea5wM\",\"grid_10.4_实战：创建一个日历视图 (lazyvgrid).md\":\"DLEd-7Ir\",\"grid_11.1_理解“lazy”的含义和性能优势.md\":\"BCp6zsWs\",\"grid_11.2_避免在网格项视图中进行昂贵的计算.md\":\"21dGWrM5\",\"grid_11.3_优化数据加载以配合懒加载网格.md\":\"EWt124pT\",\"grid_11.4_使用.drawinggroup()优化复杂视图渲染.md\":\"DaQUJU3f\",\"grid_11.5_何时选择grid而非lazy grid.md\":\"zK9cHgzP\",\"grid_2.1_创建基本的lazyhgrid.md\":\"CbqtCLrc\",\"grid_2.2_在水平scrollview中嵌入lazyhgrid.md\":\"VYYLcIlc\",\"grid_2.3_配置griditem以定义行.md\":\"yRk1JQs0\",\"grid_2.4_使用.fixed()创建固定高度的行.md\":\"BAKQvWSV\",\"grid_2.5_使用.flexible()创建灵活高度的行.md\":\"BgeZJbNF\",\"grid_2.6_使用.adaptive()创建自适应高度的行.md\":\"CZ5kyvhn\",\"grid_3.1_设置网格的整体对齐方式 (alignment).md\":\"TEGPEhph\",\"grid_3.2_调整网格项之间的间距 (spacing).md\":\"CBEI7bX7\",\"grid_3.3_使用pinnedviews固定页眉和页脚.md\":\"BNfmsRlP\",\"grid_3.4_为网格项添加内边距 (padding).md\":\"BSnP2Wh5\",\"grid_4.1_混合使用fixed_ flexible_ 和 adaptive.md\":\"CZFLjLZD\",\"grid_4.2_为griditem设置自定义间距.md\":\"CCNLouCU\",\"grid_4.3_为griditem设置对齐方式.md\":\"Be_RyLT7\",\"grid_4.4_动态生成griditem数组.md\":\"BnPCOgDw\",\"grid_4.5_响应设备方向变化调整列数.md\":\"B6xtOGbZ\",\"grid_5.1_使用foreach处理动态数据集合.md\":\"BICvC0zk\",\"grid_5.2_为网格项实现identifiable协议.md\":\"bQdTjsd8\",\"grid_5.3_使用uuid或自定义id作为唯一标识.md\":\"Bx6t2ik9\",\"grid_5.4_在网格中处理可选数据.md\":\"sa-J6IN-\",\"grid_6.1_在lazyvgrid-lazyhgrid中使用section.md\":\"eeVuciAI\",\"grid_6.2_为每个section添加自定义页眉 (header).md\":\"CwheVvFc\",\"grid_6.3_为每个section添加自定义页脚 (footer).md\":\"BdQqMkHi\",\"grid_6.4_实现可折叠的section.md\":\"Cs2LAcCM\",\"grid_7.1_grid与lazyvgrid-lazyhgrid的区别.md\":\"DVoM9Bhu\",\"grid_7.2_创建基本的grid视图.md\":\"Bum0C0rC\",\"grid_7.3_使用gridrow组织行内容.md\":\"CZ3rG8r1\",\"grid_7.4_在gridrow中放置视图.md\":\"CTTYkNki\",\"grid_8.1_使用.gridcellcolumns()实现跨列.md\":\"CW2Ini7C\",\"grid_8.2_使用.gridcellanchor()设置单元格内对齐.md\":\"C_uo8EJa\",\"grid_8.3_使用.gridcolumnalignment()设置整列对齐.md\":\"BBj01UZJ\",\"grid_8.4_使用gridrow的alignment参数控制行内对齐.md\":\"BCboDTG_\",\"grid_9.1_使用spacer在grid中创建空单元格.md\":\"DToA5su2\",\"grid_9.2_使用.gridcellunsizedaxes()忽略单元格尺寸计算.md\":\"BSNh1vhN\",\"grid_9.3_嵌套grid实现复杂布局.md\":\"BLuokIRJ\",\"grid_9.4_动态构建gridrow和视图.md\":\"Biu8sDzU\",\"grid_index.md\":\"DoJ9FZe5\",\"grid_目录.md\":\"BfgJAcFP\",\"index.md\":\"CE3hmjco\",\"lifecycle_1.1_将视图理解为值的概念.md\":\"D-5RLr8o\",\"lifecycle_1.2_视图作为状态的函数.md\":\"Cf8q2_vb\",\"lifecycle_1.3_view协议与body属性.md\":\"B370cYkw\",\"lifecycle_1.4_与uikit-appkit视图对象的区别.md\":\"zbsuwj-S\",\"lifecycle_10.1_@stateobject的销毁时机.md\":\"BIB6GlGT\",\"lifecycle_10.2_observableobject的deinit方法.md\":\"CE5E5wZ8\",\"lifecycle_10.3_使用task修饰符自动取消异步任务.md\":\"dNVw65r-\",\"lifecycle_10.4_避免因强引用导致的内存泄漏.md\":\"BkvfvSun\",\"lifecycle_11.1_app协议与应用生命周期事件.md\":\"BJbAhvkG\",\"lifecycle_11.2_scenephase环境值的使用.md\":\"C373uOWC\",\"lifecycle_11.3_处理应用进入后台或返回前台.md\":\"D-8DPXLt\",\"lifecycle_11.4_响应场景连接与断开.md\":\"CnaDgMZq\",\"lifecycle_12.1_navigationstack中视图的生命周期.md\":\"BEDG5xa6\",\"lifecycle_12.2_sheet和popover呈现时视图的生命周期.md\":\"C_Wj9Wvx\",\"lifecycle_12.3_onappear-ondisappear在导航中的行为.md\":\"Hu61DQVt\",\"lifecycle_12.4_管理模态视图中的状态.md\":\"CjrtAbiw\",\"lifecycle_13.1_uiviewrepresentable的生命周期方法.md\":\"8Eb4x3i0\",\"lifecycle_13.2_makeuiview-makeuiviewcontroller方法.md\":\"CMvIHHve\",\"lifecycle_13.3_updateuiview-updateuiviewcontroller方法.md\":\"RLtulzAk\",\"lifecycle_13.4_dismantleuiview与coordinator清理.md\":\"BfZ31UQW\",\"lifecycle_2.1_显式身份：id()修饰符.md\":\"CTC59bUd\",\"lifecycle_2.2_结构性身份：视图在层级中的位置.md\":\"B18t4roB\",\"lifecycle_2.3_身份对状态持久性的影响.md\":\"BiA6gaZF\",\"lifecycle_2.4_身份变化如何触发视图销毁与重建.md\":\"BcAN7HnR\",\"lifecycle_3.1_依赖图（dependency graph）简介.md\":\"BsmoHkbK\",\"lifecycle_3.2_状态变化如何触发视图更新.md\":\"CUGn1lHK\",\"lifecycle_3.3_body的计算时机与频率.md\":\"DkabDc6x\",\"lifecycle_3.4_视图更新的性能考量.md\":\"Drm7s-j5\",\"lifecycle_4.1_init()方法的调用时机.md\":\"Hw6M6b22\",\"lifecycle_4.2_在init()中设置初始状态.md\":\"DWXeL7wo\",\"lifecycle_4.3_使用自定义init进行依赖注入.md\":\"Oequ5OI1\",\"lifecycle_4.4_理解视图结构的首次构建.md\":\"CDa1tIkP\",\"lifecycle_5.1_onappear修饰符的触发时机.md\":\"D9i_Pz4v\",\"lifecycle_5.2_onappear中执行网络请求或动画.md\":\"Du6yo7NA\",\"lifecycle_5.3_task修饰符：异步任务的生命周期管理.md\":\"CAwqQAY7\",\"lifecycle_5.4_task修饰符与onappear的对比.md\":\"DzDz8Xlj\",\"lifecycle_6.1_@state：管理本地简单值类型状态.md\":\"CvDMOTjA\",\"lifecycle_6.2_@binding：创建双向数据连接.md\":\"BFzXP52l\",\"lifecycle_6.3_onchange修饰符：响应特定值的变化.md\":\"ruZdJXnD\",\"lifecycle_6.4_onchange的触发条件与使用场景.md\":\"CBG2kvgQ\",\"lifecycle_7.1_@stateobject：管理引用类型状态的生命周期.md\":\"DdeDI0rd\",\"lifecycle_7.2_@observedobject：观察外部引用类型对象.md\":\"DhbvnONU\",\"lifecycle_7.3_@stateobject与@observedobject的关键区别.md\":\"Ciiwr2hX\",\"lifecycle_7.4_@environmentobject：在视图层级中共享对象.md\":\"TXDzU9KP\",\"lifecycle_8.1_@environment：读取环境值.md\":\"DAYDWTZN\",\"lifecycle_8.2_@appstorage-@scenestorage：持久化状态.md\":\"BifhD5--\",\"lifecycle_8.3_@focusstate：管理焦点状态.md\":\"Ci6S2_SJ\",\"lifecycle_8.4_理解不同状态包装器的适用场景.md\":\"B4c9wdDk\",\"lifecycle_9.1_ondisappear修饰符的触发时机.md\":\"Cg3RCg94\",\"lifecycle_9.2_在ondisappear中执行清理任务.md\":\"DAtkbXse\",\"lifecycle_9.3_取消订阅或定时器.md\":\"BX6brNDY\",\"lifecycle_9.4_释放手动管理的资源.md\":\"BLMS8Va9\",\"lifecycle_index.md\":\"Bel90g_g\",\"lifecycle_目录.md\":\"Digh4xzf\",\"network_1.1_http、https协议基础.md\":\"DcJSfm-u\",\"network_1.2_理解restful api.md\":\"C2XpUd08\",\"network_1.3_json数据格式解析.md\":\"Bs4vz_sO\",\"network_1.4_http请求方法.md\":\"B3zl2naa\",\"network_1.5_状态码的意义.md\":\"i9viwpf-\",\"network_10.1_创建通用的apiservice层.md\":\"D9pK0MLc\",\"network_10.2_使用泛型构建可重用的请求函数.md\":\"iB7MvTU_\",\"network_10.3_定义api端点_(endpoints).md\":\"dBRsT8CN\",\"network_10.4_依赖注入(dependency_injection)网络服务.md\":\"BWoBwMmM\",\"network_10.5_编写单元测试与模拟网络请求.md\":\"C6ppwtmC\",\"network_11.1_处理认证与令牌(token).md\":\"q_88rj3g\",\"network_11.2_刷新令牌(refresh_token)机制.md\":\"VCBVy-xm\",\"network_11.3_实现请求重试逻辑.md\":\"BlYOtgys\",\"network_11.4_文件上传与下载.md\":\"BJ48HU7l\",\"network_11.5_配置urlsessionconfiguration.md\":\"D7ztLysq\",\"network_12.1_alamofire库简介与集成.md\":\"DGTKW8jv\",\"network_12.2_使用alamofire简化请求.md\":\"D0kZHT-C\",\"network_12.3_缓存策略：实现客户端缓存.md\":\"R7MlaOXk\",\"network_12.4_图像的异步加载与缓存.md\":\"CCTdkB43\",\"network_12.5_使用combine处理复杂数据流.md\":\"Dod1UbLd\",\"network_2.1_创建url对象.md\":\"CqZ6UrvO\",\"network_2.2_配置urlrequest.md\":\"DwlADpvb\",\"network_2.3_使用datatask发送get请求.md\":\"C-zPmv6Y\",\"network_2.4_处理urlsession的回调.md\":\"BnU8ulx-\",\"network_2.5_将接收到的data转换为可用类型.md\":\"aVG-lNwF\",\"network_3.1_设置http方法为post.md\":\"DeDI5Bjb\",\"network_3.2_构建json请求体.md\":\"BPI9FMcq\",\"network_3.3_使用jsonencoder编码数据.md\":\"BqWBeLdT\",\"network_3.4_设置http请求头.md\":\"BFu2NTBj\",\"network_3.5_发送并处理post请求的响应.md\":\"BAhG_Xjo\",\"network_4.1_定义符合decodable协议的数据结构.md\":\"DfZCZfUf\",\"network_4.2_使用jsondecoder解码json数据.md\":\"CLJyzo1q\",\"network_4.3_处理嵌套json对象.md\":\"CeEqCXfU\",\"network_4.4_处理json数组.md\":\"DthvpCEN\",\"network_4.5_自定义解码策略.md\":\"KfgJSv9B\",\"network_5.1_使用@state管理简单的视图状态.md\":\"B3Rkn7QD\",\"network_5.2_创建遵循observableobject协议的viewmodel.md\":\"CsBft5iL\",\"network_5.3_使用@published发布数据变更.md\":\"CL24nG0-\",\"network_5.4_在视图中使用@stateobject或@observedobject订阅viewmodel.md\":\"Ifw_rzOS\",\"network_5.5_将网络数据显示在swiftui视图上.md\":\"p0CeidVr\",\"network_6.1_理解并发与主线程安全.md\":\"BPlvDwJQ\",\"network_6.2_使用dispatchqueue.main.async更新ui.md\":\"CDAfPWWG\",\"network_6.3_在viewmodel中封装异步网络调用.md\":\"CtbXyq30\",\"network_6.4_显示加载中(loading)状态.md\":\"CAQNoSUE\",\"network_6.5_处理并显示网络错误信息.md\":\"Blnsti9p\",\"network_7.1_将传统闭包回调重构为async函数.md\":\"BmRVD1y2\",\"network_7.2_使用await调用异步函数.md\":\"DpLtzEzH\",\"network_7.3_urlsession对async、await的支持.md\":\"BZ5r9Er_\",\"network_7.4_创建异步网络请求函数.md\":\"BNAwjEGJ\",\"network_8.1_在.task视图修饰符中调用异步函数.md\":\"BTA3vKK1\",\"network_8.2_处理异步任务的生命周期.md\":\"mBDy5PD8\",\"network_8.3_在viewmodel中使用async、await获取数据.md\":\"dTlvwHMg\",\"network_8.4_结构化并发：使用taskgroup.md\":\"DbS5rqK8\",\"network_8.5_任务取消(task cancellation)的处理.md\":\"DaE9jeHO\",\"network_9.1_使用do-catch语句处理throws函数.md\":\"DclvZTav\",\"network_9.2_定义自定义错误类型.md\":\"CaOnmdTB\",\"network_9.3_从网络层向上传递错误.md\":\"2w21_wqr\",\"network_9.4_在ui层优雅地展示错误信息.md\":\"CntWi3qH\",\"network_index.md\":\"Bcco2qhs\",\"purchase_1.1_创建app记录.md\":\"BczLvunW\",\"purchase_1.2_配置app内购买项目：消耗品.md\":\"D2DhIoGb\",\"purchase_1.3_配置app内购买项目：非消耗品.md\":\"Bdo8qMzM\",\"purchase_1.4_配置app内购买项目：自动续期订阅.md\":\"BdaQvKXy\",\"purchase_1.5_配置app内购买项目：非续期订阅.md\":\"CgFC_Fhc\",\"purchase_1.6_设置订阅群组.md\":\"D3ZvEUMC\",\"purchase_1.7_配置沙盒测试员账户.md\":\"CvVQaE6o\",\"purchase_10.1_服务器验证的必要性.md\":\"DjRZAj2B\",\"purchase_10.2_app store服务器通知简介.md\":\"DvnID0s6\",\"purchase_10.3_设置服务器接收通知的url.md\":\"4lOUxhv3\",\"purchase_10.4_在服务器上解析和验证jws负载.md\":\"Dj_Nsl9a\",\"purchase_10.5_安全地更新用户数据库中的订阅状态.md\":\"B5Q3s5oS\",\"purchase_11.1_使用storekit配置文件进行本地测试.md\":\"CAYxNzWc\",\"purchase_11.2_使用沙盒环境进行真机测试.md\":\"Bj32UF9r\",\"purchase_11.3_testflight测试的最佳实践.md\":\"Dw3QMT9U\",\"purchase_11.4_处理订阅价格变更.md\":\"DN0GPzta\",\"purchase_11.5_提交应用以供审核：提供测试信息.md\":\"BOg7P21V\",\"purchase_12.1_配置促销优惠（推广和引导）.md\":\"DE3toP5T\",\"purchase_12.2_实现storekit的 promotionaloffer(for-signature-).md\":\"A9MYZ5ve\",\"purchase_12.3_生成并验证优惠签名.md\":\"wohrkYBA\",\"purchase_12.4_配置和兑换优惠代码.md\":\"CfoaQ_xU\",\"purchase_12.5_在ui中展示促销价格.md\":\"BxkiNKB-\",\"purchase_2.1_在xcode中启用app内购买功能.md\":\"BIadQa61\",\"purchase_2.2_创建storekit配置文件(.storekit).md\":\"DTXEiCfm\",\"purchase_2.3_在配置文件中添加订阅产品.md\":\"C_Owdn_S\",\"purchase_2.4_配置订阅价格和期限.md\":\"DbnTa54j\",\"purchase_2.5_为不同地区设置价格.md\":\"C8Kh1Tzx\",\"purchase_2.6_将storekit配置文件关联到运行方案.md\":\"k7oHzE1e\",\"purchase_3.1_异步请求产品信息.md\":\"COUcyZfG\",\"purchase_3.2_处理产品请求错误.md\":\"NYSWFrkK\",\"purchase_3.3_解析product对象数据.md\":\"Bg4fKoeh\",\"purchase_3.4_显示本地化的产品标题和描述.md\":\"BZIKCoSR\",\"purchase_3.5_格式化并显示价格.md\":\"RBQmCwP9\",\"purchase_4.1_发起购买请求：purchase()方法.md\":\"BEBHfFeG\",\"purchase_4.2_处理购买结果：purchaseresult.md\":\"DR5v63vs\",\"purchase_4.3_处理用户取消购买.md\":\"B6hbuLmw\",\"purchase_4.4_处理待处理的交易（ask to buy）.md\":\"G-8jSPOz\",\"purchase_4.5_处理购买失败的情况.md\":\"BjoHUoCQ\",\"purchase_5.1_理解transaction对象.md\":\"B-ecSpnL\",\"purchase_5.2_遍历transaction.updates以监听交易.md\":\"VI908wxM\",\"purchase_5.3_验证交易的jws签名.md\":\"CJifmxgE\",\"purchase_5.4_检查用户的当前订阅权利.md\":\"CpK1sNaR\",\"purchase_5.5_解锁高级功能或内容.md\":\"k-1j8fbg\",\"purchase_5.6_完成交易：transaction.finish().md\":\"ChZ1Epef\",\"purchase_5.7_处理中断的交易.md\":\"vVZss5oL\",\"purchase_6.1_获取用户所有已购买的产品id.md\":\"BZZBxzwe\",\"purchase_6.2_检查订阅是否活跃：currententitlements.md\":\"Bfch9FRU\",\"purchase_6.3_确定订阅到期日期.md\":\"CkDTvcqs\",\"purchase_6.4_处理订阅续订、降级和升级.md\":\"CoJoOZqb\",\"purchase_6.5_处理订阅过期和宽限期.md\":\"Dc1X8vle\",\"purchase_6.6_处理退款和撤销.md\":\"BylJj99Z\",\"purchase_7.1_使用vstack和hstack布局页面.md\":\"BAGhLbbC\",\"purchase_7.2_动态展示从storekit获取的产品列表.md\":\"BlVF8F8C\",\"purchase_7.3_设计吸引人的购买按钮.md\":\"Bkd_fWCj\",\"purchase_7.4_显示订阅条款和隐私政策链接.md\":\"BvZm8pqv\",\"purchase_7.5_添加“恢复购买”按钮.md\":\"xge63giR\",\"purchase_8.1_创建storemanager作为observableobject.md\":\"BWiJiBJy\",\"purchase_8.2_在视图中使用@stateobject管理storemanager.md\":\"B0cblddh\",\"purchase_8.3_根据订阅状态动态显示-隐藏ui元素.md\":\"BkWcOLk5\",\"purchase_8.4_在按钮的action中调用购买函数.md\":\"B03O360d\",\"purchase_8.5_显示加载指示器和错误提示.md\":\"DBMrR_Ah\",\"purchase_9.1_实现“恢复购买”按钮的ui.md\":\"DRrZSZWJ\",\"purchase_9.2_调用appstore.sync()函数.md\":\"BlGDfvHU\",\"purchase_9.3_处理恢复过程中的状态更新.md\":\"BD5e-Fuz\",\"purchase_9.4_向用户反馈恢复成功或失败.md\":\"rJdjrVrf\",\"purchase_index.md\":\"CvJHR3BG\",\"purchase_toc.md\":\"CIh0naNI\",\"readme.md\":\"wQI-J3r8\",\"refactor_1.1_识别重复的视图代码块.md\":\"BVRi2TZ9\",\"refactor_1.2_使用_struct_创建新的自定义view.md\":\"DG6iMMM5\",\"refactor_1.3_将提取的视图替换回原代码.md\":\"BBoi2Gra\",\"refactor_1.4_为新视图提供描述性命名.md\":\"DEoK17ir\",\"refactor_10.1_过度使用_@state_导致状态分散.md\":\"CiiyV1dY\",\"refactor_10.2_不恰当的_@observedobject_刷新.md\":\"BG0QRIHx\",\"refactor_10.3_数据源不明确（source of truth混乱）.md\":\"D4Ql96vh\",\"refactor_10.4__@binding_链条过长难以追踪.md\":\"XcLzNiCY\",\"refactor_11.1_在_body_中执行复杂的计算或数据转换.md\":\"CSuW8CrJ\",\"refactor_11.2_网络请求或数据库操作直接在view中触发.md\":\"B8-T0kFV\",\"refactor_11.3_业务逻辑与视图代码紧密耦合.md\":\"BEFVAoPj\",\"refactor_11.4_辅助函数(helper)滥用.md\":\"BN4Bh4HF\",\"refactor_12.1_按功能区域拆分为子视图.md\":\"Cp85k1BQ\",\"refactor_12.2_按逻辑分组提取计算属性视图.md\":\"Z1KutZ2P\",\"refactor_12.3_使用私有方法返回_some view_.md\":\"CKX5TEqq\",\"refactor_12.4_应用前述的组件封装技术.md\":\"BR9YpgcU\",\"refactor_13.1_创建_viewmodel_作为_observableobject_.md\":\"CGecYPWJ\",\"refactor_13.2_将业务逻辑和状态从view迁移到viewmodel.md\":\"DN0_Juu4\",\"refactor_13.3_在view中使用_@stateobject_或_@observedobject_.md\":\"CXIOq7Dm\",\"refactor_13.4_通过函数和_@published_属性进行交互.md\":\"BnvTs9g4\",\"refactor_14.1_使用_@environmentobject_共享全局状态.md\":\"Creaun12\",\"refactor_14.2_将多个_@state_属性合并到单一结构体中.md\":\"DhRa7aw2\",\"refactor_14.3_利用_combine_处理复杂的数据流.md\":\"DC_dPCWL\",\"refactor_14.4_通过服务层(service layer)抽象数据获取.md\":\"B4_ZYALW\",\"refactor_15.1_将_if-else_或_switch_逻辑移入viewmodel.md\":\"B55z5aYl\",\"refactor_15.2_创建专门的格式化工具(formatter).md\":\"CU5HJVTU\",\"refactor_15.3_使用_extension_为数据模型添加计算属性.md\":\"9QwzXjVi\",\"refactor_15.4_将重复的ui配置封装到_viewmodifier_中.md\":\"D4HlYg8c\",\"refactor_2.1_为组件定义_let_常量属性.md\":\"nHrXtdPb\",\"refactor_2.2_在父视图中初始化并传递数据.md\":\"BdzNbrEf\",\"refactor_2.3_使用_@state_管理组件内部状态.md\":\"J4XUPN5p\",\"refactor_2.4_区分何时使用_let_与_@state_.md\":\"DxEaE7LR\",\"refactor_3.1_理解_@binding_的概念与用途.md\":\"Dn-aU6L_\",\"refactor_3.2_在子视图中声明_@binding_属性.md\":\"DIidLWQ7\",\"refactor_3.3_在父视图中通过___传递绑定.md\":\"BscVpwWw\",\"refactor_3.4_实现父子视图状态的实时同步.md\":\"3hHU2jPI\",\"refactor_4.1_在组件中定义动作闭包属性.md\":\"BtTZsTX8\",\"refactor_4.2_在组件内部的交互控件中调用闭包.md\":\"gF7IJRRv\",\"refactor_4.3_父视图实现闭包以响应事件.md\":\"DX3FIiuC\",\"refactor_4.4_传递无参数和带参数的闭包.md\":\"Cz7w3IHk\",\"refactor_5.1_创建符合_viewmodifier_协议的结构体.md\":\"Da7u7i0M\",\"refactor_5.2_实现_body(content-)_方法.md\":\"1MF5a_K9\",\"refactor_5.3_通过_modifier()_应用修饰符.md\":\"DGAXnpyA\",\"refactor_5.4_使用_extension view_简化调用.md\":\"DSL0wuVx\",\"refactor_6.1_为自定义view添加泛型参数.md\":\"hwLaXKlY\",\"refactor_6.2_使用_where_子句约束泛型类型.md\":\"Dey5_Zt2\",\"refactor_6.3_构建通用列表行或容器视图.md\":\"CUG7CUmb\",\"refactor_6.4_泛型在数据展示组件中的应用.md\":\"Dr5IN23g\",\"refactor_7.1_理解_@viewbuilder_的作用.md\":\"BkWLXW6C\",\"refactor_7.2_在初始化器或函数参数中使用.md\":\"BUlqWGDO\",\"refactor_7.3_创建接受多个子视图的自定义容器.md\":\"BOglgvZf\",\"refactor_7.4_实现类似_vstack_或_hstack_的组件.md\":\"DErW15gG\",\"refactor_8.1_定义_observableobject_作为数据源.md\":\"DkxS41za\",\"refactor_8.2_在视图层级高层注入环境对象.md\":\"CH8_szC4\",\"refactor_8.3_在子组件中使用_@environmentobject_访问.md\":\"L108o9VA\",\"refactor_8.4_环境对象在主题或账户管理中的应用.md\":\"DiGO7ddZ\",\"refactor_9.1_检查超过200行的_body_属性.md\":\"CSSCP14K\",\"refactor_9.2_识别嵌套层级过深的视图结构.md\":\"ip5NvRVW\",\"refactor_9.3_评估视图是否承担过多职责.md\":\"9OluyOjt\",\"refactor_9.4_视图逻辑与ui描述混杂的迹象.md\":\"DUcTQDpl\",\"refactor_index.md\":\"DM9px2Qt\",\"refactor_目录.md\":\"CdMHO4-b\",\"thinking_1.1_描述“什么”而非“如何”.md\":\"CDKNGC1l\",\"thinking_1.2_与命令式ui（uikit）的对比.md\":\"itxntHpe\",\"thinking_1.3_代码可读性与简洁性优势.md\":\"qzWoGzfE\",\"thinking_1.4_ui即状态的函数.md\":\"CdqMnTz4\",\"thinking_10.1_视图差异比较（diffing）算法.md\":\"Sg0fav0W\",\"thinking_10.2_懒加载容器（lazy stacks _ grids）.md\":\"DW9ySJou\",\"thinking_10.3_减少不必要的视图重绘.md\":\"B8kRwcaV\",\"thinking_10.4_将计算密集型任务移出视图主体.md\":\"CMdA1Y_I\",\"thinking_11.1_视图生命周期与状态生命周期的区别.md\":\"BrXrlaIY\",\"thinking_11.2_onappear和ondisappear修饰符.md\":\"Cyl5FrLp\",\"thinking_11.3_@stateobject的生命周期管理.md\":\"CLkZFsf5\",\"thinking_11.4_任务（task）修饰符与异步操作.md\":\"Bfm49Veq\",\"thinking_12.1_一套代码，多平台运行.md\":\"_IYC8l1q\",\"thinking_12.2_平台特定控件的抽象化.md\":\"Cmvl1CrN\",\"thinking_12.3_使用if os()进行平台条件编译.md\":\"BFm3k7KQ\",\"thinking_12.4_控件的自适应行为.md\":\"Dpe1pO_d\",\"thinking_13.1_uiviewrepresentable协议.md\":\"DgyB5dqN\",\"thinking_13.2_uiviewcontrollerrepresentable协议.md\":\"BR0KEgDg\",\"thinking_13.3_nsviewrepresentable协议.md\":\"DndbO-nE\",\"thinking_13.4_在swiftui中嵌入uikit-appkit组件.md\":\"-NUm2Xgj\",\"thinking_2.1_视图是轻量级结构体（struct）.md\":\"BygcrypH\",\"thinking_2.2_视图的创建与销毁成本低.md\":\"CSnUWYr6\",\"thinking_2.3_避免复杂的视图层级和引用循环.md\":\"CJshsCfy\",\"thinking_2.4_值语义对ui一致性的保障.md\":\"DN6Y8oJt\",\"thinking_3.1_数据是驱动ui更新的唯一来源.md\":\"q3Jd2R-0\",\"thinking_3.2_避免ui状态不一致问题.md\":\"C-hZGM84\",\"thinking_3.3_简化状态管理逻辑.md\":\"DmfIKvzX\",\"thinking_3.4_数据流的单向性原则.md\":\"CGSi1_9J\",\"thinking_4.1_@state：管理本地简单值类型状态.md\":\"CgWCGEc_\",\"thinking_4.2_@binding：创建双向数据绑定.md\":\"CBJuFZsc\",\"thinking_4.3_@stateobject：管理引用类型对象的生命周期.md\":\"qIQa99eU\",\"thinking_4.4_@observedobject：订阅外部对象的更新.md\":\"Dap4y798\",\"thinking_4.5_@environmentobject：在视图层级中共享数据.md\":\"Bog1d60H\",\"thinking_4.6_@environment：读取系统环境值.md\":\"D1ktV_lN\",\"thinking_5.1_状态变化如何触发视图重绘.md\":\"DCcm9dLb\",\"thinking_5.2_视图依赖关系图的构建.md\":\"gNy-9hOP\",\"thinking_5.3_最小化视图更新范围的策略.md\":\"B9oo6Lpx\",\"thinking_5.4_数据流的可预测性.md\":\"CqTqOnHG\",\"thinking_6.1_通过组合小视图构建复杂界面.md\":\"CiHJtwOT\",\"thinking_6.2_视图的可复用性设计.md\":\"CcSQnVOX\",\"thinking_6.3_避免深度继承带来的复杂性.md\":\"amAaUPmm\",\"thinking_6.4_函数式构建ui的实践.md\":\"CcwOFVJk\",\"thinking_7.1_修饰符返回一个新的视图.md\":\"BKTSOlHQ\",\"thinking_7.2_链式调用的实现原理.md\":\"DZNHEDth\",\"thinking_7.3_修饰符的顺序重要性.md\":\"DvkTT3jI\",\"thinking_7.4_自定义修饰符的创建与使用.md\":\"zldRpin9\",\"thinking_8.1_容器视图（hstack_ vstack_ zstack）.md\":\"T0Q9lQ5J\",\"thinking_8.2_自适应布局与优先级.md\":\"BtdYdPVa\",\"thinking_8.3_geometryreader：获取父视图几何信息.md\":\"D8HhiFjF\",\"thinking_8.4_布局中立性与跨平台适应.md\":\"B1Oc6elh\",\"thinking_9.1_显式身份：id()修饰符的作用.md\":\"CCNhpWF6\",\"thinking_9.2_结构性身份：基于视图在层级中的位置.md\":\"CXHOOTx9\",\"thinking_9.3_身份对动画和过渡的影响.md\":\"BBc8aAg9\",\"thinking_9.4_foreach中身份的重要性.md\":\"D-Di6cko\",\"thinking_index.md\":\"COTfJ8kk\",\"thinking_目录.md\":\"BD6Pwfeg\",\"uikit_basics_1.1_安装和配置xcode开发环境.md\":\"4pqGYrth\",\"uikit_basics_1.2_创建新的ios_app项目模板.md\":\"Dl3tnGI8\",\"uikit_basics_1.3_删除main.storyboard文件.md\":\"CkahSoC5\",\"uikit_basics_1.4_移除info.plist中的storyboard配置.md\":\"DPQ9Y0Dy\",\"uikit_basics_1.5_修改scenedelegate以编程方式设置根视图.md\":\"Bbqqhscv\",\"uikit_basics_10.1_使用uistackview进行线性布局.md\":\"B0p_ctkm\",\"uikit_basics_10.2_配置uistackview的distribution属性.md\":\"B-_edurN\",\"uikit_basics_10.3_配置uistackview的alignment属性.md\":\"BZtptAa6\",\"uikit_basics_10.4_配置uistackview的spacing属性.md\":\"Cge18go_\",\"uikit_basics_11.1_loadview方法的用途.md\":\"CybpyIQi\",\"uikit_basics_11.2_viewdidload方法的使用.md\":\"CDNVqXVB\",\"uikit_basics_11.3_viewwillappear与viewdidappear.md\":\"D3yQjl-a\",\"uikit_basics_11.4_viewwilldisappear与viewdiddisappear.md\":\"CYiWl7lM\",\"uikit_basics_11.5_viewwilllayoutsubviews与viewdidlayoutsubviews.md\":\"DM241OyL\",\"uikit_basics_12.1_创建和设置uinavigationcontroller.md\":\"CRh0-7UU\",\"uikit_basics_12.2_push操作：压入新的视图控制器.md\":\"kLWKDy_-\",\"uikit_basics_12.3_pop操作：弹出当前视图控制器.md\":\"CpH37qJT\",\"uikit_basics_12.4_自定义navigationbar外观.md\":\"KG63geMZ\",\"uikit_basics_12.5_配置uibarbuttonitem.md\":\"Cp8UIF_k\",\"uikit_basics_13.1_创建和设置uitabbarcontroller.md\":\"CEv2nERG\",\"uikit_basics_13.2_为标签栏添加多个视图控制器.md\":\"GIQGKO4W\",\"uikit_basics_13.3_自定义tabbaritem的标题和图标.md\":\"DD380MfL\",\"uikit_basics_13.4_处理标签栏的切换事件.md\":\"CnryGoVq\",\"uikit_basics_14.1_使用present方法模态弹出视图控制器.md\":\"CpBWMQGW\",\"uikit_basics_14.2_使用dismiss方法关闭模态视图.md\":\"CKgoLQ9D\",\"uikit_basics_14.3_理解不同的modal_presentation_styles.md\":\"DaLc0Q6M\",\"uikit_basics_14.4_理解不同的modal_transition_styles.md\":\"DVa9iaLz\",\"uikit_basics_15.1_理解target-action设计模式.md\":\"-qOWNk5P\",\"uikit_basics_15.2_为uicontrol控件添加事件监听.md\":\"DjgHQleJ\",\"uikit_basics_15.3_实现响应事件的@objc方法.md\":\"D9oadxPg\",\"uikit_basics_15.4_传递事件发送者（sender）参数.md\":\"C2HXbP5N\",\"uikit_basics_16.1_理解delegate设计模式.md\":\"K3mT4QCL\",\"uikit_basics_16.2_遵循系统协议（如uitextfielddelegate）.md\":\"DTM1UTUv\",\"uikit_basics_16.3_实现代理方法以响应特定事件.md\":\"CPVGjKkZ\",\"uikit_basics_16.4_自定义协议和代理.md\":\"B9U5EOrA\",\"uikit_basics_17.1_添加点击手势uitapgesturerecognizer.md\":\"Rf2mo9OS\",\"uikit_basics_17.2_添加长按手势uilongpressgesturerecognizer.md\":\"JhbMSx_I\",\"uikit_basics_17.3_添加滑动手势uiswipegesturerecognizer.md\":\"D2ambPZW\",\"uikit_basics_17.4_添加拖动手势uipangesturerecognizer.md\":\"CSIQWDKp\",\"uikit_basics_17.5_添加缩放手势uipinchgesturerecognizer.md\":\"DyH90Zbw\",\"uikit_basics_17.6_添加旋转手势uirotationgesturerecognizer.md\":\"CwVuOfHe\",\"uikit_basics_2.1_uiwindow：应用内容的容器.md\":\"BfTiWnvk\",\"uikit_basics_2.2_uiscreen：物理屏幕信息.md\":\"1V4IPcoO\",\"uikit_basics_2.3_uiview：视图对象的基础.md\":\"CPvebd5u\",\"uikit_basics_2.4_uiviewcontroller：视图控制器角色.md\":\"Cudt6nEb\",\"uikit_basics_2.5_uiapplication与appdelegate生命周期.md\":\"DqDLblS2\",\"uikit_basics_2.6_uiscene与scenedelegate生命周期.md\":\"BvOXcLZI\",\"uikit_basics_3.1_创建和配置uilabel.md\":\"DChSxPdT\",\"uikit_basics_3.2_创建和配置uitextfield.md\":\"CZDtyBhp\",\"uikit_basics_3.3_创建和配置uitextview.md\":\"DRzcknfU\",\"uikit_basics_3.4_富文本nsattributedstring使用.md\":\"CuzgvhHG\",\"uikit_basics_4.1_创建和配置uibutton.md\":\"BqZhg9El\",\"uikit_basics_4.2_为按钮添加点击事件.md\":\"Dw0mVfSP\",\"uikit_basics_4.3_创建和配置uiswitch.md\":\"DiWeJOSv\",\"uikit_basics_4.4_创建和配置uislider.md\":\"CqCtBbBT\",\"uikit_basics_4.5_创建和配置uisegmentedcontrol.md\":\"DgPF__wF\",\"uikit_basics_5.1_创建和配置uiimageview.md\":\"BmfUirQl\",\"uikit_basics_5.2_使用uiactivityindicatorview显示加载.md\":\"CktBLO5C\",\"uikit_basics_5.3_使用uiprogressview显示进度.md\":\"CtjgTxZ8\",\"uikit_basics_5.4_创建和配置uiview作为容器.md\":\"CZOlRxO1\",\"uikit_basics_6.1_uitableview基础：创建与数据源.md\":\"BfPqUEeV\",\"uikit_basics_6.2_uitableviewdelegate协议方法.md\":\"BOwwcp_z\",\"uikit_basics_6.3_自定义uitableviewcell.md\":\"CZG0ge-K\",\"uikit_basics_6.4_uicollectionview基础：创建与布局.md\":\"Cdvpxbwh\",\"uikit_basics_6.5_uicollectionview数据源与代理.md\":\"HbBBGRgm\",\"uikit_basics_6.6_自定义uicollectionviewcell.md\":\"C2wQ5K6L\",\"uikit_basics_7.1_约束（nslayoutconstraint）基础.md\":\"CXE68NH3\",\"uikit_basics_7.2_关闭translatesautoresizingmaskintoconstraints.md\":\"BR2sKFZ6\",\"uikit_basics_7.3_理解视图布局的生命周期.md\":\"CDl0jnWX\",\"uikit_basics_7.4_安全区域（safe area）的使用.md\":\"BygNYoLC\",\"uikit_basics_8.1_手动创建单个nslayoutconstraint.md\":\"Ds9WDrGk\",\"uikit_basics_8.2_批量激活和停用约束.md\":\"DXt-9Jsj\",\"uikit_basics_8.3_修改约束的constant属性以实现动画.md\":\"CM-_exGt\",\"uikit_basics_8.4_设置约束的优先级（priority）.md\":\"Damdz4Nh\",\"uikit_basics_9.1_使用leading或trailing锚点设置水平约束.md\":\"BKlWC4SG\",\"uikit_basics_9.2_使用top或bottom锚点设置垂直约束.md\":\"DmSNBIQv\",\"uikit_basics_9.3_使用width或height锚点设置尺寸约束.md\":\"CF6Ltapc\",\"uikit_basics_9.4_使用centerx或centery锚点设置居中.md\":\"dXoPfGUu\",\"uikit_basics_index.md\":\"DKMn_lyJ\",\"uikit_basics_目录.md\":\"DQIFjkse\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"SwiftUIX\",\"description\":\"专注于分享 SwiftUI 实战技巧与开发经验\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"outline\":{\"label\":\"本页内容\"},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"returnToTopLabel\":\"返回顶部\",\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"D6M5ROZUCA\",\"apiKey\":\"f501fccc9e46e375431769f620d704d2\",\"indexName\":\"swiftuix\",\"placeholder\":\"搜索文档\",\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"searchBox\":{\"clearButtonTitle\":\"清除查询条件\",\"clearButtonAriaLabel\":\"清除查询条件\",\"closeButtonText\":\"关闭\",\"closeButtonAriaLabel\":\"关闭\",\"placeholderText\":\"搜索文档\",\"placeholderTextAskAi\":\"向 AI 提问：\",\"placeholderTextAskAiStreaming\":\"回答中...\",\"searchInputLabel\":\"搜索\",\"backToKeywordSearchButtonText\":\"返回关键字搜索\",\"backToKeywordSearchButtonAriaLabel\":\"返回关键字搜索\"},\"startScreen\":{\"recentSearchesTitle\":\"搜索历史\",\"noRecentSearchesText\":\"没有搜索历史\",\"saveRecentSearchButtonTitle\":\"保存至搜索历史\",\"removeRecentSearchButtonTitle\":\"从搜索历史中移除\",\"favoriteSearchesTitle\":\"收藏\",\"removeFavoriteSearchButtonTitle\":\"从收藏中移除\",\"recentConversationsTitle\":\"最近的对话\",\"removeRecentConversationButtonTitle\":\"从历史记录中删除对话\"},\"errorScreen\":{\"titleText\":\"无法获取结果\",\"helpText\":\"请检查网络连接\"},\"noResultsScreen\":{\"noResultsText\":\"无法找到相关结果\",\"suggestedQueryText\":\"你可以尝试查询\",\"reportMissingResultsText\":\"你认为该查询应该有结果？\",\"reportMissingResultsLinkText\":\"点击反馈\"},\"resultsScreen\":{\"askAiPlaceholder\":\"向 AI 提问： \"},\"askAiScreen\":{\"disclaimerText\":\"答案由 AI 生成，可能不准确，请自行验证。\",\"relatedSourcesText\":\"相关来源\",\"thinkingText\":\"思考中...\",\"copyButtonText\":\"复制\",\"copyButtonCopiedText\":\"已复制！\",\"copyButtonTitle\":\"复制\",\"likeButtonTitle\":\"赞\",\"dislikeButtonTitle\":\"踩\",\"thanksForFeedbackText\":\"感谢你的反馈！\",\"preToolCallText\":\"搜索中...\",\"duringToolCallText\":\"搜索 \",\"afterToolCallText\":\"已搜索\"},\"footer\":{\"selectText\":\"选择\",\"submitQuestionText\":\"提交问题\",\"selectKeyAriaLabel\":\"Enter 键\",\"navigateText\":\"切换\",\"navigateUpKeyAriaLabel\":\"向上箭头\",\"navigateDownKeyAriaLabel\":\"向下箭头\",\"closeText\":\"关闭\",\"backToSearchText\":\"返回搜索\",\"closeKeyAriaLabel\":\"Esc 键\",\"poweredByText\":\"搜索提供者\"}}}}},\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"SwiftUI基础\",\"activeMatch\":\"^/(100days|base|core|network|animation|purchase|grid|lifecycle)/\",\"items\":[{\"text\":\"SwiftUI 100 天\",\"link\":\"/100days/\",\"activeMatch\":\"^/100days/\"},{\"text\":\"SwiftUI 从入门到进阶\",\"link\":\"/base/\",\"activeMatch\":\"^/base/\"},{\"text\":\"SwiftUI 核心技术与高级实践\",\"link\":\"/core/\",\"activeMatch\":\"^/core/\"},{\"text\":\"SwiftUI 网络编程\",\"link\":\"/network/\",\"activeMatch\":\"^/network/\"},{\"text\":\"SwiftUI 动画核心技术与实践\",\"link\":\"/animation/\",\"activeMatch\":\"^/animation/\"},{\"text\":\"SwiftUI 订阅实战\",\"link\":\"/purchase/\",\"activeMatch\":\"^/purchase/\"},{\"text\":\"SwiftUI 网格布局\",\"link\":\"/grid/\",\"activeMatch\":\"^/grid/\"},{\"text\":\"SwiftUI 视图生命周期\",\"link\":\"/lifecycle/\",\"activeMatch\":\"^/lifecycle/\"}]},{\"text\":\"SwiftUI高级\",\"activeMatch\":\"^/(custom_views|geometry|refactor|thinking|advanced)/\",\"items\":[{\"text\":\"SwiftUI 自定义视图组件\",\"link\":\"/custom_views/\",\"activeMatch\":\"^/custom_views/\"},{\"text\":\"SwiftUI 动效精讲\",\"link\":\"/geometry/\",\"activeMatch\":\"^/geometry/\"},{\"text\":\"SwiftUI 封装与重构\",\"link\":\"/refactor/\",\"activeMatch\":\"^/refactor/\"},{\"text\":\"SwiftUI 核心思想\",\"link\":\"/thinking/\",\"activeMatch\":\"^/thinking/\"},{\"text\":\"SwiftUI 高阶布局与数据流实战\",\"link\":\"/advanced/\",\"activeMatch\":\"^/advanced/\"}]},{\"text\":\"UIKit\",\"activeMatch\":\"^/(uikit)/\",\"items\":[{\"text\":\"UIKit编程入门\",\"link\":\"/uikit/basics/\",\"activeMatch\":\"^/uikit/basics/\"}]},{\"text\":\"关于\",\"link\":\"/about/\",\"activeMatch\":\"^/about/\"}],\"sidebar\":{\"/100days/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/100days/\"}]},{\"text\":\"课前准备\",\"collapsed\":false,\"items\":[{\"text\":\"如何成为一名iOS开发者\",\"link\":\"/100days/【课前阅读】如何成为一名iOS开发者\"}]},{\"text\":\"Swift 基础 (第01-15天)\",\"collapsed\":false,\"items\":[{\"text\":\"第01天 变量、常量、字符串和数字\",\"link\":\"/100days/第01天_变量、常量、字符串和数字\"},{\"text\":\"第02天 布尔值、字符串插值\",\"link\":\"/100days/第02天_布尔值、字符串插值\"},{\"text\":\"第03天 数组、字典、集合和枚举\",\"link\":\"/100days/第03天_数组、字典、集合和枚举\"},{\"text\":\"第04天 类型注解\",\"link\":\"/100days/第04天_类型注解\"},{\"text\":\"第05天 条件语句、Switch 语句和三元运算符\",\"link\":\"/100days/第05天_条件语句、Switch语句和三元运算符\"},{\"text\":\"第06天 循环\",\"link\":\"/100days/第06天_循环\"},{\"text\":\"第07天 函数、参数和返回值\",\"link\":\"/100days/第07天_函数、参数和返回值\"},{\"text\":\"第08天 默认值、抛出异常\",\"link\":\"/100days/第08天_默认值、抛出异常\"},{\"text\":\"第09天 闭包、函数作为参数\",\"link\":\"/100days/第09天_闭包、函数作为参数\"},{\"text\":\"第10天 结构体、计算属性和属性观察者\",\"link\":\"/100days/第10天_结构体、计算属性和属性观察者\"},{\"text\":\"第11天 访问控制、静态属性和方法\",\"link\":\"/100days/第11天_访问控制、静态属性和方法\"},{\"text\":\"第12天 类、继承\",\"link\":\"/100days/第12天_类、继承\"},{\"text\":\"第13天 协议、扩展\",\"link\":\"/100days/第13天_协议、扩展\"},{\"text\":\"第14天 可选类型、空合运算符\",\"link\":\"/100days/第14天_可选类型、空合运算符\"},{\"text\":\"第15天 复习：一小时掌握 Swift 核心知识\",\"link\":\"/100days/第15天_复习：一小时掌握Swift核心知识\"}]},{\"text\":\"SwiftUI 项目实战 (第16-100天)\",\"collapsed\":false,\"items\":[{\"text\":\"第16天 SwiftUI项目1 第一部分\",\"link\":\"/100days/第16天_SwiftUI项目1_第一部分\"},{\"text\":\"第17天 SwiftUI项目1 第二部分\",\"link\":\"/100days/第17天_SwiftUI项目1_第二部分\"},{\"text\":\"第18天 SwiftUI项目1 第三部分\",\"link\":\"/100days/第18天_SwiftUI项目1_第三部分\"},{\"text\":\"第19天 挑战日\",\"link\":\"/100days/第19天_挑战日\"},{\"text\":\"第20天 项目2 第一部分\",\"link\":\"/100days/第20天_项目2_第一部分\"},{\"text\":\"第21天 项目2 第二部分\",\"link\":\"/100days/第21天_项目2_第二部分\"},{\"text\":\"第22天 项目2 第三部分\",\"link\":\"/100days/第22天_项目2_第三部分\"},{\"text\":\"第23天 项目3 第一部分\",\"link\":\"/100days/第23天_项目3_第一部分\"},{\"text\":\"第24天 项目3 第二部分\",\"link\":\"/100days/第24天_项目3_第二部分\"},{\"text\":\"第25天 复习2\",\"link\":\"/100days/第25天_复习2\"},{\"text\":\"第26天 项目4第一部分\",\"link\":\"/100days/第26天_项目4第一部分\"},{\"text\":\"第27天 项目4第二部分\",\"link\":\"/100days/第27天_项目4第二部分\"},{\"text\":\"第28天 项目4第三部分\",\"link\":\"/100days/第28天_项目4第三部分\"},{\"text\":\"第29天 项目5第一部分\",\"link\":\"/100days/第29天_项目5第一部分\"},{\"text\":\"第30天 项目5第二部分\",\"link\":\"/100days/第30天_项目5第二部分\"},{\"text\":\"第31天 项目5第三部分\",\"link\":\"/100days/第31天_项目5第三部分\"},{\"text\":\"第32天 项目6第一部分\",\"link\":\"/100days/第32天_项目6第一部分\"},{\"text\":\"第33天 项目6第二部分\",\"link\":\"/100days/第33天_项目6第二部分\"},{\"text\":\"第34天 项目6第三部分\",\"link\":\"/100days/第34天_项目6第三部分\"},{\"text\":\"第35天 复习3\",\"link\":\"/100days/第35天_复习3\"},{\"text\":\"第36天 项目7 第一部分\",\"link\":\"/100days/第36天_项目7_第一部分\"},{\"text\":\"第37天 项目7 第二部分\",\"link\":\"/100days/第37天_项目7_第二部分\"},{\"text\":\"第38天 项目7 第三部分\",\"link\":\"/100days/第38天_项目7_第三部分\"},{\"text\":\"第39天 项目8 第一部分\",\"link\":\"/100days/第39天_项目8_第一部分\"},{\"text\":\"第40天 项目8 第二部分\",\"link\":\"/100days/第40天_项目8_第二部分\"},{\"text\":\"第41天 项目8 第三部分\",\"link\":\"/100days/第41天_项目8_第三部分\"},{\"text\":\"第42天 项目8 第四部分\",\"link\":\"/100days/第42天_项目8_第四部分\"},{\"text\":\"第43天 项目9 第一部分\",\"link\":\"/100days/第43天_项目9_第一部分\"},{\"text\":\"第44天 项目9 第二部分\",\"link\":\"/100days/第44天_项目9_第二部分\"},{\"text\":\"第45天 项目9 第三部分\",\"link\":\"/100days/第45天_项目9_第三部分\"},{\"text\":\"第46天 项目9 第四部分\",\"link\":\"/100days/第46天_项目9_第四部分\"},{\"text\":\"第47天 里程碑 项目7-9\",\"link\":\"/100days/第47天_里程碑_项目7-9\"},{\"text\":\"第48天 拓展你的视野\",\"link\":\"/100days/第48天_拓展你的视野\"},{\"text\":\"第49天 项目10 第一部分\",\"link\":\"/100days/第49天_项目10_第一部分\"},{\"text\":\"第50天 项目10 第二部分\",\"link\":\"/100days/第50天_项目10_第二部分\"},{\"text\":\"第51天 项目10 第三部分\",\"link\":\"/100days/第51天_项目10_第三部分\"},{\"text\":\"第52天 项目10 第四部分\",\"link\":\"/100days/第52天_项目10_第四部分\"},{\"text\":\"第53天 项目11 第一部分\",\"link\":\"/100days/第53天_项目11_第一部分\"},{\"text\":\"第54天 项目11 第二部分\",\"link\":\"/100days/第54天_项目11_第二部分\"},{\"text\":\"第55天 项目11 第三部分\",\"link\":\"/100days/第55天_项目11_第三部分\"},{\"text\":\"第56天 项目11 第四部分\",\"link\":\"/100days/第56天_项目11_第四部分\"},{\"text\":\"第57天 项目12 第一部分\",\"link\":\"/100days/第57天_项目12_第一部分\"},{\"text\":\"第58天 项目12 第二部分\",\"link\":\"/100days/第58天_项目12_第二部分\"},{\"text\":\"第59天 项目12 第三部分\",\"link\":\"/100days/第59天_项目12_第三部分\"},{\"text\":\"第60天 里程碑：项目10-12\",\"link\":\"/100days/第60天_里程碑：项目10-12\"},{\"text\":\"第61天 SwiftData 时间\",\"link\":\"/100days/第61天_SwiftData时间\"},{\"text\":\"第62天 项目13 第一部分\",\"link\":\"/100days/第62天_项目13_第一部分\"},{\"text\":\"第63天 项目13 第二部分\",\"link\":\"/100days/第63天_项目13_第二部分\"},{\"text\":\"第64天 项目13 第三部分\",\"link\":\"/100days/第64天_项目13_第三部分\"},{\"text\":\"第65天 项目13 第四部分\",\"link\":\"/100days/第65天_项目13_第四部分\"},{\"text\":\"第66天 项目13 第五部分\",\"link\":\"/100days/第66天_项目13_第五部分\"},{\"text\":\"第67天 项目13 第六部分\",\"link\":\"/100days/第67天_项目13_第六部分\"},{\"text\":\"第68天 项目14 第一部分\",\"link\":\"/100days/第68天_项目14_第一部分\"},{\"text\":\"第69天 项目14 第二部分\",\"link\":\"/100days/第69天_项目14_第二部分\"},{\"text\":\"第70天 项目14 第三部分\",\"link\":\"/100days/第70天_项目14_第三部分\"},{\"text\":\"第71天 项目14 第四部分\",\"link\":\"/100days/第71天_项目14_第四部分\"},{\"text\":\"第72天 项目14 第五部分\",\"link\":\"/100days/第72天_项目14_第五部分\"},{\"text\":\"第73天 项目14 第六部分\",\"link\":\"/100days/第73天_项目14_第六部分\"},{\"text\":\"第74天 项目15 第一部分\",\"link\":\"/100days/第74天_项目15_第一部分\"},{\"text\":\"第75天 项目15 第二部分\",\"link\":\"/100days/第75天_项目15_第二部分\"},{\"text\":\"第76天 项目15 第三部分\",\"link\":\"/100days/第76天_项目15_第三部分\"},{\"text\":\"第77天 里程碑 项目13-15\",\"link\":\"/100days/第77天_里程碑_项目13-15\"},{\"text\":\"第78天 MapKit 时间\",\"link\":\"/100days/第78天_MapKit时间\"},{\"text\":\"第79天 项目16 第一部分\",\"link\":\"/100days/第79天_项目16_第一部分\"},{\"text\":\"第80天 项目16 第二部分\",\"link\":\"/100days/第80天_项目16_第二部分\"},{\"text\":\"第81天 项目16 第三部分\",\"link\":\"/100days/第81天_项目16_第三部分\"},{\"text\":\"第82天 项目16 第四部分\",\"link\":\"/100days/第82天_项目16_第四部分\"},{\"text\":\"第83天 项目16 第五部分\",\"link\":\"/100days/第83天_项目16_第五部分\"},{\"text\":\"第84天 项目16 第六部分\",\"link\":\"/100days/第84天_项目16_第六部分\"},{\"text\":\"第85天 项目16 第七部分\",\"link\":\"/100days/第85天_项目16_第七部分\"},{\"text\":\"第86天 项目17 第一部分\",\"link\":\"/100days/第86天_项目17_第一部分\"},{\"text\":\"第87天 项目17 第二部分\",\"link\":\"/100days/第87天_项目17_第二部分\"},{\"text\":\"第88天 项目17 第三部分\",\"link\":\"/100days/第88天_项目17_第三部分\"},{\"text\":\"第89天 项目17 第四部分\",\"link\":\"/100days/第89天_项目17_第四部分\"},{\"text\":\"第90天 项目17 第五部分\",\"link\":\"/100days/第90天_项目17_第五部分\"},{\"text\":\"第91天 项目17 第六部分\",\"link\":\"/100days/第91天_项目17_第六部分\"},{\"text\":\"第92天 项目18 第一部分\",\"link\":\"/100days/第92天_项目18_第一部分\"},{\"text\":\"第93天 项目18 第二部分\",\"link\":\"/100days/第93天_项目18_第二部分\"},{\"text\":\"第94天 项目18 第三部分\",\"link\":\"/100days/第94天_项目18_第三部分\"},{\"text\":\"第95天 里程碑 项目16-18\",\"link\":\"/100days/第95天_里程碑_项目16-18\"},{\"text\":\"第96天 项目19 第一部分\",\"link\":\"/100days/第96天_项目19_第一部分\"},{\"text\":\"第97天 项目19 第二部分\",\"link\":\"/100days/第97天_项目19_第二部分\"},{\"text\":\"第98天 项目19 第三部分\",\"link\":\"/100days/第98天_项目19_第三部分\"},{\"text\":\"第99天 项目19 第四部分\",\"link\":\"/100days/第99天_项目19_第四部分\"},{\"text\":\"第100天 期末考试\",\"link\":\"/100days/第100天_期末考试\"}]}],\"/base/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/base/\"}]},{\"text\":\"第1章 开发环境与项目创建\",\"collapsed\":false,\"items\":[{\"text\":\"1.1 安装 Xcode 15\",\"link\":\"/base/1.1_安装Xcode_15\"},{\"text\":\"1.2 创建第一个 SwiftUI 项目\",\"link\":\"/base/1.2_创建第一个SwiftUI项目\"},{\"text\":\"1.3 理解项目文件结构\",\"link\":\"/base/1.3_理解项目文件结构\"},{\"text\":\"1.4 认识 Xcode 预览画布 (Canvas)\",\"link\":\"/base/1.4_认识Xcode预览画布(Canvas)\"}]},{\"text\":\"第2章 SwiftUI 基础视图\",\"collapsed\":false,\"items\":[{\"text\":\"2.1 什么是视图 (View)\",\"link\":\"/base/2.1_什么是视图(View)\"},{\"text\":\"2.2 使用文本视图 (Text)\",\"link\":\"/base/2.2_使用文本视图(Text)\"},{\"text\":\"2.3 使用图像视图 (Image)\",\"link\":\"/base/2.3_使用图像视图(Image)\"},{\"text\":\"2.4 应用修饰符 (Modifiers)\",\"link\":\"/base/2.4_应用修饰符(Modifiers)改变外观\"},{\"text\":\"2.5 修饰符调用顺序的影响\",\"link\":\"/base/2.5_链式调用修饰符的顺序影响\"}]},{\"text\":\"第3章 布局容器\",\"collapsed\":false,\"items\":[{\"text\":\"3.1 垂直布局容器 VStack\",\"link\":\"/base/3.1_垂直布局容器(VStack)\"},{\"text\":\"3.2 水平布局容器 HStack\",\"link\":\"/base/3.2_水平布局容器(HStack)\"},{\"text\":\"3.3 层叠布局容器 ZStack\",\"link\":\"/base/3.3_层叠布局容器(ZStack)\"},{\"text\":\"3.4 使用 Spacer 和 Divider 进行空间调整\",\"link\":\"/base/3.4_使用Spacer和Divider进行空间调整\"}]},{\"text\":\"第4章 基础状态管理\",\"collapsed\":false,\"items\":[{\"text\":\"4.1 使用 @State 管理简单值类型\",\"link\":\"/base/4.1_使用@State管理简单值类型\"},{\"text\":\"4.2 通过 $ 符号创建双向绑定\",\"link\":\"/base/4.2_通过$符号创建双向绑定(Binding)\"},{\"text\":\"4.3 理解视图生命周期与状态更新\",\"link\":\"/base/4.3_了解视图的生命周期与状态更新\"}]},{\"text\":\"第5章 绑定外部对象\",\"collapsed\":false,\"items\":[{\"text\":\"5.1 使用 @ObservedObject 监听外部对象\",\"link\":\"/base/5.1_使用@ObservedObject监听外部对象\"},{\"text\":\"5.2 使用 @StateObject 确保对象生命周期\",\"link\":\"/base/5.2_使用@StateObject确保对象生命周期\"},{\"text\":\"5.3 定义 ObservableObject 类\",\"link\":\"/base/5.3_定义符合ObservableObject协议的类\"},{\"text\":\"5.4 使用 @Published 发布属性变更\",\"link\":\"/base/5.4_使用@Published发布属性变更\"}]},{\"text\":\"第6章 环境对象与系统环境值\",\"collapsed\":false,\"items\":[{\"text\":\"6.1 使用 @EnvironmentObject 共享数据\",\"link\":\"/base/6.1_使用@EnvironmentObject在全局共享数据\"},{\"text\":\"6.2 在视图层级中注入环境对象\",\"link\":\"/base/6.2_在视图层级中注入环境对象\"},{\"text\":\"6.3 读取系统环境值 (@Environment)\",\"link\":\"/base/6.3_读取系统环境值(@Environment)\"}]},{\"text\":\"第7章 常见交互组件\",\"collapsed\":false,\"items\":[{\"text\":\"7.1 创建按钮 (Button)\",\"link\":\"/base/7.1_创建按钮(Button)\"},{\"text\":\"7.2 使用文本输入框 (TextField)\",\"link\":\"/base/7.2_使用文本输入框(TextField)\"},{\"text\":\"7.3 安全文本输入框 (SecureField)\",\"link\":\"/base/7.3_安全文本输入框(SecureField)\"},{\"text\":\"7.4 使用开关 (Toggle)\",\"link\":\"/base/7.4_使用开关(Toggle)\"},{\"text\":\"7.5 创建滑块 (Slider)\",\"link\":\"/base/7.5_创建滑块(Slider)\"},{\"text\":\"7.6 使用步进器 (Stepper)\",\"link\":\"/base/7.6_使用步进器(Stepper)\"},{\"text\":\"7.7 选择器 (Picker)\",\"link\":\"/base/7.7_选择器(Picker)的用法\"}]},{\"text\":\"第8章 列表与导航视图\",\"collapsed\":false,\"items\":[{\"text\":\"8.1 创建静态列表 (List)\",\"link\":\"/base/8.1_创建静态列表(List)\"},{\"text\":\"8.2 动态数据列表 (List 与 ForEach)\",\"link\":\"/base/8.2_创建动态数据列表(List与ForEach)\"},{\"text\":\"8.3 实现列表项选择与操作\",\"link\":\"/base/8.3_实现列表项选择与操作\"},{\"text\":\"8.4 使用 NavigationStack 进行导航\",\"link\":\"/base/8.4_使用NavigationStack进行导航\"},{\"text\":\"8.5 通过 NavigationLink 跳转页面\",\"link\":\"/base/8.5_通过NavigationLink跳转页面\"},{\"text\":\"8.6 自定义导航栏标题与按钮\",\"link\":\"/base/8.6_自定义导航栏标题与按钮\"}]},{\"text\":\"第9章 高阶视图与控件组合\",\"collapsed\":false,\"items\":[{\"text\":\"9.1 创建可滚动视图 (ScrollView)\",\"link\":\"/base/9.1_创建可滚动视图(ScrollView)\"},{\"text\":\"9.2 使用网格布局 (Grid)\",\"link\":\"/base/9.2_使用网格布局(Grid)\"},{\"text\":\"9.3 表单构建 (Form)\",\"link\":\"/base/9.3_表单的构建(Form)\"},{\"text\":\"9.4 分组框与控制组\",\"link\":\"/base/9.4_分组框(GroupBox)与控制组(ControlGroup)\"},{\"text\":\"9.5 标签视图 (TabView)\",\"link\":\"/base/9.5_标签视图(TabView)实现多标签页\"}]},{\"text\":\"第10章 新特性与动画效果\",\"collapsed\":false,\"items\":[{\"text\":\"10.1 探索 SwiftData 框架\",\"link\":\"/base/10.1_探索SwiftData数据持久化框架\"},{\"text\":\"10.2 使用 #Preview 宏\",\"link\":\"/base/10.2_使用Preview宏进行预览\"},{\"text\":\"10.3 滚动动画与过渡效果\",\"link\":\"/base/10.3_滚动动画与过渡效果(scrollTransition)\"},{\"text\":\"10.4 视图动画的相位控制\",\"link\":\"/base/10.4_视图动画的相位(phaseAnimator)\"}]},{\"text\":\"第11章 动画与手势\",\"collapsed\":false,\"items\":[{\"text\":\"11.1 隐式动画 .animation\",\"link\":\"/base/11.1_隐式动画(.animation)\"},{\"text\":\"11.2 显式动画 withAnimation\",\"link\":\"/base/11.2_显式动画(withAnimation)\"},{\"text\":\"11.3 自定义过渡效果 .transition\",\"link\":\"/base/11.3_自定义过渡效果(.transition)\"},{\"text\":\"11.4 手势识别 (Tap、LongPress、Drag)\",\"link\":\"/base/11.4_手势识别(Tap, LongPress, Drag)\"}]},{\"text\":\"第12章 SwiftData 数据模型\",\"collapsed\":false,\"items\":[{\"text\":\"12.1 定义数据模型 (@Model)\",\"link\":\"/base/12.1_定义数据模型(@Model)\"},{\"text\":\"12.2 设置模型容器 modelContainer\",\"link\":\"/base/12.2_设置模型容器(modelContainer)\"},{\"text\":\"12.3 使用 @Query 获取数据\",\"link\":\"/base/12.3_使用@Query获取数据\"},{\"text\":\"12.4 插入、更新和删除数据\",\"link\":\"/base/12.4_插入、更新和删除数据\"}]},{\"text\":\"第13章 提高组件复用性\",\"collapsed\":false,\"items\":[{\"text\":\"13.1 抽取子视图以简化代码\",\"link\":\"/base/13.1_抽取子视图以简化代码\"},{\"text\":\"13.2 创建自定义修饰符 (ViewModifier)\",\"link\":\"/base/13.2_创建自定义修饰符(ViewModifier)\"},{\"text\":\"13.3 定义自定义视图样式 (Style)\",\"link\":\"/base/13.3_定义自定义视图样式(Style)\"}]}],\"/custom_views/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/custom_views/\"}]},{\"text\":\"第1章 自定义视图基础\",\"collapsed\":false,\"items\":[{\"text\":\"1.1 什么是自定义视图\",\"link\":\"/custom_views/1.1_什么是自定义视图\"},{\"text\":\"1.2 为何需要自定义视图\",\"link\":\"/custom_views/1.2_为何需要自定义视图\"},{\"text\":\"1.3 View协议的核心要求\",\"link\":\"/custom_views/1.3_View协议的核心要求\"},{\"text\":\"1.4 组合与封装原则\",\"link\":\"/custom_views/1.4_组合与封装原则\"}]},{\"text\":\"第2章 SwiftUI 项目初始化\",\"collapsed\":false,\"items\":[{\"text\":\"2.1 创建新的 SwiftUI 项目\",\"link\":\"/custom_views/2.1_创建新的SwiftUI项目\"},{\"text\":\"2.2 组织文件的目录结构\",\"link\":\"/custom_views/2.2_组织文件的目录结构\"},{\"text\":\"2.3 创建专门的组件预览文件\",\"link\":\"/custom_views/2.3_创建专门的组件预览文件\"},{\"text\":\"2.4 配置预览提供器 (PreviewProvider)\",\"link\":\"/custom_views/2.4_配置预览提供器(PreviewProvider)\"}]},{\"text\":\"第3章 自定义按钮组件\",\"collapsed\":false,\"items\":[{\"text\":\"3.1 创建基本按钮结构\",\"link\":\"/custom_views/3.1_创建基本按钮结构\"},{\"text\":\"3.2 定义按钮的初始化参数\",\"link\":\"/custom_views/3.2_定义按钮的初始化参数\"},{\"text\":\"3.3 处理按钮的点击动作\",\"link\":\"/custom_views/3.3_处理按钮的点击动作\"},{\"text\":\"3.4 为按钮添加自定义样式\",\"link\":\"/custom_views/3.4_为按钮添加自定义样式\"}]},{\"text\":\"第4章 输入框组件封装\",\"collapsed\":false,\"items\":[{\"text\":\"4.1 封装 TextField 并添加标签\",\"link\":\"/custom_views/4.1_封装TextField并添加标签\"},{\"text\":\"4.2 实现输入验证逻辑\",\"link\":\"/custom_views/4.2_实现输入验证逻辑\"},{\"text\":\"4.3 自定义边框和背景样式\",\"link\":\"/custom_views/4.3_自定义边框和背景样式\"},{\"text\":\"4.4 处理焦点状态变化\",\"link\":\"/custom_views/4.4_处理焦点状态变化\"}]},{\"text\":\"第5章 图像视图开发\",\"collapsed\":false,\"items\":[{\"text\":\"5.1 创建可配置的图像组件\",\"link\":\"/custom_views/5.1_创建可配置的图像组件\"},{\"text\":\"5.2 支持网络图片加载与占位符\",\"link\":\"/custom_views/5.2_支持网络图片加载与占位符\"},{\"text\":\"5.3 添加图像滤镜和效果\",\"link\":\"/custom_views/5.3_添加图像滤镜和效果\"},{\"text\":\"5.4 实现图像的裁剪与缩放\",\"link\":\"/custom_views/5.4_实现图像的裁剪与缩放\"}]},{\"text\":\"第6章 加载动画设计\",\"collapsed\":false,\"items\":[{\"text\":\"6.1 创建圆形加载动画\",\"link\":\"/custom_views/6.1_创建圆形加载动画\"},{\"text\":\"6.2 创建条形加载进度条\",\"link\":\"/custom_views/6.2_创建条形加载进度条\"},{\"text\":\"6.3 控制动画的开始与停止\",\"link\":\"/custom_views/6.3_控制动画的开始与停止\"},{\"text\":\"6.4 允许自定义颜色和尺寸\",\"link\":\"/custom_views/6.4_允许自定义颜色和尺寸\"}]},{\"text\":\"第7章 卡片组件构建\",\"collapsed\":false,\"items\":[{\"text\":\"7.1 组合图像、标题和描述文本\",\"link\":\"/custom_views/7.1_组合图像、标题和描述文本\"},{\"text\":\"7.2 设计卡片的布局结构\",\"link\":\"/custom_views/7.2_设计卡片的布局结构\"},{\"text\":\"7.3 添加阴影和圆角效果\",\"link\":\"/custom_views/7.3_添加阴影和圆角效果\"},{\"text\":\"7.4 处理卡片点击事件\",\"link\":\"/custom_views/7.4_处理卡片点击事件\"}]},{\"text\":\"第8章 头像组件实现\",\"collapsed\":false,\"items\":[{\"text\":\"8.1 结合图像和在线状态指示器\",\"link\":\"/custom_views/8.1_结合图像和在线状态指示器\"},{\"text\":\"8.2 处理不同尺寸的头像显示\",\"link\":\"/custom_views/8.2_处理不同尺寸的头像显示\"},{\"text\":\"8.3 实现占位符或默认头像\",\"link\":\"/custom_views/8.3_实现占位符或默认头像\"},{\"text\":\"8.4 添加点击交互预览大图\",\"link\":\"/custom_views/8.4_添加点击交互预览大图\"}]},{\"text\":\"第9章 表单行与输入控件\",\"collapsed\":false,\"items\":[{\"text\":\"9.1 设计包含标签和输入控件的行\",\"link\":\"/custom_views/9.1_设计包含标签和输入控件的行\"},{\"text\":\"9.2 支持不同类型的输入控件\",\"link\":\"/custom_views/9.2_支持不同类型的输入控件\"},{\"text\":\"9.3 添加错误信息显示区域\",\"link\":\"/custom_views/9.3_添加错误信息显示区域\"},{\"text\":\"9.4 统一表单行的样式\",\"link\":\"/custom_views/9.4_统一表单行的样式\"}]},{\"text\":\"第10章 自定义 ViewModifier\",\"collapsed\":false,\"items\":[{\"text\":\"10.1 创建自定义 ViewModifier 协议实现\",\"link\":\"/custom_views/10.1_创建自定义ViewModifier协议实现\"},{\"text\":\"10.2 封装通用样式（如卡片样式）\",\"link\":\"/custom_views/10.2_封装通用样式(如卡片样式)\"},{\"text\":\"10.3 通过 View 扩展简化修饰符调用\",\"link\":\"/custom_views/10.3_通过View扩展简化修饰符调用\"},{\"text\":\"10.4 链式调用多个自定义修饰符\",\"link\":\"/custom_views/10.4_链式调用多个自定义修饰符\"}]},{\"text\":\"第11章 环境值与数据传递\",\"collapsed\":false,\"items\":[{\"text\":\"11.1 使用 EnvironmentValues 传递全局配置\",\"link\":\"/custom_views/11.1_使用EnvironmentValues传递全局配置\"},{\"text\":\"11.2 定义自定义 EnvironmentKey\",\"link\":\"/custom_views/11.2_定义自定义EnvironmentKey\"},{\"text\":\"11.3 使用 PreferenceKey 向上传递数据\",\"link\":\"/custom_views/11.3_使用PreferenceKey从子视图向父视图传递数据\"},{\"text\":\"11.4 实现主题切换功能\",\"link\":\"/custom_views/11.4_实现主题切换功能\"}]},{\"text\":\"第12章 泛型与多视图组件\",\"collapsed\":false,\"items\":[{\"text\":\"12.1 使用泛型创建灵活的容器视图\",\"link\":\"/custom_views/12.1_使用泛型创建灵活的容器视图\"},{\"text\":\"12.2 利用 @ViewBuilder 构建多个子视图组件\",\"link\":\"/custom_views/12.2_利用@ViewBuilder构建可接受多个子视图的组件\"},{\"text\":\"12.3 泛型约束在组件中的应用\",\"link\":\"/custom_views/12.3_泛型约束在组件中的应用\"},{\"text\":\"12.4 创建自定义容器组件（如 CustomVStack）\",\"link\":\"/custom_views/12.4_创建一个自定义的容器组件(如CustomVStack)\"}]},{\"text\":\"第13章 几何布局与尺寸读取\",\"collapsed\":false,\"items\":[{\"text\":\"13.1 使用 GeometryReader 获取父视图尺寸\",\"link\":\"/custom_views/13.1_使用GeometryReader获取父视图尺寸\"},{\"text\":\"13.2 实现自适应布局组件\",\"link\":\"/custom_views/13.2_实现自适应布局的组件\"},{\"text\":\"13.3 读取视图的坐标和位置\",\"link\":\"/custom_views/13.3_读取视图的坐标和位置\"},{\"text\":\"13.4 避免 GeometryReader 的陷阱\",\"link\":\"/custom_views/13.4_避免GeometryReader的常见陷阱\"}]},{\"text\":\"第14章 Swift 包管理\",\"collapsed\":false,\"items\":[{\"text\":\"14.1 初始化 Swift 包项目\",\"link\":\"/custom_views/14.1_初始化Swift包项目\"},{\"text\":\"14.2 配置 Package.swift 文件\",\"link\":\"/custom_views/14.2_配置Package.swift文件\"},{\"text\":\"14.3 定义库和目标（Library & Target）\",\"link\":\"/custom_views/14.3_定义库和目标(Library_&_Target)\"},{\"text\":\"14.4 将组件代码移入包中\",\"link\":\"/custom_views/14.4_将组件代码移入包中\"}]},{\"text\":\"第15章 文档与测试\",\"collapsed\":false,\"items\":[{\"text\":\"15.1 为公共 API 编写文档注释\",\"link\":\"/custom_views/15.1_为公共API编写文档注释\"},{\"text\":\"15.2 创建组件的使用示例\",\"link\":\"/custom_views/15.2_创建组件的使用示例\"},{\"text\":\"15.3 编写单元测试验证组件逻辑\",\"link\":\"/custom_views/15.3_编写单元测试验证组件逻辑\"},{\"text\":\"15.4 编写 UI 测试确保视图表现\",\"link\":\"/custom_views/15.4_编写UI测试确保视图表现\"}]},{\"text\":\"第16章 发布与集成\",\"collapsed\":false,\"items\":[{\"text\":\"16.1 将代码推送到 GitHub\",\"link\":\"/custom_views/16.1_将代码推送到GitHub\"},{\"text\":\"16.2 创建版本标签（Tagging Versions）\",\"link\":\"/custom_views/16.2_创建版本标签(Tagging_Versions)\"},{\"text\":\"16.3 在 Xcode 中添加 Swift 包依赖\",\"link\":\"/custom_views/16.3_在Xcode中添加Swift包依赖\"},{\"text\":\"16.4 更新和维护组件库\",\"link\":\"/custom_views/16.4_更新和维护组件库\"}]}],\"/core/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/core/\"}]},{\"text\":\"第1章 视图与布局系统\",\"collapsible\":true,\"items\":[{\"text\":\"1.1 声明式语法入门\",\"link\":\"/core/1.1_声明式语法入门\"},{\"text\":\"1.2 构建基本视图\",\"link\":\"/core/1.2_构建基本视图：Text, Image, Shape\"},{\"text\":\"1.3 使用Stack组合视图\",\"link\":\"/core/1.3_使用 VStack, HStack, ZStack 组合视图\"},{\"text\":\"1.4 Spacer与Divider\",\"link\":\"/core/1.4_掌握 Spacer 与 Divider\"},{\"text\":\"1.5 布局微调技术\",\"link\":\"/core/1.5_使用 Padding, Frame, Offset 进行微调\"},{\"text\":\"1.6 对齐与分布\",\"link\":\"/core/1.6_对齐与分布指南\"},{\"text\":\"1.7 安全区域处理\",\"link\":\"/core/1.7_安全区域与边缘忽略\"}]},{\"text\":\"第2章 控件与用户交互\",\"collapsible\":true,\"items\":[{\"text\":\"2.1 Button的使用\",\"link\":\"/core/2.1_按钮 Button 的使用与自定义\"},{\"text\":\"2.2 文本输入控件\",\"link\":\"/core/2.2_文本输入：TextField 与 TextEditor\"},{\"text\":\"2.3 Toggle与Slider\",\"link\":\"/core/2.3_开关 Toggle 与滑块 Slider\"},{\"text\":\"2.4 Picker样式\",\"link\":\"/core/2.4_选择器 Picker 的不同样式\"},{\"text\":\"2.5 Stepper与DatePicker\",\"link\":\"/core/2.5_步进器 Stepper 与日期选择器 DatePicker\"},{\"text\":\"2.6 手势识别\",\"link\":\"/core/2.6_手势识别：Tap, LongPress, Drag\"}]},{\"text\":\"第3章 视图内部状态\",\"collapsible\":true,\"items\":[{\"text\":\"3.1 @State管理状态\",\"link\":\"/core/3.1_使用 @State 管理简单值类型\"},{\"text\":\"3.2 @Binding双向绑定\",\"link\":\"/core/3.2_使用 @Binding 创建双向绑定\"},{\"text\":\"3.3 视图身份与生命周期\",\"link\":\"/core/3.3_理解视图的身份与生命周期\"}]},{\"text\":\"第4章 跨视图数据共享\",\"collapsible\":true,\"items\":[{\"text\":\"4.1 @StateObject管理对象\",\"link\":\"/core/4.1_使用 @StateObject 管理引用类型生命周期\"},{\"text\":\"4.2 @ObservedObject订阅\",\"link\":\"/core/4.2_使用 @ObservedObject 订阅外部对象\"},{\"text\":\"4.3 @EnvironmentObject全局共享\",\"link\":\"/core/4.3_使用 @EnvironmentObject 进行全局数据传递\"},{\"text\":\"4.4 @Published属性包装器\",\"link\":\"/core/4.4_理解 @Published 属性包装器\"}]},{\"text\":\"第5章 环境与偏好设置\",\"collapsible\":true,\"items\":[{\"text\":\"5.1 读取@Environment\",\"link\":\"/core/5.1_读取环境值 @Environment\"},{\"text\":\"5.2 自定义环境键\",\"link\":\"/core/5.2_自定义环境键 EnvironmentKey\"},{\"text\":\"5.3 PreferenceKey使用\",\"link\":\"/core/5.3_使用 PreferenceKey 从子视图向上传递数据\"},{\"text\":\"5.4 AnchorPreferences对齐\",\"link\":\"/core/5.4_使用 AnchorPreferences 进行几何对齐\"}]},{\"text\":\"第6章 构建动态列表\",\"collapsible\":true,\"items\":[{\"text\":\"6.1 List基本用法\",\"link\":\"/core/6.1_List 的基本用法与数据源\"},{\"text\":\"6.2 ForEach与Identifiable\",\"link\":\"/core/6.2_ForEach 的使用与 Identifiable 协议\"},{\"text\":\"6.3 自定义列表行\",\"link\":\"/core/6.3_自定义列表行视图\"},{\"text\":\"6.4 列表编辑模式\",\"link\":\"/core/6.4_实现列表的编辑模式：移动与删除\"},{\"text\":\"6.5 分组列表与大纲\",\"link\":\"/core/6.5_分组列表 Section 与大纲视图 OutlineGroup\"}]},{\"text\":\"第7章 导航与视图呈现\",\"collapsible\":true,\"items\":[{\"text\":\"7.1 NavigationStack使用\",\"link\":\"/core/7.1_NavigationStack 与 NavigationLink\"},{\"text\":\"7.2 编程式导航\",\"link\":\"/core/7.2_导航路径与编程式导航\"},{\"text\":\"7.3 导航栏定制\",\"link\":\"/core/7.3_导航栏标题与按钮定制\"},{\"text\":\"7.4 模态呈现\",\"link\":\"/core/7.4_模态呈现：Sheet 与 FullScreenCover\"},{\"text\":\"7.5 警报与确认对话框\",\"link\":\"/core/7.5_警报 Alert 与确认对话框 confirmationDialog\"}]},{\"text\":\"第8章 高级布局技术\",\"collapsible\":true,\"items\":[{\"text\":\"8.1 ScrollView使用\",\"link\":\"/core/8.1_滚动视图 ScrollView 与 ScrollViewReader\"},{\"text\":\"8.2 GeometryReader\",\"link\":\"/core/8.2_几何读取器 GeometryReader\"},{\"text\":\"8.3 自定义布局容器\",\"link\":\"/core/8.3_自定义布局容器 Layout 协议\"},{\"text\":\"8.4 网格布局\",\"link\":\"/core/8.4_网格布局：LazyVGrid 与 LazyHGrid\"},{\"text\":\"8.5 视图坐标转换\",\"link\":\"/core/8.5_视图坐标空间转换\"}]},{\"text\":\"第9章 自定义视图修饰符\",\"collapsible\":true,\"items\":[{\"text\":\"9.1 封装通用样式\",\"link\":\"/core/9.1_封装通用样式\"},{\"text\":\"9.2 创建ViewModifier\",\"link\":\"/core/9.2_创建自定义 ViewModifier 协议实现\"},{\"text\":\"9.3 链式调用原理\",\"link\":\"/core/9.3_链式调用修饰符的原理\"}]},{\"text\":\"第10章 动画基础\",\"collapsible\":true,\"items\":[{\"text\":\"10.1 隐式动画\",\"link\":\"/core/10.1_隐式动画 .animation() 修饰符\"},{\"text\":\"10.2 显式动画\",\"link\":\"/core/10.2_显式动画 withAnimation 代码块\"},{\"text\":\"10.3 动画曲线控制\",\"link\":\"/core/10.3_控制动画曲线与延迟\"},{\"text\":\"10.4 视图匹配动画\",\"link\":\"/core/10.4_使用 .matchedGeometryEffect 实现视图匹配动画\"}]},{\"text\":\"第11章 高级动画与转场\",\"collapsible\":true,\"items\":[{\"text\":\"11.1 视图转场\",\"link\":\"/core/11.1_视图转场 .transition() 修饰符\"},{\"text\":\"11.2 自定义转场\",\"link\":\"/core/11.2_创建自定义 AnyTransition\"},{\"text\":\"11.3 Animatable协议\",\"link\":\"/core/11.3_Animatable 协议与矢量动画\"},{\"text\":\"11.4 TimelineView应用\",\"link\":\"/core/11.4_TimelineView 与 Canvas 的应用\"}]},{\"text\":\"第12章 在SwiftUI中使用UIKit/AppKit\",\"collapsible\":true,\"items\":[{\"text\":\"12.1 UIViewRepresentable\",\"link\":\"/core/12.1_使用 UIViewRepresentable 封装 UIKit 视图\"},{\"text\":\"12.2 UIViewControllerRepresentable\",\"link\":\"/core/12.2_使用 UIViewControllerRepresentable 封装视图控制器\"},{\"text\":\"12.3 协调器处理\",\"link\":\"/core/12.3_处理协调器 Coordinator\"}]},{\"text\":\"第13章 在UIKit/AppKit中使用SwiftUI\",\"collapsible\":true,\"items\":[{\"text\":\"13.1 UIHostingController\",\"link\":\"/core/13.1_使用 UIHostingController 嵌入 SwiftUI 视图\"},{\"text\":\"13.2 在UITableViewCell中使用\",\"link\":\"/core/13.2_在 UITableViewCell 中嵌入 SwiftUI 视图\"},{\"text\":\"13.3 尺寸与更新管理\",\"link\":\"/core/13.3_管理 SwiftUI 视图的尺寸与更新\"}]},{\"text\":\"第14章 异步操作与数据获取\",\"collapsible\":true,\"items\":[{\"text\":\"14.1 async-await使用\",\"link\":\"/core/14.1_在 SwiftUI 中使用 async-await\"},{\"text\":\"14.2 task修饰符\",\"link\":\"/core/14.2_任务修饰符 .task()\"},{\"text\":\"14.3 下拉刷新\",\"link\":\"/core/14.3_下拉刷新 .refreshable()\"},{\"text\":\"14.4 加载与错误处理\",\"link\":\"/core/14.4_处理加载与错误状态\"}]},{\"text\":\"第15章 性能优化技巧\",\"collapsible\":true,\"items\":[{\"text\":\"15.1 视图更新分析\",\"link\":\"/core/15.1_分析视图更新的原因\"},{\"text\":\"15.2 EquatableView\",\"link\":\"/core/15.2_使用 EquatableView 减少不必要的刷新\"},{\"text\":\"15.3 懒加载视图\",\"link\":\"/core/15.3_懒加载视图 Lazy Stacks\"},{\"text\":\"15.4 性能分析工具\",\"link\":\"/core/15.4_Instruments SwiftUI 性能分析工具\"}]},{\"text\":\"第16章 可访问性与本地化\",\"collapsible\":true,\"items\":[{\"text\":\"16.1 可访问性标签\",\"link\":\"/core/16.1_为视图添加可访问性标签与提示\"},{\"text\":\"16.2 动态类型支持\",\"link\":\"/core/16.2_支持动态类型 (Dynamic Type)\"},{\"text\":\"16.3 字符串本地化\",\"link\":\"/core/16.3_实现字符串本地化\"},{\"text\":\"16.4 RTL布局处理\",\"link\":\"/core/16.4_处理从右到左 (RTL) 布局\"}]}],\"/network/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/network/\"}]},{\"text\":\"第1章 理解网络请求核心概念\",\"items\":[{\"text\":\"HTTP/HTTPS协议基础\",\"link\":\"/network/1.1_HTTP、HTTPS协议基础\"},{\"text\":\"理解RESTful API\",\"link\":\"/network/1.2_理解RESTful API\"},{\"text\":\"JSON数据格式解析\",\"link\":\"/network/1.3_JSON数据格式解析\"},{\"text\":\"HTTP请求方法\",\"link\":\"/network/1.4_HTTP请求方法\"},{\"text\":\"状态码的意义\",\"link\":\"/network/1.5_状态码的意义\"}]},{\"text\":\"第2章 使用URLSession发起请求\",\"items\":[{\"text\":\"创建URL对象\",\"link\":\"/network/2.1_创建URL对象\"},{\"text\":\"配置URLRequest\",\"link\":\"/network/2.2_配置URLRequest\"},{\"text\":\"使用dataTask发送GET请求\",\"link\":\"/network/2.3_使用dataTask发送GET请求\"},{\"text\":\"处理URLSession的回调\",\"link\":\"/network/2.4_处理URLSession的回调\"},{\"text\":\"将接收到的Data转换为可用类型\",\"link\":\"/network/2.5_将接收到的Data转换为可用类型\"}]},{\"text\":\"第3章 处理POST请求与请求体\",\"items\":[{\"text\":\"设置HTTP方法为POST\",\"link\":\"/network/3.1_设置HTTP方法为POST\"},{\"text\":\"构建JSON请求体 (body)\",\"link\":\"/network/3.2_构建JSON请求体\"},{\"text\":\"使用JSONEncoder编码数据\",\"link\":\"/network/3.3_使用JSONEncoder编码数据\"},{\"text\":\"设置HTTP请求头\",\"link\":\"/network/3.4_设置HTTP请求头\"},{\"text\":\"发送并处理POST请求的响应\",\"link\":\"/network/3.5_发送并处理POST请求的响应\"}]},{\"text\":\"第4章 数据模型与解码 (Codable)\",\"items\":[{\"text\":\"定义符合Decodable协议的数据结构\",\"link\":\"/network/4.1_定义符合Decodable协议的数据结构\"},{\"text\":\"使用JSONDecoder解码JSON数据\",\"link\":\"/network/4.2_使用JSONDecoder解码JSON数据\"},{\"text\":\"处理嵌套JSON对象\",\"link\":\"/network/4.3_处理嵌套JSON对象\"},{\"text\":\"处理JSON数组\",\"link\":\"/network/4.4_处理JSON数组\"},{\"text\":\"自定义解码策略\",\"link\":\"/network/4.5_自定义解码策略\"}]},{\"text\":\"第5章 状态管理与数据流\",\"items\":[{\"text\":\"使用@State管理简单的视图状态\",\"link\":\"/network/5.1_使用@State管理简单的视图状态\"},{\"text\":\"创建遵循ObservableObject协议的ViewModel\",\"link\":\"/network/5.2_创建遵循ObservableObject协议的ViewModel\"},{\"text\":\"使用@Published发布数据变更\",\"link\":\"/network/5.3_使用@Published发布数据变更\"},{\"text\":\"在视图中使用@StateObject或@ObservedObject订阅ViewModel\",\"link\":\"/network/5.4_在视图中使用@StateObject或@ObservedObject订阅ViewModel\"},{\"text\":\"将网络数据显示在SwiftUI视图上\",\"link\":\"/network/5.5_将网络数据显示在SwiftUI视图上\"}]},{\"text\":\"第6章 异步操作与主线程更新\",\"items\":[{\"text\":\"理解并发与主线程安全\",\"link\":\"/network/6.1_理解并发与主线程安全\"},{\"text\":\"使用DispatchQueue.main.async更新UI\",\"link\":\"/network/6.2_使用DispatchQueue.main.async更新UI\"},{\"text\":\"在ViewModel中封装异步网络调用\",\"link\":\"/network/6.3_在ViewModel中封装异步网络调用\"},{\"text\":\"显示加载中(Loading)状态\",\"link\":\"/network/6.4_显示加载中(Loading)状态\"},{\"text\":\"处理并显示网络错误信息\",\"link\":\"/network/6.5_处理并显示网络错误信息\"}]},{\"text\":\"第7章 使用Async/Await简化异步代码\",\"items\":[{\"text\":\"将传统闭包回调重构为async函数\",\"link\":\"/network/7.1_将传统闭包回调重构为async函数\"},{\"text\":\"使用await调用异步函数\",\"link\":\"/network/7.2_使用await调用异步函数\"},{\"text\":\"URLSession对async/await的支持\",\"link\":\"/network/7.3_URLSession对async、await的支持\"},{\"text\":\"创建异步网络请求函数\",\"link\":\"/network/7.4_创建异步网络请求函数\"}]},{\"text\":\"第8章 SwiftUI与Async/Await集成\",\"items\":[{\"text\":\"在.task视图修饰符中调用异步函数\",\"link\":\"/network/8.1_在.task视图修饰符中调用异步函数\"},{\"text\":\"处理异步任务的生命周期\",\"link\":\"/network/8.2_处理异步任务的生命周期\"},{\"text\":\"在ViewModel中使用async/await获取数据\",\"link\":\"/network/8.3_在ViewModel中使用async、await获取数据\"},{\"text\":\"结构化并发：使用TaskGroup\",\"link\":\"/network/8.4_结构化并发：使用TaskGroup\"},{\"text\":\"任务取消(Task Cancellation)的处理\",\"link\":\"/network/8.5_任务取消(Task Cancellation)的处理\"}]},{\"text\":\"第9章 错误处理\",\"items\":[{\"text\":\"使用do-catch语句处理throws函数\",\"link\":\"/network/9.1_使用do-catch语句处理throws函数\"},{\"text\":\"定义自定义错误类型\",\"link\":\"/network/9.2_定义自定义错误类型\"},{\"text\":\"从网络层向上传递错误\",\"link\":\"/network/9.3_从网络层向上传递错误\"},{\"text\":\"在UI层优雅地展示错误信息\",\"link\":\"/network/9.4_在UI层优雅地展示错误信息\"}]},{\"text\":\"第10章 网络层抽象与设计\",\"items\":[{\"text\":\"创建通用的APIService层\",\"link\":\"/network/10.1_创建通用的APIService层\"},{\"text\":\"使用泛型构建可重用的请求函数\",\"link\":\"/network/10.2_使用泛型构建可重用的请求函数\"},{\"text\":\"定义API端点 (Endpoints)\",\"link\":\"/network/10.3_定义API端点_(Endpoints)\"},{\"text\":\"依赖注入(Dependency Injection)网络服务\",\"link\":\"/network/10.4_依赖注入(Dependency_Injection)网络服务\"},{\"text\":\"编写单元测试与模拟网络请求\",\"link\":\"/network/10.5_编写单元测试与模拟网络请求\"}]},{\"text\":\"第11章 处理复杂网络场景\",\"items\":[{\"text\":\"处理认证与令牌 (Token)\",\"link\":\"/network/11.1_处理认证与令牌(Token)\"},{\"text\":\"刷新令牌 (Refresh Token) 机制\",\"link\":\"/network/11.2_刷新令牌(Refresh_Token)机制\"},{\"text\":\"实现请求重试逻辑\",\"link\":\"/network/11.3_实现请求重试逻辑\"},{\"text\":\"文件上传与下载\",\"link\":\"/network/11.4_文件上传与下载\"},{\"text\":\"配置URLSessionConfiguration\",\"link\":\"/network/11.5_配置URLSessionConfiguration\"}]},{\"text\":\"第12章 第三方库与性能优化\",\"items\":[{\"text\":\"Alamofire库简介与集成\",\"link\":\"/network/12.1_Alamofire库简介与集成\"},{\"text\":\"使用Alamofire简化请求\",\"link\":\"/network/12.2_使用Alamofire简化请求\"},{\"text\":\"缓存策略：实现客户端缓存\",\"link\":\"/network/12.3_缓存策略：实现客户端缓存\"},{\"text\":\"图像的异步加载与缓存\",\"link\":\"/network/12.4_图像的异步加载与缓存\"},{\"text\":\"使用Combine处理复杂数据流\",\"link\":\"/network/12.5_使用Combine处理复杂数据流\"}]}],\"/geometry/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/geometry/\"}]},{\"text\":\"第1章 理解 matchedGeometryEffect 的基本原理\",\"items\":[{\"text\":\"什么是matchedGeometryEffect？\",\"link\":\"/geometry/1.1_什么是matchedGeometryEffect？\"},{\"text\":\"核心参数\",\"link\":\"/geometry/1.2_核心参数\"},{\"text\":\"Namespace的作用与创建\",\"link\":\"/geometry/1.3_Namespace的作用与创建\"},{\"text\":\"使用@Namespace创建动画命名空间\",\"link\":\"/geometry/1.4_使用@Namespace创建动画命名空间\"},{\"text\":\"id参数：标识视图的唯一性\",\"link\":\"/geometry/1.5_id参数：标识视图的唯一性\"}]},{\"text\":\"第2章 实现简单的视图过渡动画\",\"items\":[{\"text\":\"在两个独立视图之间创建过渡\",\"link\":\"/geometry/2.1_在两个独立视图之间创建过渡\"},{\"text\":\"使用@State切换视图状态以触发动画\",\"link\":\"/geometry/2.2_使用@State切换视图状态以触发动画\"},{\"text\":\"同步源视图与目标视图的几何属性\",\"link\":\"/geometry/2.3_同步源视图与目标视图的几何属性\"},{\"text\":\"基础示例：按钮选择指示器动画\",\"link\":\"/geometry/2.4_基础示例：按钮选择指示器动画\"},{\"text\":\"基础示例：缩略图到全屏图的过渡\",\"link\":\"/geometry/2.5_基础示例：缩略图到全屏图的过渡\"}]},{\"text\":\"第3章 控制动画属性与锚点\",\"items\":[{\"text\":\"properties参数-仅匹配特定几何属性\",\"link\":\"/geometry/3.1_properties参数-仅匹配特定几何属性\"},{\"text\":\"使用.size实现尺寸匹配动画\",\"link\":\"/geometry/3.2_使用.size实现尺寸匹配动画\"},{\"text\":\"使用.position实现位置匹配动画\",\"link\":\"/geometry/3.3_使用.position实现位置匹配动画\"},{\"text\":\"anchor 参数：控制动画的对齐基准点\",\"link\":\"/geometry/3.4_anchor参数：控制动画的对齐基准点\"},{\"text\":\"不同anchor值的效果对比\",\"link\":\"/geometry/3.5_不同anchor值的效果对比\"}]},{\"text\":\"第4章 在复杂视图结构中应用\",\"items\":[{\"text\":\"在List或ForEach循环中应用matchedGeometryEffect\",\"link\":\"/geometry/4.1_在List或ForEach循环中应用matchedGeometryEffect\"},{\"text\":\"为动态列表项设置唯一的id\",\"link\":\"/geometry/4.2_为动态列表项设置唯一的id\"},{\"text\":\"实现列表项到详情页的平滑过渡\",\"link\":\"/geometry/4.3_实现列表项到详情页的平滑过渡\"},{\"text\":\"结合ZStack实现视图层级变换动画\",\"link\":\"/geometry/4.4_结合ZStack实现视图层级变换动画\"},{\"text\":\"处理不同父视图间的过渡动画\",\"link\":\"/geometry/4.5_处理不同父视图间的过渡动画\"}]},{\"text\":\"第5章 解决常见问题与陷阱\",\"items\":[{\"text\":\"解决动画闪烁或跳跃问题\",\"link\":\"/geometry/5.1_解决动画闪烁或跳跃问题\"},{\"text\":\"处理Namespace作用域不正确的情况\",\"link\":\"/geometry/5.2_处理Namespace作用域不正确的情况\"},{\"text\":\"避免在动画期间出现视图拉伸变形\",\"link\":\"/geometry/5.3_避免在动画期间出现视图拉伸变形\"},{\"text\":\"调试技巧：使用GeometryReader检查视图帧\",\"link\":\"/geometry/5.4_调试技巧：使用GeometryReader检查视图帧\"},{\"text\":\"优化性能：减少不必要的视图重绘\",\"link\":\"/geometry/5.5_优化性能：减少不必要的视图重绘\"}]},{\"text\":\"第6章 项目一：构建类似 App Store 的卡片展开动画\",\"items\":[{\"text\":\"布局卡片列表界面\",\"link\":\"/geometry/6.1_布局卡片列表界面\"},{\"text\":\"创建详情页视图\",\"link\":\"/geometry/6.2_创建详情页视图\"},{\"text\":\"使用matchedGeometryEffect连接卡片与详情页\",\"link\":\"/geometry/6.3_使用matchedGeometryEffect连接卡片与详情页\"},{\"text\":\"添加背景模糊与关闭按钮动画\",\"link\":\"/geometry/6.4_添加背景模糊与关闭按钮动画\"},{\"text\":\"处理滚动视图中的卡片动画\",\"link\":\"/geometry/6.5_处理滚动视图中的卡片动画\"}]},{\"text\":\"第7章 项目二：实现动态标签栏（Tab Bar）指示器动画\",\"items\":[{\"text\":\"创建自定义标签栏视图\",\"link\":\"/geometry/7.1_创建自定义标签栏视图\"},{\"text\":\"为选中的标签添加背景指示器\",\"link\":\"/geometry/7.2_为选中的标签添加背景指示器\"},{\"text\":\"使用matchedGeometryEffect实现指示器平滑移动\",\"link\":\"/geometry/7.3_使用matchedGeometryEffect实现指示器平滑移动\"},{\"text\":\"同步指示器与页面内容的切换\",\"link\":\"/geometry/7.4_同步指示器与页面内容的切换\"},{\"text\":\"调整动画曲线与时长\",\"link\":\"/geometry/7.5_调整动画曲线与时长\"}]},{\"text\":\"第8章 项目三：创建“魔法移动”照片墙效果\",\"items\":[{\"text\":\"使用LazyVGrid构建照片网格\",\"link\":\"/geometry/8.1_使用LazyVGrid构建照片网格\"},{\"text\":\"实现点击缩略图放大为全屏视图\",\"link\":\"/geometry/8.2_实现点击缩略图放大为全屏视图\"},{\"text\":\"在网格和全屏视图间应用matchedGeometryEffect\",\"link\":\"/geometry/8.3_在网格和全屏视图间应用matchedGeometryEffect\"},{\"text\":\"处理不同宽高比图像的过渡\",\"link\":\"/geometry/8.4_处理不同宽高比图像的过渡\"},{\"text\":\"添加手势交互以关闭全屏视图\",\"link\":\"/geometry/8.5_添加手势交互以关闭全屏视图\"}]}],\"/refactor/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/refactor/\"}]},{\"text\":\"第1章 识别并提取可复用视图\",\"collapsed\":false,\"items\":[{\"text\":\"1.1 识别重复的视图代码块\",\"link\":\"/refactor/1.1_识别重复的视图代码块\"},{\"text\":\"1.2 使用struct创建新的自定义View\",\"link\":\"/refactor/1.2_使用`struct`创建新的自定义View\"},{\"text\":\"1.3 将提取的视图替换回原代码\",\"link\":\"/refactor/1.3_将提取的视图替换回原代码\"},{\"text\":\"1.4 为新视图提供描述性命名\",\"link\":\"/refactor/1.4_为新视图提供描述性命名\"}]},{\"text\":\"第2章 通过属性传递数据\",\"collapsed\":false,\"items\":[{\"text\":\"2.1 为组件定义let常量属性\",\"link\":\"/refactor/2.1_为组件定义`let`常量属性\"},{\"text\":\"2.2 在父视图中初始化并传递数据\",\"link\":\"/refactor/2.2_在父视图中初始化并传递数据\"},{\"text\":\"2.3 使用@State管理组件内部状态\",\"link\":\"/refactor/2.3_使用`@State`管理组件内部状态\"},{\"text\":\"2.4 区分何时使用let与@State\",\"link\":\"/refactor/2.4_区分何时使用`let`与`@State`\"}]},{\"text\":\"第3章 使用@Binding实现双向数据流\",\"collapsed\":false,\"items\":[{\"text\":\"3.1 理解@Binding的概念与用途\",\"link\":\"/refactor/3.1_理解`@Binding`的概念与用途\"},{\"text\":\"3.2 在子视图中声明@Binding属性\",\"link\":\"/refactor/3.2_在子视图中声明`@Binding`属性\"},{\"text\":\"3.3 在父视图中通过$传递绑定\",\"link\":\"/refactor/3.3_在父视图中通过`$`传递绑定\"},{\"text\":\"3.4 实现父子视图状态的实时同步\",\"link\":\"/refactor/3.4_实现父子视图状态的实时同步\"}]},{\"text\":\"第4章 通过闭包处理组件事件\",\"collapsed\":false,\"items\":[{\"text\":\"4.1 在组件中定义动作闭包属性\",\"link\":\"/refactor/4.1_在组件中定义动作闭包属性\"},{\"text\":\"4.2 在组件内部的交互控件中调用闭包\",\"link\":\"/refactor/4.2_在组件内部的交互控件中调用闭包\"},{\"text\":\"4.3 父视图实现闭包以响应事件\",\"link\":\"/refactor/4.3_父视图实现闭包以响应事件\"},{\"text\":\"4.4 传递无参数和带参数的闭包\",\"link\":\"/refactor/4.4_传递无参数和带参数的闭包\"}]},{\"text\":\"第5章 自定义视图修饰符(ViewModifier)\",\"collapsed\":false,\"items\":[{\"text\":\"5.1 创建符合ViewModifier协议的结构体\",\"link\":\"/refactor/5.1_创建符合`ViewModifier`协议的结构体\"},{\"text\":\"5.2 实现body(content:)方法\",\"link\":\"/refactor/5.2_实现`body(content-)`方法\"},{\"text\":\"5.3 通过modifier()应用修饰符\",\"link\":\"/refactor/5.3_通过`modifier()`应用修饰符\"},{\"text\":\"5.4 使用extension View简化调用\",\"link\":\"/refactor/5.4_使用`extension View`简化调用\"}]},{\"text\":\"第6章 利用泛型构建通用组件\",\"collapsed\":false,\"items\":[{\"text\":\"6.1 为自定义View添加泛型参数\",\"link\":\"/refactor/6.1_为自定义View添加泛型参数\"},{\"text\":\"6.2 使用where子句约束泛型类型\",\"link\":\"/refactor/6.2_使用`where`子句约束泛型类型\"},{\"text\":\"6.3 构建通用列表行或容器视图\",\"link\":\"/refactor/6.3_构建通用列表行或容器视图\"},{\"text\":\"6.4 泛型在数据展示组件中的应用\",\"link\":\"/refactor/6.4_泛型在数据展示组件中的应用\"}]},{\"text\":\"第7章 使用@ViewBuilder构建灵活的容器\",\"collapsed\":false,\"items\":[{\"text\":\"7.1 理解@ViewBuilder的作用\",\"link\":\"/refactor/7.1_理解`@ViewBuilder`的作用\"},{\"text\":\"7.2 在初始化器或函数参数中使用\",\"link\":\"/refactor/7.2_在初始化器或函数参数中使用\"},{\"text\":\"7.3 创建接受多个子视图的自定义容器\",\"link\":\"/refactor/7.3_创建接受多个子视图的自定义容器\"},{\"text\":\"7.4 实现类似VStack或HStack的组件\",\"link\":\"/refactor/7.4_实现类似`VStack`或`HStack`的组件\"}]},{\"text\":\"第8章 封装环境对象(EnvironmentObject)\",\"collapsed\":false,\"items\":[{\"text\":\"8.1 定义ObservableObject作为数据源\",\"link\":\"/refactor/8.1_定义`ObservableObject`作为数据源\"},{\"text\":\"8.2 在视图层级高层注入环境对象\",\"link\":\"/refactor/8.2_在视图层级高层注入环境对象\"},{\"text\":\"8.3 在子组件中使用@EnvironmentObject访问\",\"link\":\"/refactor/8.3_在子组件中使用`@EnvironmentObject`访问\"},{\"text\":\"8.4 环境对象在主题或账户管理中的应用\",\"link\":\"/refactor/8.4_环境对象在主题或账户管理中的应用\"}]},{\"text\":\"第9章 识别巨型视图(Massive View)\",\"collapsed\":false,\"items\":[{\"text\":\"9.1 检查超过200行的body属性\",\"link\":\"/refactor/9.1_检查超过200行的`body`属性\"},{\"text\":\"9.2 识别嵌套层级过深的视图结构\",\"link\":\"/refactor/9.2_识别嵌套层级过深的视图结构\"},{\"text\":\"9.3 评估视图是否承担过多职责\",\"link\":\"/refactor/9.3_评估视图是否承担过多职责\"},{\"text\":\"9.4 视图逻辑与UI描述混杂的迹象\",\"link\":\"/refactor/9.4_视图逻辑与UI描述混杂的迹象\"}]},{\"text\":\"第10章 识别混乱的状态管理\",\"collapsed\":false,\"items\":[{\"text\":\"10.1 过度使用@State导致状态分散\",\"link\":\"/refactor/10.1_过度使用`@State`导致状态分散\"},{\"text\":\"10.2 不恰当的@ObservedObject刷新\",\"link\":\"/refactor/10.2_不恰当的`@ObservedObject`刷新\"},{\"text\":\"10.3 数据源不明确\",\"link\":\"/refactor/10.3_数据源不明确（Source of Truth混乱）\"},{\"text\":\"10.4 @Binding链条过长难以追踪\",\"link\":\"/refactor/10.4_`@Binding`链条过长难以追踪\"}]},{\"text\":\"第11章 识别不当的逻辑放置\",\"collapsed\":false,\"items\":[{\"text\":\"11.1 在body中执行复杂的计算\",\"link\":\"/refactor/11.1_在`body`中执行复杂的计算或数据转换\"},{\"text\":\"11.2 网络请求或数据库操作在View中触发\",\"link\":\"/refactor/11.2_网络请求或数据库操作直接在View中触发\"},{\"text\":\"11.3 业务逻辑与视图代码耦合\",\"link\":\"/refactor/11.3_业务逻辑与视图代码紧密耦合\"},{\"text\":\"11.4 辅助函数滥用\",\"link\":\"/refactor/11.4_辅助函数(Helper)滥用\"}]},{\"text\":\"第12章 拆分巨型视图\",\"collapsed\":false,\"items\":[{\"text\":\"12.1 按功能区域拆分为子视图\",\"link\":\"/refactor/12.1_按功能区域拆分为子视图\"},{\"text\":\"12.2 提取计算属性视图\",\"link\":\"/refactor/12.2_按逻辑分组提取计算属性视图\"},{\"text\":\"12.3 使用私有方法返回some View\",\"link\":\"/refactor/12.3_使用私有方法返回`some View`\"},{\"text\":\"12.4 应用前述的组件封装技术\",\"link\":\"/refactor/12.4_应用前述的组件封装技术\"}]},{\"text\":\"第13章 重构状态管理：引入MVVM\",\"collapsed\":false,\"items\":[{\"text\":\"13.1 创建ViewModel作为ObservableObject\",\"link\":\"/refactor/13.1_创建`ViewModel`作为`ObservableObject`\"},{\"text\":\"13.2 将业务逻辑和状态迁移到ViewModel\",\"link\":\"/refactor/13.2_将业务逻辑和状态从View迁移到ViewModel\"},{\"text\":\"13.3 在View中使用@StateObject/@ObservedObject\",\"link\":\"/refactor/13.3_在View中使用`@StateObject`或`@ObservedObject`\"},{\"text\":\"13.4 使用函数和@Published进行交互\",\"link\":\"/refactor/13.4_通过函数和`@Published`属性进行交互\"}]},{\"text\":\"第14章 优化数据流和依赖\",\"collapsed\":false,\"items\":[{\"text\":\"14.1 使用@EnvironmentObject共享全局状态\",\"link\":\"/refactor/14.1_使用`@EnvironmentObject`共享全局状态\"},{\"text\":\"14.2 将多个@State合并为结构体\",\"link\":\"/refactor/14.2_将多个`@State`属性合并到单一结构体中\"},{\"text\":\"14.3 使用Combine处理复杂数据流\",\"link\":\"/refactor/14.3_利用`Combine`处理复杂的数据流\"},{\"text\":\"14.4 通过服务层抽象数据获取\",\"link\":\"/refactor/14.4_通过服务层(Service Layer)抽象数据获取\"}]},{\"text\":\"第15章 精炼视图逻辑\",\"collapsed\":false,\"items\":[{\"text\":\"15.1 将逻辑语句移入ViewModel\",\"link\":\"/refactor/15.1_将`if-else`或`switch`逻辑移入ViewModel\"},{\"text\":\"15.2 创建格式化工具\",\"link\":\"/refactor/15.2_创建专门的格式化工具(Formatter)\"},{\"text\":\"15.3 为模型添加计算属性\",\"link\":\"/refactor/15.3_使用`extension`为数据模型添加计算属性\"},{\"text\":\"15.4 封装重复UI配置到ViewModifier\",\"link\":\"/refactor/15.4_将重复的UI配置封装到`ViewModifier`中\"}]}],\"/animation/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/animation/\"}]},{\"text\":\"第1章 隐式动画\",\"collapsible\":true,\"items\":[{\"text\":\"1.1 使用 .animation() 修饰符\",\"link\":\"/animation/1.1_使用 .animation() 修饰符\"},{\"text\":\"1.2 配置动画曲线\",\"link\":\"/animation/1.2_配置动画曲线- .easeInOut, .linear, .spring\"},{\"text\":\"1.3 设置动画时长\",\"link\":\"/animation/1.3_设置动画时长- duration参数\"},{\"text\":\"1.4 应用 .animation() 到容器视图\",\"link\":\"/animation/1.4_应用 .animation() 到容器视图\"},{\"text\":\"1.5 使用 .animation(nil) 禁用动画\",\"link\":\"/animation/1.5_使用 .animation(nil) 禁用动画\"}]},{\"text\":\"第2章 显式动画\",\"collapsible\":true,\"items\":[{\"text\":\"2.1 使用 withAnimation 代码块\",\"link\":\"/animation/2.1_使用 withAnimation 代码块\"},{\"text\":\"2.2 在 withAnimation 中改变状态\",\"link\":\"/animation/2.2_在 withAnimation 中改变状态\"},{\"text\":\"2.3 为 withAnimation 指定动画曲线和时长\",\"link\":\"/animation/2.3_为 withAnimation 指定动画曲线和时长\"},{\"text\":\"2.4 嵌套 withAnimation 代码块\",\"link\":\"/animation/2.4_嵌套 withAnimation 代码块\"},{\"text\":\"2.5 显式动画与隐式动画的交互\",\"link\":\"/animation/2.5_显式动画与隐式动画的交互\"}]},{\"text\":\"第3章 动画与状态绑定\",\"collapsible\":true,\"items\":[{\"text\":\"3.1 使用 $binding.animation()\",\"link\":\"/animation/3.1_使用 $binding.animation()\"},{\"text\":\"3.2 为 Toggle、Slider 等控件添加动画\",\"link\":\"/animation/3.2_为 Toggle、Slider 等控件添加动画\"},{\"text\":\"3.3 绑定动画的特定参数配置\",\"link\":\"/animation/3.3_绑定动画的特定参数配置\"},{\"text\":\"3.4 理解绑定动画的执行时机\",\"link\":\"/animation/3.4_理解绑定动画的执行时机\"}]},{\"text\":\"第4章 转场（Transitions）\",\"collapsible\":true,\"items\":[{\"text\":\"4.1 使用 .transition() 修饰符\",\"link\":\"/animation/4.1_使用 .transition() 修饰符\"},{\"text\":\"4.2 内置转场效果\",\"link\":\"/animation/4.2_内置转场效果- .opacity, .slide, .scale\"},{\"text\":\"4.3 组合多个转场效果\",\"link\":\"/animation/4.3_组合多个转场效果\"},{\"text\":\"4.4 使用 .asymmetric 创建非对称转场\",\"link\":\"/animation/4.4_使用 .asymmetric 创建非对称转场\"},{\"text\":\"4.5 根据状态切换视图并触发转场\",\"link\":\"/animation/4.5_根据状态切换视图并触发转场\"}]},{\"text\":\"第5章 Animatable 协议与 VectorArithmetic\",\"collapsible\":true,\"items\":[{\"text\":\"5.1 理解 Animatable 协议\",\"link\":\"/animation/5.1_理解 Animatable 协议\"},{\"text\":\"5.2 实现 animatableData 计算属性\",\"link\":\"/animation/5.2_实现 animatableData 计算属性\"},{\"text\":\"5.3 使用 VectorArithmetic 协议\",\"link\":\"/animation/5.3_使用 VectorArithmetic 协议\"},{\"text\":\"5.4 为自定义数据类型添加动画能力\",\"link\":\"/animation/5.4_为自定义数据类型添加动画能力\"},{\"text\":\"5.5 动画化非数值属性 (例如颜色)\",\"link\":\"/animation/5.5_动画化非数值属性 (例如颜色)\"}]},{\"text\":\"第6章 GeometryEffect\",\"collapsible\":true,\"items\":[{\"text\":\"6.1 GeometryEffect 协议基础\",\"link\":\"/animation/6.1_GeometryEffect 协议基础\"},{\"text\":\"6.2 实现 effectValue(size-) 方法\",\"link\":\"/animation/6.2_实现 effectValue(size-) 方法\"},{\"text\":\"6.3 创建自定义视图变换动画\",\"link\":\"/animation/6.3_创建自定义视图变换动画\"},{\"text\":\"6.4 SkewEffect- 实现倾斜效果\",\"link\":\"/animation/6.4_SkewEffect- 实现倾斜效果\"},{\"text\":\"6.5 FollowPathEffect- 实现路径跟随动画\",\"link\":\"/animation/6.5_FollowPathEffect- 实现路径跟随动画\"}]},{\"text\":\"第7章 内置动画曲线\",\"collapsible\":true,\"items\":[{\"text\":\"7.1 线性动画 .linear\",\"link\":\"/animation/7.1_线性动画 .linear\"},{\"text\":\"7.2 缓入缓出 .easeInOut\",\"link\":\"/animation/7.2_缓入缓出 .easeInOut\"},{\"text\":\"7.3 缓入 .easeIn 与 缓出 .easeOut\",\"link\":\"/animation/7.3_缓入 .easeIn 与 缓出 .easeOut\"},{\"text\":\"7.4 自定义缓动曲线 timingCurve\",\"link\":\"/animation/7.4_自定义缓动曲线 timingCurve\"}]},{\"text\":\"第8章 弹簧动画（Spring）\",\"collapsible\":true,\"items\":[{\"text\":\"8.1 基础弹簧动画 .spring()\",\"link\":\"/animation/8.1_基础弹簧动画 .spring()\"},{\"text\":\"8.2 交互式弹簧 .interactiveSpring()\",\"link\":\"/animation/8.2_交互式弹簧 .interactiveSpring()\"},{\"text\":\"8.3 配置弹簧参数- response, dampingFraction\",\"link\":\"/animation/8.3_配置弹簧参数- response, dampingFraction\"},{\"text\":\"8.4 配置弹簧参数- blendDuration\",\"link\":\"/animation/8.4_配置弹簧参数- blendDuration\"},{\"text\":\"8.5 创建果冻效果\",\"link\":\"/animation/8.5_创建果冻效果\"}]},{\"text\":\"第9章 相位动画师（Phase Animator）\",\"collapsible\":true,\"items\":[{\"text\":\"9.1 PhaseAnimator 视图基础\",\"link\":\"/animation/9.1_PhaseAnimator 视图基础\"},{\"text\":\"9.2 定义动画阶段（Phases）\",\"link\":\"/animation/9.2_定义动画阶段（Phases）\"},{\"text\":\"9.3 在 content 闭包中应用视图修饰符\",\"link\":\"/animation/9.3_在 content 闭包中应用视图修饰符\"},{\"text\":\"9.4 在 animation 闭包中配置动画\",\"link\":\"/animation/9.4_在 animation 闭包中配置动画\"},{\"text\":\"9.5 通过 trigger 触发相位动画\",\"link\":\"/animation/9.5_通过 trigger 触发相位动画\"}]},{\"text\":\"第10章 关键帧动画（Keyframe Animator）\",\"collapsible\":true,\"items\":[{\"text\":\"10.1 KeyframeAnimator 视图基础\",\"link\":\"/animation/10.1_KeyframeAnimator 视图基础\"},{\"text\":\"10.2 定义关键帧轨道 KeyframeTrack\",\"link\":\"/animation/10.2_定义关键帧轨道 KeyframeTrack\"},{\"text\":\"10.3 使用 LinearKeyframe\",\"link\":\"/animation/10.3_使用 LinearKeyframe\"},{\"text\":\"10.4 使用 SpringKeyframe\",\"link\":\"/animation/10.4_使用 SpringKeyframe\"},{\"text\":\"10.5 使用 CubicKeyframe\",\"link\":\"/animation/10.5_使用 CubicKeyframe\"}]},{\"text\":\"第11章 形状（Shape）动画\",\"collapsible\":true,\"items\":[{\"text\":\"11.1 动画化路径 Path\",\"link\":\"/animation/11.1_动画化路径 Path\"},{\"text\":\"11.2 使用 animatableData 动画化自定义形状\",\"link\":\"/animation/11.2_使用 animatableData 动画化自定义形状\"},{\"text\":\"11.3 Trim 修剪动画\",\"link\":\"/animation/11.3_Trim 修剪动画- strokeStart, strokeEnd\"},{\"text\":\"11.4 实现路径绘制动画效果\",\"link\":\"/animation/11.4_实现路径绘制动画效果\"},{\"text\":\"11.5 形状变形动画\",\"link\":\"/animation/11.5_形状变形动画\"}]},{\"text\":\"第12章 MatchedGeometryEffect\",\"collapsible\":true,\"items\":[{\"text\":\"12.1 MatchedGeometryEffect 概念与应用\",\"link\":\"/animation/12.1_MatchedGeometryEffect 概念与应用\"},{\"text\":\"12.2 定义命名空间 @Namespace\",\"link\":\"/animation/12.2_定义命名空间 @Namespace\"},{\"text\":\"12.3 在不同视图间同步几何属性\",\"link\":\"/animation/12.3_在不同视图间同步几何属性\"},{\"text\":\"12.4 实现“魔法移动”效果\",\"link\":\"/animation/12.4_实现“魔法移动”效果\"},{\"text\":\"12.5 处理源视图和目标视图的切换\",\"link\":\"/animation/12.5_处理源视图和目标视图的切换\"}]},{\"text\":\"第13章 Canvas 与 TimelineView\",\"collapsible\":true,\"items\":[{\"text\":\"13.1 使用 TimelineView 创建定时更新\",\"link\":\"/animation/13.1_使用 TimelineView 创建定时更新\"},{\"text\":\"13.2 TimelineView 的 schedule 参数\",\"link\":\"/animation/13.2_TimelineView 的 schedule 参数\"},{\"text\":\"13.3 在 Canvas 中绘制动态图形\",\"link\":\"/animation/13.3_在 Canvas 中绘制动态图形\"},{\"text\":\"13.4 结合 TimelineView 和 Canvas 实现复杂动画\",\"link\":\"/animation/13.4_结合 TimelineView 和 Canvas 实现复杂动画\"},{\"text\":\"13.5 动画化 Canvas 中的符号 (Symbols)\",\"link\":\"/animation/13.5_动画化 Canvas 中的符号 (Symbols)\"}]},{\"text\":\"第14章 常见动画案例\",\"collapsible\":true,\"items\":[{\"text\":\"14.1 实现加载指示器动画\",\"link\":\"/animation/14.1_实现加载指示器动画\"},{\"text\":\"14.2 创建卡片翻转效果\",\"link\":\"/animation/14.2_创建卡片翻转效果\"},{\"text\":\"14.3 构建视差滚动效果\",\"link\":\"/animation/14.3_构建视差滚动效果\"},{\"text\":\"14.4 制作可交互的拖拽动画\",\"link\":\"/animation/14.4_制作可交互的拖拽动画\"},{\"text\":\"14.5 实现心跳动画效果\",\"link\":\"/animation/14.5_实现心跳动画效果\"}]},{\"text\":\"第15章 性能考量与调试\",\"collapsible\":true,\"items\":[{\"text\":\"15.1 识别导致性能问题的动画\",\"link\":\"/animation/15.1_识别导致性能问题的动画\"},{\"text\":\"15.2 使用 Instruments 分析动画性能\",\"link\":\"/animation/15.2_使用 Instruments 分析动画性能\"},{\"text\":\"15.3 最小化视图重绘范围\",\"link\":\"/animation/15.3_最小化视图重绘范围\"},{\"text\":\"15.4 将动画计算移出主线程\",\"link\":\"/animation/15.4_将动画计算移出主线程\"},{\"text\":\"15.5 利用 .drawingGroup() 优化渲染\",\"link\":\"/animation/15.5_利用 .drawingGroup() 优化渲染\"}]},{\"text\":\"第16章 与UIKit/AppKit动画集成\",\"collapsible\":true,\"items\":[{\"text\":\"16.1 在 UIViewRepresentable 中使用 UIView 动画\",\"link\":\"/animation/16.1_在 UIViewRepresentable 中使用 UIView 动画\"},{\"text\":\"16.2 在 NSViewRepresentable 中使用 Core Animation\",\"link\":\"/animation/16.2_在 NSViewRepresentable 中使用 Core Animation\"},{\"text\":\"16.3 通过 Coordinator 同步状态\",\"link\":\"/animation/16.3_通过 Coordinator 同步状态\"},{\"text\":\"16.4 从 SwiftUI 触发 UIKit 动画\",\"link\":\"/animation/16.4_从 SwiftUI 触发 UIKit 动画\"}]}],\"/purchase/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/purchase/\"}]},{\"text\":\"第1章 App Store Connect配置\",\"collapsible\":true,\"items\":[{\"text\":\"1.1 创建App记录\",\"link\":\"/purchase/1.1_创建App记录\"},{\"text\":\"1.2 配置消耗品\",\"link\":\"/purchase/1.2_配置App内购买项目：消耗品\"},{\"text\":\"1.3 配置非消耗品\",\"link\":\"/purchase/1.3_配置App内购买项目：非消耗品\"},{\"text\":\"1.4 配置自动续期订阅\",\"link\":\"/purchase/1.4_配置App内购买项目：自动续期订阅\"},{\"text\":\"1.5 配置非续期订阅\",\"link\":\"/purchase/1.5_配置App内购买项目：非续期订阅\"},{\"text\":\"1.6 设置订阅群组\",\"link\":\"/purchase/1.6_设置订阅群组\"},{\"text\":\"1.7 配置沙盒测试员账户\",\"link\":\"/purchase/1.7_配置沙盒测试员账户\"}]},{\"text\":\"第2章 项目环境设置\",\"collapsible\":true,\"items\":[{\"text\":\"2.1 启用App内购买功能\",\"link\":\"/purchase/2.1_在Xcode中启用App内购买功能\"},{\"text\":\"2.2 创建StoreKit配置文件\",\"link\":\"/purchase/2.2_创建StoreKit配置文件(.storekit)\"},{\"text\":\"2.3 添加订阅产品\",\"link\":\"/purchase/2.3_在配置文件中添加订阅产品\"},{\"text\":\"2.4 配置订阅价格和期限\",\"link\":\"/purchase/2.4_配置订阅价格和期限\"},{\"text\":\"2.5 设置不同地区价格\",\"link\":\"/purchase/2.5_为不同地区设置价格\"},{\"text\":\"2.6 关联配置文件到运行方案\",\"link\":\"/purchase/2.6_将StoreKit配置文件关联到运行方案\"}]},{\"text\":\"第3章 产品信息获取\",\"collapsible\":true,\"items\":[{\"text\":\"3.1 异步请求产品信息\",\"link\":\"/purchase/3.1_异步请求产品信息\"},{\"text\":\"3.2 处理产品请求错误\",\"link\":\"/purchase/3.2_处理产品请求错误\"},{\"text\":\"3.3 解析Product对象数据\",\"link\":\"/purchase/3.3_解析Product对象数据\"},{\"text\":\"3.4 显示本地化产品信息\",\"link\":\"/purchase/3.4_显示本地化的产品标题和描述\"},{\"text\":\"3.5 格式化并显示价格\",\"link\":\"/purchase/3.5_格式化并显示价格\"}]},{\"text\":\"第4章 处理购买流程\",\"collapsible\":true,\"items\":[{\"text\":\"4.1 发起购买请求\",\"link\":\"/purchase/4.1_发起购买请求：purchase()方法\"},{\"text\":\"4.2 处理购买结果\",\"link\":\"/purchase/4.2_处理购买结果：PurchaseResult\"},{\"text\":\"4.3 处理用户取消\",\"link\":\"/purchase/4.3_处理用户取消购买\"},{\"text\":\"4.4 处理待处理的交易\",\"link\":\"/purchase/4.4_处理待处理的交易（Ask to Buy）\"},{\"text\":\"4.5 处理购买失败\",\"link\":\"/purchase/4.5_处理购买失败的情况\"}]},{\"text\":\"第5章 验证与状态管理\",\"collapsible\":true,\"items\":[{\"text\":\"5.1 理解Transaction对象\",\"link\":\"/purchase/5.1_理解Transaction对象\"},{\"text\":\"5.2 监听交易更新\",\"link\":\"/purchase/5.2_遍历Transaction.updates以监听交易\"},{\"text\":\"5.3 验证JWS签名\",\"link\":\"/purchase/5.3_验证交易的JWS签名\"},{\"text\":\"5.4 检查订阅权利\",\"link\":\"/purchase/5.4_检查用户的当前订阅权利\"},{\"text\":\"5.5 解锁高级功能\",\"link\":\"/purchase/5.5_解锁高级功能或内容\"},{\"text\":\"5.6 完成交易\",\"link\":\"/purchase/5.6_完成交易：Transaction.finish()\"},{\"text\":\"5.7 处理中断的交易\",\"link\":\"/purchase/5.7_处理中断的交易\"}]},{\"text\":\"第6章 订阅状态与续订\",\"collapsible\":true,\"items\":[{\"text\":\"6.1 获取已购买产品ID\",\"link\":\"/purchase/6.1_获取用户所有已购买的产品ID\"},{\"text\":\"6.2 检查订阅状态\",\"link\":\"/purchase/6.2_检查订阅是否活跃：currentEntitlements\"},{\"text\":\"6.3 确定到期日期\",\"link\":\"/purchase/6.3_确定订阅到期日期\"},{\"text\":\"6.4 处理续订变更\",\"link\":\"/purchase/6.4_处理订阅续订、降级和升级\"},{\"text\":\"6.5 处理过期和宽限期\",\"link\":\"/purchase/6.5_处理订阅过期和宽限期\"},{\"text\":\"6.6 处理退款和撤销\",\"link\":\"/purchase/6.6_处理退款和撤销\"}]},{\"text\":\"第7章 订阅页面设计\",\"collapsible\":true,\"items\":[{\"text\":\"7.1 使用VStack和HStack布局\",\"link\":\"/purchase/7.1_使用VStack和HStack布局页面\"},{\"text\":\"7.2 动态展示产品列表\",\"link\":\"/purchase/7.2_动态展示从StoreKit获取的产品列表\"},{\"text\":\"7.3 设计购买按钮\",\"link\":\"/purchase/7.3_设计吸引人的购买按钮\"},{\"text\":\"7.4 显示条款和隐私政策\",\"link\":\"/purchase/7.4_显示订阅条款和隐私政策链接\"},{\"text\":\"7.5 添加恢复购买按钮\",\"link\":\"/purchase/7.5_添加“恢复购买”按钮\"}]},{\"text\":\"第8章 SwiftUI视图与StoreKit集成\",\"collapsible\":true,\"items\":[{\"text\":\"8.1 创建StoreManager\",\"link\":\"/purchase/8.1_创建StoreManager作为ObservableObject\"},{\"text\":\"8.2 使用@StateObject\",\"link\":\"/purchase/8.2_在视图中使用@StateObject管理StoreManager\"},{\"text\":\"8.3 动态显示UI元素\",\"link\":\"/purchase/8.3_根据订阅状态动态显示-隐藏UI元素\"},{\"text\":\"8.4 调用购买函数\",\"link\":\"/purchase/8.4_在按钮的action中调用购买函数\"},{\"text\":\"8.5 显示加载指示器\",\"link\":\"/purchase/8.5_显示加载指示器和错误提示\"}]},{\"text\":\"第9章 恢复购买功能\",\"collapsible\":true,\"items\":[{\"text\":\"9.1 实现恢复按钮UI\",\"link\":\"/purchase/9.1_实现“恢复购买”按钮的UI\"},{\"text\":\"9.2 调用AppStore.sync()\",\"link\":\"/purchase/9.2_调用AppStore.sync()函数\"},{\"text\":\"9.3 处理恢复状态更新\",\"link\":\"/purchase/9.3_处理恢复过程中的状态更新\"},{\"text\":\"9.4 反馈恢复结果\",\"link\":\"/purchase/9.4_向用户反馈恢复成功或失败\"}]},{\"text\":\"第10章 服务器端验证\",\"collapsible\":true,\"items\":[{\"text\":\"10.1 服务器验证的必要性\",\"link\":\"/purchase/10.1_服务器验证的必要性\"},{\"text\":\"10.2 App Store服务器通知\",\"link\":\"/purchase/10.2_App Store服务器通知简介\"},{\"text\":\"10.3 设置通知URL\",\"link\":\"/purchase/10.3_设置服务器接收通知的URL\"},{\"text\":\"10.4 解析和验证JWS\",\"link\":\"/purchase/10.4_在服务器上解析和验证JWS负载\"},{\"text\":\"10.5 更新用户订阅状态\",\"link\":\"/purchase/10.5_安全地更新用户数据库中的订阅状态\"}]},{\"text\":\"第11章 测试与部署\",\"collapsible\":true,\"items\":[{\"text\":\"11.1 本地测试\",\"link\":\"/purchase/11.1_使用StoreKit配置文件进行本地测试\"},{\"text\":\"11.2 沙盒环境测试\",\"link\":\"/purchase/11.2_使用沙盒环境进行真机测试\"},{\"text\":\"11.3 TestFlight测试\",\"link\":\"/purchase/11.3_TestFlight测试的最佳实践\"},{\"text\":\"11.4 处理价格变更\",\"link\":\"/purchase/11.4_处理订阅价格变更\"},{\"text\":\"11.5 提交应用审核\",\"link\":\"/purchase/11.5_提交应用以供审核：提供测试信息\"}]},{\"text\":\"第12章 促销与优惠代码\",\"collapsible\":true,\"items\":[{\"text\":\"12.1 配置促销优惠\",\"link\":\"/purchase/12.1_配置促销优惠（推广和引导）\"},{\"text\":\"12.2 实现promotionalOffer\",\"link\":\"/purchase/12.2_实现StoreKit的 promotionalOffer(for-signature-)\"},{\"text\":\"12.3 生成验证优惠签名\",\"link\":\"/purchase/12.3_生成并验证优惠签名\"},{\"text\":\"12.4 配置优惠代码\",\"link\":\"/purchase/12.4_配置和兑换优惠代码\"},{\"text\":\"12.5 展示促销价格\",\"link\":\"/purchase/12.5_在UI中展示促销价格\"}]}],\"/thinking/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/thinking/\"}]},{\"text\":\"第1章 声明式语法基础\",\"collapsible\":true,\"items\":[{\"text\":\"1.1 描述'什么'而非'如何'\",\"link\":\"/thinking/1.1_描述“什么”而非“如何”\"},{\"text\":\"1.2 与命令式UI（UIKit）对比\",\"link\":\"/thinking/1.2_与命令式UI（UIKit）的对比\"},{\"text\":\"1.3 代码可读性与简洁性优势\",\"link\":\"/thinking/1.3_代码可读性与简洁性优势\"},{\"text\":\"1.4 UI即状态的函数\",\"link\":\"/thinking/1.4_UI即状态的函数\"}]},{\"text\":\"第2章 视图作为值类型\",\"collapsible\":true,\"items\":[{\"text\":\"2.1 视图是轻量级结构体\",\"link\":\"/thinking/2.1_视图是轻量级结构体（Struct）\"},{\"text\":\"2.2 视图创建与销毁成本\",\"link\":\"/thinking/2.2_视图的创建与销毁成本低\"},{\"text\":\"2.3 避免复杂视图层级\",\"link\":\"/thinking/2.3_避免复杂的视图层级和引用循环\"},{\"text\":\"2.4 值语义对UI一致性的保障\",\"link\":\"/thinking/2.4_值语义对UI一致性的保障\"}]},{\"text\":\"第3章 单一数据源\",\"collapsible\":true,\"items\":[{\"text\":\"3.1 数据驱动UI更新\",\"link\":\"/thinking/3.1_数据是驱动UI更新的唯一来源\"},{\"text\":\"3.2 避免状态不一致问题\",\"link\":\"/thinking/3.2_避免UI状态不一致问题\"},{\"text\":\"3.3 简化状态管理逻辑\",\"link\":\"/thinking/3.3_简化状态管理逻辑\"},{\"text\":\"3.4 数据流单向性原则\",\"link\":\"/thinking/3.4_数据流的单向性原则\"}]},{\"text\":\"第4章 状态管理属性包装器\",\"collapsible\":true,\"items\":[{\"text\":\"4.1 @State：本地值类型状态\",\"link\":\"/thinking/4.1_@State：管理本地简单值类型状态\"},{\"text\":\"4.2 @Binding：双向数据绑定\",\"link\":\"/thinking/4.2_@Binding：创建双向数据绑定\"},{\"text\":\"4.3 @StateObject：引用类型生命周期\",\"link\":\"/thinking/4.3_@StateObject：管理引用类型对象的生命周期\"},{\"text\":\"4.4 @ObservedObject：订阅外部对象\",\"link\":\"/thinking/4.4_@ObservedObject：订阅外部对象的更新\"},{\"text\":\"4.5 @EnvironmentObject：数据共享\",\"link\":\"/thinking/4.5_@EnvironmentObject：在视图层级中共享数据\"},{\"text\":\"4.6 @Environment：系统环境值\",\"link\":\"/thinking/4.6_@Environment：读取系统环境值\"}]},{\"text\":\"第5章 UI自动更新机制\",\"collapsible\":true,\"items\":[{\"text\":\"5.1 状态变化触发视图重绘\",\"link\":\"/thinking/5.1_状态变化如何触发视图重绘\"},{\"text\":\"5.2 视图依赖关系图构建\",\"link\":\"/thinking/5.2_视图依赖关系图的构建\"},{\"text\":\"5.3 最小化视图更新策略\",\"link\":\"/thinking/5.3_最小化视图更新范围的策略\"},{\"text\":\"5.4 数据流可预测性\",\"link\":\"/thinking/5.4_数据流的可预测性\"}]},{\"text\":\"第6章 组合优于继承\",\"collapsible\":true,\"items\":[{\"text\":\"6.1 通过组合构建复杂界面\",\"link\":\"/thinking/6.1_通过组合小视图构建复杂界面\"},{\"text\":\"6.2 视图可复用性设计\",\"link\":\"/thinking/6.2_视图的可复用性设计\"},{\"text\":\"6.3 避免深度继承复杂性\",\"link\":\"/thinking/6.3_避免深度继承带来的复杂性\"},{\"text\":\"6.4 函数式构建UI实践\",\"link\":\"/thinking/6.4_函数式构建UI的实践\"}]},{\"text\":\"第7章 修饰符（Modifiers）设计\",\"collapsible\":true,\"items\":[{\"text\":\"7.1 修饰符返回新视图\",\"link\":\"/thinking/7.1_修饰符返回一个新的视图\"},{\"text\":\"7.2 链式调用实现原理\",\"link\":\"/thinking/7.2_链式调用的实现原理\"},{\"text\":\"7.3 修饰符顺序重要性\",\"link\":\"/thinking/7.3_修饰符的顺序重要性\"},{\"text\":\"7.4 创建自定义修饰符\",\"link\":\"/thinking/7.4_自定义修饰符的创建与使用\"}]},{\"text\":\"第8章 布局系统设计\",\"collapsible\":true,\"items\":[{\"text\":\"8.1 容器视图（Stacks）\",\"link\":\"/thinking/8.1_容器视图（HStack, VStack, ZStack）\"},{\"text\":\"8.2 自适应布局与优先级\",\"link\":\"/thinking/8.2_自适应布局与优先级\"},{\"text\":\"8.3 GeometryReader使用\",\"link\":\"/thinking/8.3_GeometryReader：获取父视图几何信息\"},{\"text\":\"8.4 布局中立性与跨平台\",\"link\":\"/thinking/8.4_布局中立性与跨平台适应\"}]},{\"text\":\"第9章 视图身份（Identity）\",\"collapsible\":true,\"items\":[{\"text\":\"9.1 显式身份：id()修饰符\",\"link\":\"/thinking/9.1_显式身份：id()修饰符的作用\"},{\"text\":\"9.2 结构性身份\",\"link\":\"/thinking/9.2_结构性身份：基于视图在层级中的位置\"},{\"text\":\"9.3 身份对动画的影响\",\"link\":\"/thinking/9.3_身份对动画和过渡的影响\"},{\"text\":\"9.4 ForEach中的身份\",\"link\":\"/thinking/9.4_ForEach中身份的重要性\"}]},{\"text\":\"第10章 性能优化设计\",\"collapsible\":true,\"items\":[{\"text\":\"10.1 视图差异比较算法\",\"link\":\"/thinking/10.1_视图差异比较（Diffing）算法\"},{\"text\":\"10.2 懒加载容器\",\"link\":\"/thinking/10.2_懒加载容器（Lazy Stacks & Grids）\"},{\"text\":\"10.3 减少不必要重绘\",\"link\":\"/thinking/10.3_减少不必要的视图重绘\"},{\"text\":\"10.4 移出计算密集型任务\",\"link\":\"/thinking/10.4_将计算密集型任务移出视图主体\"}]},{\"text\":\"第11章 生命周期管理\",\"collapsible\":true,\"items\":[{\"text\":\"11.1 视图与状态生命周期\",\"link\":\"/thinking/11.1_视图生命周期与状态生命周期的区别\"},{\"text\":\"11.2 onAppear和onDisappear\",\"link\":\"/thinking/11.2_onAppear和onDisappear修饰符\"},{\"text\":\"11.3 @StateObject生命周期\",\"link\":\"/thinking/11.3_@StateObject的生命周期管理\"},{\"text\":\"11.4 Task修饰符与异步\",\"link\":\"/thinking/11.4_任务（Task）修饰符与异步操作\"}]},{\"text\":\"第12章 抽象与适配\",\"collapsible\":true,\"items\":[{\"text\":\"12.1 多平台代码\",\"link\":\"/thinking/12.1_一套代码，多平台运行\"},{\"text\":\"12.2 平台控件抽象化\",\"link\":\"/thinking/12.2_平台特定控件的抽象化\"},{\"text\":\"12.3 平台条件编译\",\"link\":\"/thinking/12.3_使用if os()进行平台条件编译\"},{\"text\":\"12.4 控件自适应行为\",\"link\":\"/thinking/12.4_控件的自适应行为\"}]},{\"text\":\"第13章 与原生框架互操作性\",\"collapsible\":true,\"items\":[{\"text\":\"13.1 UIViewRepresentable\",\"link\":\"/thinking/13.1_UIViewRepresentable协议\"},{\"text\":\"13.2 UIViewControllerRepresentable\",\"link\":\"/thinking/13.2_UIViewControllerRepresentable协议\"},{\"text\":\"13.3 NSViewRepresentable\",\"link\":\"/thinking/13.3_NSViewRepresentable协议\"},{\"text\":\"13.4 嵌入UIKit/AppKit组件\",\"link\":\"/thinking/13.4_在SwiftUI中嵌入UIKit-AppKit组件\"}]}],\"/grid/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/grid/\"}]},{\"text\":\"第1章 LazyVGrid：垂直网格布局入门\",\"collapsible\":true,\"items\":[{\"text\":\"1.1 创建基本的LazyVGrid\",\"link\":\"/grid/1.1_创建基本的LazyVGrid\"},{\"text\":\"1.2 理解ScrollView的必要性\",\"link\":\"/grid/1.2_理解ScrollView的必要性\"},{\"text\":\"1.3 配置GridItem定义列\",\"link\":\"/grid/1.3_配置GridItem以定义列\"},{\"text\":\"1.4 使用.fixed()固定宽度列\",\"link\":\"/grid/1.4_使用.fixed()创建固定宽度的列\"},{\"text\":\"1.5 使用.flexible()灵活宽度列\",\"link\":\"/grid/1.5_使用.flexible()创建灵活宽度的列\"},{\"text\":\"1.6 使用.adaptive()自适应列\",\"link\":\"/grid/1.6_使用.adaptive()创建自适应宽度的列\"}]},{\"text\":\"第2章 LazyHGrid：水平网格布局入门\",\"collapsible\":true,\"items\":[{\"text\":\"2.1 创建基本的LazyHGrid\",\"link\":\"/grid/2.1_创建基本的LazyHGrid\"},{\"text\":\"2.2 在水平ScrollView中嵌入\",\"link\":\"/grid/2.2_在水平ScrollView中嵌入LazyHGrid\"},{\"text\":\"2.3 配置GridItem定义行\",\"link\":\"/grid/2.3_配置GridItem以定义行\"},{\"text\":\"2.4 使用.fixed()固定高度行\",\"link\":\"/grid/2.4_使用.fixed()创建固定高度的行\"},{\"text\":\"2.5 使用.flexible()灵活高度行\",\"link\":\"/grid/2.5_使用.flexible()创建灵活高度的行\"},{\"text\":\"2.6 使用.adaptive()自适应行\",\"link\":\"/grid/2.6_使用.adaptive()创建自适应高度的行\"}]},{\"text\":\"第3章 通用配置与修饰符\",\"collapsible\":true,\"items\":[{\"text\":\"3.1 设置网格对齐方式\",\"link\":\"/grid/3.1_设置网格的整体对齐方式 (alignment)\"},{\"text\":\"3.2 调整网格项间距\",\"link\":\"/grid/3.2_调整网格项之间的间距 (spacing)\"},{\"text\":\"3.3 使用PinnedViews固定页眉页脚\",\"link\":\"/grid/3.3_使用PinnedViews固定页眉和页脚\"},{\"text\":\"3.4 为网格项添加内边距\",\"link\":\"/grid/3.4_为网格项添加内边距 (padding)\"}]},{\"text\":\"第4章 GridItem 高级配置\",\"collapsible\":true,\"items\":[{\"text\":\"4.1 混合使用三种尺寸类型\",\"link\":\"/grid/4.1_混合使用fixed, flexible, 和 adaptive\"},{\"text\":\"4.2 设置自定义间距\",\"link\":\"/grid/4.2_为GridItem设置自定义间距\"},{\"text\":\"4.3 设置对齐方式\",\"link\":\"/grid/4.3_为GridItem设置对齐方式\"},{\"text\":\"4.4 动态生成GridItem数组\",\"link\":\"/grid/4.4_动态生成GridItem数组\"},{\"text\":\"4.5 响应设备方向变化\",\"link\":\"/grid/4.5_响应设备方向变化调整列数\"}]},{\"text\":\"第5章 数据驱动的网格布局\",\"collapsible\":true,\"items\":[{\"text\":\"5.1 使用ForEach处理数据\",\"link\":\"/grid/5.1_使用ForEach处理动态数据集合\"},{\"text\":\"5.2 实现Identifiable协议\",\"link\":\"/grid/5.2_为网格项实现Identifiable协议\"},{\"text\":\"5.3 使用UUID或自定义ID\",\"link\":\"/grid/5.3_使用UUID或自定义ID作为唯一标识\"},{\"text\":\"5.4 处理可选数据\",\"link\":\"/grid/5.4_在网格中处理可选数据\"}]},{\"text\":\"第6章 带区段的网格布局\",\"collapsible\":true,\"items\":[{\"text\":\"6.1 使用Section组织内容\",\"link\":\"/grid/6.1_在LazyVGrid-LazyHGrid中使用Section\"},{\"text\":\"6.2 添加自定义页眉\",\"link\":\"/grid/6.2_为每个Section添加自定义页眉 (Header)\"},{\"text\":\"6.3 添加自定义页脚\",\"link\":\"/grid/6.3_为每个Section添加自定义页脚 (Footer)\"},{\"text\":\"6.4 实现可折叠Section\",\"link\":\"/grid/6.4_实现可折叠的Section\"}]},{\"text\":\"第7章 Grid 视图基础\",\"collapsible\":true,\"items\":[{\"text\":\"7.1 Grid与Lazy Grid的区别\",\"link\":\"/grid/7.1_Grid与LazyVGrid-LazyHGrid的区别\"},{\"text\":\"7.2 创建基本Grid视图\",\"link\":\"/grid/7.2_创建基本的Grid视图\"},{\"text\":\"7.3 使用GridRow组织行\",\"link\":\"/grid/7.3_使用GridRow组织行内容\"},{\"text\":\"7.4 在GridRow中放置视图\",\"link\":\"/grid/7.4_在GridRow中放置视图\"}]},{\"text\":\"第8章 控制单元格尺寸与位置\",\"collapsible\":true,\"items\":[{\"text\":\"8.1 使用.gridCellColumns()跨列\",\"link\":\"/grid/8.1_使用.gridCellColumns()实现跨列\"},{\"text\":\"8.2 使用.gridCellAnchor()对齐\",\"link\":\"/grid/8.2_使用.gridCellAnchor()设置单元格内对齐\"},{\"text\":\"8.3 设置整列对齐\",\"link\":\"/grid/8.3_使用.gridColumnAlignment()设置整列对齐\"},{\"text\":\"8.4 控制行内对齐\",\"link\":\"/grid/8.4_使用GridRow的alignment参数控制行内对齐\"}]},{\"text\":\"第9章 高级Grid布局\",\"collapsible\":true,\"items\":[{\"text\":\"9.1 使用Spacer创建空单元格\",\"link\":\"/grid/9.1_使用Spacer在Grid中创建空单元格\"},{\"text\":\"9.2 忽略单元格尺寸计算\",\"link\":\"/grid/9.2_使用.gridCellUnsizedAxes()忽略单元格尺寸计算\"},{\"text\":\"9.3 嵌套Grid实现复杂布局\",\"link\":\"/grid/9.3_嵌套Grid实现复杂布局\"},{\"text\":\"9.4 动态构建GridRow\",\"link\":\"/grid/9.4_动态构建GridRow和视图\"}]},{\"text\":\"第10章 构建常见UI模式\",\"collapsible\":true,\"items\":[{\"text\":\"10.1 创建照片画廊\",\"link\":\"/grid/10.1_实战：创建一个照片画廊 (LazyVGrid)\"},{\"text\":\"10.2 创建类似App Store分类列表\",\"link\":\"/grid/10.2_实战：创建一个类似App Store的分类列表 (LazyHGrid)\"},{\"text\":\"10.3 创建复杂设置界面\",\"link\":\"/grid/10.3_实战：创建一个复杂的设置界面 (Grid)\"},{\"text\":\"10.4 创建日历视图\",\"link\":\"/grid/10.4_实战：创建一个日历视图 (LazyVGrid)\"}]},{\"text\":\"第11章 性能优化策略\",\"collapsible\":true,\"items\":[{\"text\":\"11.1 理解'Lazy'的性能优势\",\"link\":\"/grid/11.1_理解“Lazy”的含义和性能优势\"},{\"text\":\"11.2 避免昂贵计算\",\"link\":\"/grid/11.2_避免在网格项视图中进行昂贵的计算\"},{\"text\":\"11.3 优化数据加载\",\"link\":\"/grid/11.3_优化数据加载以配合懒加载网格\"},{\"text\":\"11.4 使用.drawingGroup()优化渲染\",\"link\":\"/grid/11.4_使用.drawingGroup()优化复杂视图渲染\"},{\"text\":\"11.5 选择Grid或Lazy Grid\",\"link\":\"/grid/11.5_何时选择Grid而非Lazy Grid\"}]}],\"/advanced/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/advanced/\"}]},{\"text\":\"第1章 GeometryReader 深度解析\",\"collapsible\":true,\"items\":[{\"text\":\"1.1 工作原理\",\"link\":\"/advanced/1.1_理解 GeometryReader 的工作原理\"},{\"text\":\"1.2 获取视图尺寸和位置\",\"link\":\"/advanced/1.2_获取视图的尺寸和位置\"},{\"text\":\"1.3 处理不同坐标空间\",\"link\":\"/advanced/1.3_处理不同坐标空间 (local, global, named)\"},{\"text\":\"1.4 性能陷阱与优化\",\"link\":\"/advanced/1.4_GeometryReader 的性能陷阱与优化\"},{\"text\":\"1.5 创建响应式布局\",\"link\":\"/advanced/1.5_创建响应式和自适应布局\"},{\"text\":\"1.6 实现滚动视差效果\",\"link\":\"/advanced/1.6_实现滚动视差效果\"}]},{\"text\":\"第2章 PreferenceKey 实现逆向数据流\",\"collapsible\":true,\"items\":[{\"text\":\"2.1 定义自定义 PreferenceKey\",\"link\":\"/advanced/2.1_定义自定义 PreferenceKey\"},{\"text\":\"2.2 使用 .preference()\",\"link\":\"/advanced/2.2_使用 .preference(key-value-) 设置值\"},{\"text\":\"2.3 监听变化\",\"link\":\"/advanced/2.3_使用 .onPreferenceChange() 监听变化\"},{\"text\":\"2.4 读取 Preference 值\",\"link\":\"/advanced/2.4_使用 .background() 读取 Preference 值\"},{\"text\":\"2.5 同步子视图尺寸\",\"link\":\"/advanced/2.5_通过 PreferenceKey 同步子视图尺寸\"},{\"text\":\"2.6 动态导航栏标题\",\"link\":\"/advanced/2.6_实现动态导航栏标题效果\"}]},{\"text\":\"第3章 自定义布局协议\",\"collapsible\":true,\"items\":[{\"text\":\"3.1 Layout 协议核心方法\",\"link\":\"/advanced/3.1_理解 Layout 协议的核心方法\"},{\"text\":\"3.2 计算容器大小\",\"link\":\"/advanced/3.2_实现 sizeThatFits 方法计算容器大小\"},{\"text\":\"3.3 放置子视图\",\"link\":\"/advanced/3.3_实现 placeSubviews 方法放置子视图\"},{\"text\":\"3.4 创建流式布局\",\"link\":\"/advanced/3.4_创建自定义流式布局 (Flow Layout)\"},{\"text\":\"3.5 创建径向布局\",\"link\":\"/advanced/3.5_创建自定义径向布局 (Radial Layout)\"},{\"text\":\"3.6 管理布局缓存\",\"link\":\"/advanced/3.6_管理布局缓存以提高性能\"},{\"text\":\"3.7 添加布局动画\",\"link\":\"/advanced/3.7_为自定义布局添加动画\"}]},{\"text\":\"第4章 视图对齐与锚点\",\"collapsible\":true,\"items\":[{\"text\":\"4.1 Anchor-Value-概念\",\"link\":\"/advanced/4.1_理解 `Anchor<Value>` 的概念\"},{\"text\":\"4.2 传递锚点\",\"link\":\"/advanced/4.2_使用 .anchorPreference 传递锚点\"},{\"text\":\"4.3 读取锚点信息\",\"link\":\"/advanced/4.3_使用 GeometryReader 读取锚点信息\"},{\"text\":\"4.4 创建精确对齐线\",\"link\":\"/advanced/4.4_在不同视图间创建精确对齐线\"},{\"text\":\"4.5 实现复杂视图连接\",\"link\":\"/advanced/4.5_实现复杂的视图连接效果\"}]},{\"text\":\"第5章 @StateObject 与 @ObservedObject\",\"collapsible\":true,\"items\":[{\"text\":\"5.1 生命周期对比\",\"link\":\"/advanced/5.1_辨析 @StateObject 和 @ObservedObject 的生命周期\"},{\"text\":\"5.2 场景分析\",\"link\":\"/advanced/5.2_选择正确包装器的场景分析\"},{\"text\":\"5.3 常见陷阱\",\"link\":\"/advanced/5.3_避免 @ObservedObject 的常见陷阱\"},{\"text\":\"5.4 依赖注入\",\"link\":\"/advanced/5.4_在依赖注入中使用 @StateObject\"}]},{\"text\":\"第6章 环境值与环境对象\",\"collapsible\":true,\"items\":[{\"text\":\"6.1 使用 @EnvironmentObject\",\"link\":\"/advanced/6.1_使用 @EnvironmentObject 注入依赖\"},{\"text\":\"6.2 自定义 EnvironmentKey\",\"link\":\"/advanced/6.2_自定义 EnvironmentKey 与 EnvironmentValues\"},{\"text\":\"6.3 共享数据模型\",\"link\":\"/advanced/6.3_在整个应用中共享数据模型\"},{\"text\":\"6.4 读取系统环境值\",\"link\":\"/advanced/6.4_读取系统环境值 (如颜色方案、尺寸类别)\"},{\"text\":\"6.5 视图预览配合\",\"link\":\"/advanced/6.5_环境值与视图预览的配合使用\"}]},{\"text\":\"第7章 Observation 框架\",\"collapsible\":true,\"items\":[{\"text\":\"7.1 使用 @Observable\",\"link\":\"/advanced/7.1_使用 @Observable 宏简化模型\"},{\"text\":\"7.2 自动跟踪机制\",\"link\":\"/advanced/7.2_理解 Observation 框架的自动跟踪机制\"},{\"text\":\"7.3 从 ObservableObject 迁移\",\"link\":\"/advanced/7.3_从 ObservableObject 迁移到 @Observable\"},{\"text\":\"7.4 使用 @Bindable\",\"link\":\"/advanced/7.4_@Bindable 的使用与双向绑定\"},{\"text\":\"7.5 性能优势\",\"link\":\"/advanced/7.5_Observation 框架的性能优势\"}]},{\"text\":\"第8章 管理持久化数据\",\"collapsible\":true,\"items\":[{\"text\":\"8.1 使用 @AppStorage\",\"link\":\"/advanced/8.1_使用 @AppStorage 进行轻量数据持久化\"},{\"text\":\"8.2 集成 Core Data\",\"link\":\"/advanced/8.2_集成 Core Data 与 SwiftUI\"},{\"text\":\"8.3 使用 SwiftData\",\"link\":\"/advanced/8.3_使用 SwiftData 进行现代数据持久化 (iOS 17+)\"},{\"text\":\"8.4 使用 @Query\",\"link\":\"/advanced/8.4_@Query 宏的使用与配置\"},{\"text\":\"8.5 处理增删改查\",\"link\":\"/advanced/8.5_在 SwiftUI 视图中处理 SwiftData 的增删改查\"}]},{\"text\":\"第9章 自定义视图与修改器\",\"collapsible\":true,\"items\":[{\"text\":\"9.1 创建自定义视图组件\",\"link\":\"/advanced/9.1_创建可复用的自定义视图组件\"},{\"text\":\"9.2 封装 ViewModifier\",\"link\":\"/advanced/9.2_封装行为与样式到自定义 ViewModifier\"},{\"text\":\"9.3 扩展 View API\",\"link\":\"/advanced/9.3_通过扩展 View 提供简洁的 API\"},{\"text\":\"9.4 .modifier() 对比\",\"link\":\"/advanced/9.4_理解 .modifier() 和直接调用的区别\"},{\"text\":\"9.5 带参数修改器\",\"link\":\"/advanced/9.5_实现带参数的视图修改器\"}]},{\"text\":\"第10章 SwiftUI 性能分析与调试\",\"collapsible\":true,\"items\":[{\"text\":\"10.1 使用 Instruments\",\"link\":\"/advanced/10.1_使用 Instruments 分析 SwiftUI 性能\"},{\"text\":\"10.2 解决重复计算\",\"link\":\"/advanced/10.2_识别并解决视图重复计算问题\"},{\"text\":\"10.3 Identity 影响\",\"link\":\"/advanced/10.3_理解 'Identity' 对性能和动画的影响\"},{\"text\":\"10.4 使用 EquatableView\",\"link\":\"/advanced/10.4_使用 EquatableView 减少不必要的刷新\"},{\"text\":\"10.5 懒加载优化\",\"link\":\"/advanced/10.5_懒加载视图 (LazyVStack, LazyHStack) 的优化技巧\"}]},{\"text\":\"第11章 高级动画与转场\",\"collapsible\":true,\"items\":[{\"text\":\"11.1 matchedGeometryEffect\",\"link\":\"/advanced/11.1_使用 matchedGeometryEffect 实现英雄动画\"},{\"text\":\"11.2 自定义 Animatable\",\"link\":\"/advanced/11.2_创建自定义 Animatable 协议动画\"},{\"text\":\"11.3 使用 AnimatablePair\",\"link\":\"/advanced/11.3_利用 AnimatablePair 为多值添加动画\"},{\"text\":\"11.4 自定义视图转场\",\"link\":\"/advanced/11.4_实现自定义视图转场 (AnyTransition)\"},{\"text\":\"11.5 组合与异步转场\",\"link\":\"/advanced/11.5_组合与异步化转场效果\"},{\"text\":\"11.6 使用 PhaseAnimator\",\"link\":\"/advanced/11.6_使用 PhaseAnimator 创建多阶段动画 (iOS 17+)\"},{\"text\":\"11.7 使用 KeyframeAnimator\",\"link\":\"/advanced/11.7_使用 KeyframeAnimator 创建关键帧动画 (iOS 17+)\"}]},{\"text\":\"第12章 在 SwiftUI 中使用 UIKit/AppKit\",\"collapsible\":true,\"items\":[{\"text\":\"12.1 UIViewRepresentable\",\"link\":\"/advanced/12.1_实现 UIViewRepresentable 协议\"},{\"text\":\"12.2 UIViewControllerRepresentable\",\"link\":\"/advanced/12.2_实现 UIViewControllerRepresentable 协议\"},{\"text\":\"12.3 使用 Coordinator\",\"link\":\"/advanced/12.3_使用 Coordinator 处理代理和回调\"},{\"text\":\"12.4 管理生命周期\",\"link\":\"/advanced/12.4_管理 Representable 视图的生命周期\"},{\"text\":\"12.5 嵌入 WKWebView\",\"link\":\"/advanced/12.5_在 SwiftUI 中嵌入 WKWebView\"}]},{\"text\":\"第13章 在 UIKit/AppKit 中嵌入 SwiftUI\",\"collapsible\":true,\"items\":[{\"text\":\"13.1 使用 UIHostingController\",\"link\":\"/advanced/13.1_使用 UIHostingController 嵌入 SwiftUI 视图\"},{\"text\":\"13.2 在 UITableViewCell 中使用\",\"link\":\"/advanced/13.2_在 UITableViewCell 中使用 SwiftUI\"},{\"text\":\"13.3 管理尺寸和布局\",\"link\":\"/advanced/13.3_管理 SwiftUI 视图的尺寸和布局\"},{\"text\":\"13.4 实现数据通信\",\"link\":\"/advanced/13.4_实现 UIKit 与 SwiftUI 之间的数据通信\"}]}],\"/lifecycle/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/lifecycle/\"}]},{\"text\":\"第1章 视图的本质与结构\",\"collapsible\":true,\"items\":[{\"text\":\"1.1 将视图理解为值的概念\",\"link\":\"/lifecycle/1.1_将视图理解为值的概念\"},{\"text\":\"1.2 视图作为状态的函数\",\"link\":\"/lifecycle/1.2_视图作为状态的函数\"},{\"text\":\"1.3 View协议与body属性\",\"link\":\"/lifecycle/1.3_View协议与body属性\"},{\"text\":\"1.4 与UIKit-AppKit视图对象的区别\",\"link\":\"/lifecycle/1.4_与UIKit-AppKit视图对象的区别\"}]},{\"text\":\"第2章 视图身份与生命周期\",\"collapsible\":true,\"items\":[{\"text\":\"2.1 显式身份：id()修饰符\",\"link\":\"/lifecycle/2.1_显式身份：id()修饰符\"},{\"text\":\"2.2 结构性身份\",\"link\":\"/lifecycle/2.2_结构性身份：视图在层级中的位置\"},{\"text\":\"2.3 身份对状态持久性的影响\",\"link\":\"/lifecycle/2.3_身份对状态持久性的影响\"},{\"text\":\"2.4 身份变化触发视图销毁与重建\",\"link\":\"/lifecycle/2.4_身份变化如何触发视图销毁与重建\"}]},{\"text\":\"第3章 视图的依赖关系与更新\",\"collapsible\":true,\"items\":[{\"text\":\"3.1 依赖图简介\",\"link\":\"/lifecycle/3.1_依赖图（Dependency Graph）简介\"},{\"text\":\"3.2 状态变化触发视图更新\",\"link\":\"/lifecycle/3.2_状态变化如何触发视图更新\"},{\"text\":\"3.3 body的计算时机与频率\",\"link\":\"/lifecycle/3.3_body的计算时机与频率\"},{\"text\":\"3.4 视图更新的性能考量\",\"link\":\"/lifecycle/3.4_视图更新的性能考量\"}]},{\"text\":\"第4章 视图的初始化过程\",\"collapsible\":true,\"items\":[{\"text\":\"4.1 init()方法的调用时机\",\"link\":\"/lifecycle/4.1_init()方法的调用时机\"},{\"text\":\"4.2 在init()中设置初始状态\",\"link\":\"/lifecycle/4.2_在init()中设置初始状态\"},{\"text\":\"4.3 使用自定义init进行依赖注入\",\"link\":\"/lifecycle/4.3_使用自定义init进行依赖注入\"},{\"text\":\"4.4 理解视图结构的首次构建\",\"link\":\"/lifecycle/4.4_理解视图结构的首次构建\"}]},{\"text\":\"第5章 视图首次出现在屏幕上\",\"collapsible\":true,\"items\":[{\"text\":\"5.1 onAppear修饰符的触发时机\",\"link\":\"/lifecycle/5.1_onAppear修饰符的触发时机\"},{\"text\":\"5.2 在onAppear中执行网络请求或动画\",\"link\":\"/lifecycle/5.2_onAppear中执行网络请求或动画\"},{\"text\":\"5.3 task修饰符管理异步任务\",\"link\":\"/lifecycle/5.3_task修饰符：异步任务的生命周期管理\"},{\"text\":\"5.4 task与onAppear的对比\",\"link\":\"/lifecycle/5.4_task修饰符与onAppear的对比\"}]},{\"text\":\"第6章 状态驱动的视图更新\",\"collapsible\":true,\"items\":[{\"text\":\"6.1 @State管理本地状态\",\"link\":\"/lifecycle/6.1_@State：管理本地简单值类型状态\"},{\"text\":\"6.2 @Binding创建双向连接\",\"link\":\"/lifecycle/6.2_@Binding：创建双向数据连接\"},{\"text\":\"6.3 onChange响应特定值变化\",\"link\":\"/lifecycle/6.3_onChange修饰符：响应特定值的变化\"},{\"text\":\"6.4 onChange的触发条件\",\"link\":\"/lifecycle/6.4_onChange的触发条件与使用场景\"}]},{\"text\":\"第7章 对象类型的状态管理\",\"collapsible\":true,\"items\":[{\"text\":\"7.1 @StateObject管理引用类型\",\"link\":\"/lifecycle/7.1_@StateObject：管理引用类型状态的生命周期\"},{\"text\":\"7.2 @ObservedObject观察外部对象\",\"link\":\"/lifecycle/7.2_@ObservedObject：观察外部引用类型对象\"},{\"text\":\"7.3 两种对象包装器的关键区别\",\"link\":\"/lifecycle/7.3_@StateObject与@ObservedObject的关键区别\"},{\"text\":\"7.4 @EnvironmentObject共享对象\",\"link\":\"/lifecycle/7.4_@EnvironmentObject：在视图层级中共享对象\"}]},{\"text\":\"第8章 特殊状态属性包装器\",\"collapsible\":true,\"items\":[{\"text\":\"8.1 @Environment读取环境值\",\"link\":\"/lifecycle/8.1_@Environment：读取环境值\"},{\"text\":\"8.2 @AppStorage/@SceneStorage\",\"link\":\"/lifecycle/8.2_@AppStorage-@SceneStorage：持久化状态\"},{\"text\":\"8.3 @FocusState管理焦点\",\"link\":\"/lifecycle/8.3_@FocusState：管理焦点状态\"},{\"text\":\"8.4 不同状态包装器的适用场景\",\"link\":\"/lifecycle/8.4_理解不同状态包装器的适用场景\"}]},{\"text\":\"第9章 视图从屏幕上消失\",\"collapsible\":true,\"items\":[{\"text\":\"9.1 onDisappear触发时机\",\"link\":\"/lifecycle/9.1_onDisappear修饰符的触发时机\"},{\"text\":\"9.2 在onDisappear中执行清理\",\"link\":\"/lifecycle/9.2_在onDisappear中执行清理任务\"},{\"text\":\"9.3 取消订阅或定时器\",\"link\":\"/lifecycle/9.3_取消订阅或定时器\"},{\"text\":\"9.4 释放手动管理资源\",\"link\":\"/lifecycle/9.4_释放手动管理的资源\"}]},{\"text\":\"第10章 状态对象的生命周期管理\",\"collapsible\":true,\"items\":[{\"text\":\"10.1 @StateObject的销毁时机\",\"link\":\"/lifecycle/10.1_@StateObject的销毁时机\"},{\"text\":\"10.2 ObservableObject的deinit\",\"link\":\"/lifecycle/10.2_ObservableObject的deinit方法\"},{\"text\":\"10.3 使用task自动取消任务\",\"link\":\"/lifecycle/10.3_使用task修饰符自动取消异步任务\"},{\"text\":\"10.4 避免内存泄漏\",\"link\":\"/lifecycle/10.4_避免因强引用导致的内存泄漏\"}]},{\"text\":\"第11章 应用与场景生命周期\",\"collapsible\":true,\"items\":[{\"text\":\"11.1 App协议与生命周期事件\",\"link\":\"/lifecycle/11.1_App协议与应用生命周期事件\"},{\"text\":\"11.2 ScenePhase环境值\",\"link\":\"/lifecycle/11.2_ScenePhase环境值的使用\"},{\"text\":\"11.3 处理应用前后台切换\",\"link\":\"/lifecycle/11.3_处理应用进入后台或返回前台\"},{\"text\":\"11.4 响应场景连接与断开\",\"link\":\"/lifecycle/11.4_响应场景连接与断开\"}]},{\"text\":\"第12章 Navigation与Sheet/Popover生命周期\",\"collapsible\":true,\"items\":[{\"text\":\"12.1 NavigationStack视图生命周期\",\"link\":\"/lifecycle/12.1_NavigationStack中视图的生命周期\"},{\"text\":\"12.2 Sheet和Popover生命周期\",\"link\":\"/lifecycle/12.2_Sheet和Popover呈现时视图的生命周期\"},{\"text\":\"12.3 导航中的onAppear行为\",\"link\":\"/lifecycle/12.3_onAppear-onDisappear在导航中的行为\"},{\"text\":\"12.4 管理模态视图状态\",\"link\":\"/lifecycle/12.4_管理模态视图中的状态\"}]},{\"text\":\"第13章 与UIKit/AppKit组件的集成\",\"collapsible\":true,\"items\":[{\"text\":\"13.1 UIViewRepresentable生命周期\",\"link\":\"/lifecycle/13.1_UIViewRepresentable的生命周期方法\"},{\"text\":\"13.2 makeUIView方法\",\"link\":\"/lifecycle/13.2_makeUIView-makeUIViewController方法\"},{\"text\":\"13.3 updateUIView方法\",\"link\":\"/lifecycle/13.3_updateUIView-updateUIViewController方法\"},{\"text\":\"13.4 dismantleUIView与清理\",\"link\":\"/lifecycle/13.4_dismantleUIView与Coordinator清理\"}]}],\"/uikit/basics/\":[{\"text\":\"概览\",\"collapsed\":false,\"items\":[{\"text\":\"内容简介\",\"link\":\"/uikit/basics/\"}]},{\"text\":\"第1章 创建无Storyboard项目\",\"collapsed\":false,\"items\":[{\"text\":\"1.1 安装和配置Xcode开发环境\",\"link\":\"/uikit/basics/1.1_安装和配置Xcode开发环境\"},{\"text\":\"1.2 创建新的iOS App项目模板\",\"link\":\"/uikit/basics/1.2_创建新的iOS_App项目模板\"},{\"text\":\"1.3 删除Main.storyboard文件\",\"link\":\"/uikit/basics/1.3_删除Main.storyboard文件\"},{\"text\":\"1.4 移除Info.plist中的Storyboard配置\",\"link\":\"/uikit/basics/1.4_移除Info.plist中的Storyboard配置\"},{\"text\":\"1.5 修改SceneDelegate以编程方式设置根视图\",\"link\":\"/uikit/basics/1.5_修改SceneDelegate以编程方式设置根视图\"}]},{\"text\":\"第2章 理解UIKit核心概念\",\"collapsed\":false,\"items\":[{\"text\":\"2.1 UIWindow：应用内容的容器\",\"link\":\"/uikit/basics/2.1_UIWindow：应用内容的容器\"},{\"text\":\"2.2 UIScreen：物理屏幕信息\",\"link\":\"/uikit/basics/2.2_UIScreen：物理屏幕信息\"},{\"text\":\"2.3 UIView：视图对象的基础\",\"link\":\"/uikit/basics/2.3_UIView：视图对象的基础\"},{\"text\":\"2.4 UIViewController：视图控制器角色\",\"link\":\"/uikit/basics/2.4_UIViewController：视图控制器角色\"},{\"text\":\"2.5 UIApplication与AppDelegate生命周期\",\"link\":\"/uikit/basics/2.5_UIApplication与AppDelegate生命周期\"},{\"text\":\"2.6 UIScene与SceneDelegate生命周期\",\"link\":\"/uikit/basics/2.6_UIScene与SceneDelegate生命周期\"}]},{\"text\":\"第3章 文本与标签控件\",\"collapsed\":false,\"items\":[{\"text\":\"3.1 创建和配置UILabel\",\"link\":\"/uikit/basics/3.1_创建和配置UILabel\"},{\"text\":\"3.2 创建和配置UITextField\",\"link\":\"/uikit/basics/3.2_创建和配置UITextField\"},{\"text\":\"3.3 创建和配置UITextView\",\"link\":\"/uikit/basics/3.3_创建和配置UITextView\"},{\"text\":\"3.4 富文本NSAttributedString使用\",\"link\":\"/uikit/basics/3.4_富文本NSAttributedString使用\"}]},{\"text\":\"第4章 按钮与交互控件\",\"collapsed\":false,\"items\":[{\"text\":\"4.1 创建和配置UIButton\",\"link\":\"/uikit/basics/4.1_创建和配置UIButton\"},{\"text\":\"4.2 为按钮添加点击事件\",\"link\":\"/uikit/basics/4.2_为按钮添加点击事件\"},{\"text\":\"4.3 创建和配置UISwitch\",\"link\":\"/uikit/basics/4.3_创建和配置UISwitch\"},{\"text\":\"4.4 创建和配置UISlider\",\"link\":\"/uikit/basics/4.4_创建和配置UISlider\"},{\"text\":\"4.5 创建和配置UISegmentedControl\",\"link\":\"/uikit/basics/4.5_创建和配置UISegmentedControl\"}]},{\"text\":\"第5章 视图与显示控件\",\"collapsed\":false,\"items\":[{\"text\":\"5.1 创建和配置UIImageView\",\"link\":\"/uikit/basics/5.1_创建和配置UIImageView\"},{\"text\":\"5.2 使用UIActivityIndicatorView显示加载\",\"link\":\"/uikit/basics/5.2_使用UIActivityIndicatorView显示加载\"},{\"text\":\"5.3 使用UIProgressView显示进度\",\"link\":\"/uikit/basics/5.3_使用UIProgressView显示进度\"},{\"text\":\"5.4 创建和配置UIView作为容器\",\"link\":\"/uikit/basics/5.4_创建和配置UIView作为容器\"}]},{\"text\":\"第6章 数据集合视图\",\"collapsed\":false,\"items\":[{\"text\":\"6.1 UITableView基础：创建与数据源\",\"link\":\"/uikit/basics/6.1_UITableView基础：创建与数据源\"},{\"text\":\"6.2 UITableViewDelegate协议方法\",\"link\":\"/uikit/basics/6.2_UITableViewDelegate协议方法\"},{\"text\":\"6.3 自定义UITableViewCell\",\"link\":\"/uikit/basics/6.3_自定义UITableViewCell\"},{\"text\":\"6.4 UICollectionView基础：创建与布局\",\"link\":\"/uikit/basics/6.4_UICollectionView基础：创建与布局\"},{\"text\":\"6.5 UICollectionView数据源与代理\",\"link\":\"/uikit/basics/6.5_UICollectionView数据源与代理\"},{\"text\":\"6.6 自定义UICollectionViewCell\",\"link\":\"/uikit/basics/6.6_自定义UICollectionViewCell\"}]},{\"text\":\"第7章 Auto Layout核心概念\",\"collapsed\":false,\"items\":[{\"text\":\"7.1 约束（NSLayoutConstraint）基础\",\"link\":\"/uikit/basics/7.1_约束（NSLayoutConstraint）基础\"},{\"text\":\"7.2 关闭translatesAutoresizingMaskIntoConstraints\",\"link\":\"/uikit/basics/7.2_关闭translatesAutoresizingMaskIntoConstraints\"},{\"text\":\"7.3 理解视图布局的生命周期\",\"link\":\"/uikit/basics/7.3_理解视图布局的生命周期\"},{\"text\":\"7.4 安全区域（Safe Area）的使用\",\"link\":\"/uikit/basics/7.4_安全区域（Safe Area）的使用\"}]},{\"text\":\"第8章 使用NSLayoutConstraint\",\"collapsed\":false,\"items\":[{\"text\":\"8.1 手动创建单个NSLayoutConstraint\",\"link\":\"/uikit/basics/8.1_手动创建单个NSLayoutConstraint\"},{\"text\":\"8.2 批量激活和停用约束\",\"link\":\"/uikit/basics/8.2_批量激活和停用约束\"},{\"text\":\"8.3 修改约束的constant属性以实现动画\",\"link\":\"/uikit/basics/8.3_修改约束的constant属性以实现动画\"},{\"text\":\"8.4 设置约束的优先级（Priority）\",\"link\":\"/uikit/basics/8.4_设置约束的优先级（Priority）\"}]},{\"text\":\"第9章 使用NSLayoutAnchor锚点\",\"collapsed\":false,\"items\":[{\"text\":\"9.1 使用leading或trailing锚点设置水平约束\",\"link\":\"/uikit/basics/9.1_使用leading或trailing锚点设置水平约束\"},{\"text\":\"9.2 使用top或bottom锚点设置垂直约束\",\"link\":\"/uikit/basics/9.2_使用top或bottom锚点设置垂直约束\"},{\"text\":\"9.3 使用width或height锚点设置尺寸约束\",\"link\":\"/uikit/basics/9.3_使用width或height锚点设置尺寸约束\"},{\"text\":\"9.4 使用centerX或centerY锚点设置居中\",\"link\":\"/uikit/basics/9.4_使用centerX或centerY锚点设置居中\"}]},{\"text\":\"第10章 高级布局容器\",\"collapsed\":false,\"items\":[{\"text\":\"10.1 使用UIStackView进行线性布局\",\"link\":\"/uikit/basics/10.1_使用UIStackView进行线性布局\"},{\"text\":\"10.2 配置UIStackView的distribution属性\",\"link\":\"/uikit/basics/10.2_配置UIStackView的distribution属性\"},{\"text\":\"10.3 配置UIStackView的alignment属性\",\"link\":\"/uikit/basics/10.3_配置UIStackView的alignment属性\"},{\"text\":\"10.4 配置UIStackView的spacing属性\",\"link\":\"/uikit/basics/10.4_配置UIStackView的spacing属性\"}]},{\"text\":\"第11章 UIViewController生命周期\",\"collapsed\":false,\"items\":[{\"text\":\"11.1 loadView方法的用途\",\"link\":\"/uikit/basics/11.1_loadView方法的用途\"},{\"text\":\"11.2 viewDidLoad方法的使用\",\"link\":\"/uikit/basics/11.2_viewDidLoad方法的使用\"},{\"text\":\"11.3 viewWillAppear与viewDidAppear\",\"link\":\"/uikit/basics/11.3_viewWillAppear与viewDidAppear\"},{\"text\":\"11.4 viewWillDisappear与viewDidDisappear\",\"link\":\"/uikit/basics/11.4_viewWillDisappear与viewDidDisappear\"},{\"text\":\"11.5 viewWillLayoutSubviews与viewDidLayoutSubviews\",\"link\":\"/uikit/basics/11.5_viewWillLayoutSubviews与viewDidLayoutSubviews\"}]},{\"text\":\"第12章 导航控制器UINavigationController\",\"collapsed\":false,\"items\":[{\"text\":\"12.1 创建和设置UINavigationController\",\"link\":\"/uikit/basics/12.1_创建和设置UINavigationController\"},{\"text\":\"12.2 Push操作：压入新的视图控制器\",\"link\":\"/uikit/basics/12.2_Push操作：压入新的视图控制器\"},{\"text\":\"12.3 Pop操作：弹出当前视图控制器\",\"link\":\"/uikit/basics/12.3_Pop操作：弹出当前视图控制器\"},{\"text\":\"12.4 自定义NavigationBar外观\",\"link\":\"/uikit/basics/12.4_自定义NavigationBar外观\"},{\"text\":\"12.5 配置UIBarButtonItem\",\"link\":\"/uikit/basics/12.5_配置UIBarButtonItem\"}]},{\"text\":\"第13章 标签栏控制器UITabBarController\",\"collapsed\":false,\"items\":[{\"text\":\"13.1 创建和设置UITabBarController\",\"link\":\"/uikit/basics/13.1_创建和设置UITabBarController\"},{\"text\":\"13.2 为标签栏添加多个视图控制器\",\"link\":\"/uikit/basics/13.2_为标签栏添加多个视图控制器\"},{\"text\":\"13.3 自定义TabBarItem的标题和图标\",\"link\":\"/uikit/basics/13.3_自定义TabBarItem的标题和图标\"},{\"text\":\"13.4 处理标签栏的切换事件\",\"link\":\"/uikit/basics/13.4_处理标签栏的切换事件\"}]},{\"text\":\"第14章 模态呈现（Present Modally）\",\"collapsed\":false,\"items\":[{\"text\":\"14.1 使用present方法模态弹出视图控制器\",\"link\":\"/uikit/basics/14.1_使用present方法模态弹出视图控制器\"},{\"text\":\"14.2 使用dismiss方法关闭模态视图\",\"link\":\"/uikit/basics/14.2_使用dismiss方法关闭模态视图\"},{\"text\":\"14.3 理解不同的Modal Presentation Styles\",\"link\":\"/uikit/basics/14.3_理解不同的Modal_Presentation_Styles\"},{\"text\":\"14.4 理解不同的Modal Transition Styles\",\"link\":\"/uikit/basics/14.4_理解不同的Modal_Transition_Styles\"}]},{\"text\":\"第15章 Target-Action模式\",\"collapsed\":false,\"items\":[{\"text\":\"15.1 理解Target-Action设计模式\",\"link\":\"/uikit/basics/15.1_理解Target-Action设计模式\"},{\"text\":\"15.2 为UIControl控件添加事件监听\",\"link\":\"/uikit/basics/15.2_为UIControl控件添加事件监听\"},{\"text\":\"15.3 实现响应事件的@objc方法\",\"link\":\"/uikit/basics/15.3_实现响应事件的@objc方法\"},{\"text\":\"15.4 传递事件发送者（sender）参数\",\"link\":\"/uikit/basics/15.4_传递事件发送者（sender）参数\"}]},{\"text\":\"第16章 代理（Delegate）模式\",\"collapsed\":false,\"items\":[{\"text\":\"16.1 理解Delegate设计模式\",\"link\":\"/uikit/basics/16.1_理解Delegate设计模式\"},{\"text\":\"16.2 遵循系统协议（如UITextFieldDelegate）\",\"link\":\"/uikit/basics/16.2_遵循系统协议（如UITextFieldDelegate）\"},{\"text\":\"16.3 实现代理方法以响应特定事件\",\"link\":\"/uikit/basics/16.3_实现代理方法以响应特定事件\"},{\"text\":\"16.4 自定义协议和代理\",\"link\":\"/uikit/basics/16.4_自定义协议和代理\"}]},{\"text\":\"第17章 手势识别UIGestureRecognizer\",\"collapsed\":false,\"items\":[{\"text\":\"17.1 添加点击手势UITapGestureRecognizer\",\"link\":\"/uikit/basics/17.1_添加点击手势UITapGestureRecognizer\"},{\"text\":\"17.2 添加长按手势UILongPressGestureRecognizer\",\"link\":\"/uikit/basics/17.2_添加长按手势UILongPressGestureRecognizer\"},{\"text\":\"17.3 添加滑动手势UISwipeGestureRecognizer\",\"link\":\"/uikit/basics/17.3_添加滑动手势UISwipeGestureRecognizer\"},{\"text\":\"17.4 添加拖动手势UIPanGestureRecognizer\",\"link\":\"/uikit/basics/17.4_添加拖动手势UIPanGestureRecognizer\"},{\"text\":\"17.5 添加缩放手势UIPinchGestureRecognizer\",\"link\":\"/uikit/basics/17.5_添加缩放手势UIPinchGestureRecognizer\"},{\"text\":\"17.6 添加旋转手势UIRotationGestureRecognizer\",\"link\":\"/uikit/basics/17.6_添加旋转手势UIRotationGestureRecognizer\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wumacms\"},{\"icon\":\"bilibili\",\"link\":\"https://space.bilibili.com/249603883\"}],\"footer\":{\"message\":\"本站使用 <a href=\\\"https://vitepress.vuejs.org/\\\" target=\\\"_blank\\\" style=\\\"color: #47caff;\\\">VitePress</a> 制作\",\"copyright\":\"版权所有 © 2025 SwiftUIX\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>