import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.ymCRTBvy.js";const g=JSON.parse('{"title":"3.4_富文本NSAttributedString使用","description":"","frontmatter":{},"headers":[],"relativePath":"uikit/basics/3.4_富文本NSAttributedString使用.md","filePath":"uikit/basics/3.4_富文本NSAttributedString使用.md"}'),l={name:"uikit/basics/3.4_富文本NSAttributedString使用.md"};function e(h,s,p,k,r,d){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="_3-4-富文本nsattributedstring使用" tabindex="-1">3.4_富文本NSAttributedString使用 <a class="header-anchor" href="#_3-4-富文本nsattributedstring使用" aria-label="Permalink to &quot;3.4_富文本NSAttributedString使用&quot;">​</a></h1><h2 id="什么是富文本" tabindex="-1">什么是富文本？ <a class="header-anchor" href="#什么是富文本" aria-label="Permalink to &quot;什么是富文本？&quot;">​</a></h2><p>富文本（<code>NSAttributedString</code>）是 <code>UIKit</code> 中一个非常强大的概念，它允许你在同一段文本中应用多种不同的样式和属性。想象一下，你可以在一个句子中同时拥有粗体、斜体、不同颜色和字体的文字！这极大地增强了文本的视觉表现力。✨</p><h2 id="nsattributedstring-的核心优势" tabindex="-1"><code>NSAttributedString</code> 的核心优势 <a class="header-anchor" href="#nsattributedstring-的核心优势" aria-label="Permalink to &quot;\`NSAttributedString\` 的核心优势&quot;">​</a></h2><p>使用 <code>NSAttributedString</code>，你可以轻松实现复杂的文本布局，而无需创建多个 <code>UILabel</code> 或 <code>UITextView</code>。这不仅简化了代码，还提高了性能。例如，一个包含多种样式的段落，用富文本只需一个控件就能搞定。</p><h2 id="创建富文本字符串" tabindex="-1">创建富文本字符串 <a class="header-anchor" href="#创建富文本字符串" aria-label="Permalink to &quot;创建富文本字符串&quot;">​</a></h2><p>创建富文本字符串主要有两种方式。你可以从一个普通字符串开始，然后添加属性，或者直接用属性字典初始化。这两种方法都非常灵活，可以满足你的不同需求。</p><h2 id="方法一-从普通字符串添加属性" tabindex="-1">方法一：从普通字符串添加属性 <a class="header-anchor" href="#方法一-从普通字符串添加属性" aria-label="Permalink to &quot;方法一：从普通字符串添加属性&quot;">​</a></h2><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> originalString </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;你好，世界！&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attributedString </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NSMutableAttributedString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: originalString)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义属性</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> boldFont </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UIFont.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boldSystemFont</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ofSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> textColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UIColor.red</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> range </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NSRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">location</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;你好&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 添加属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attributedString.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.font, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: boldFont, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: range)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attributedString.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.foregroundColor, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: textColor, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: range)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 应用到UILabel</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> label </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UILabel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">label.attributedText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attributedString</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>这段代码展示了如何将“你好”设置为粗体红色。你可以根据需要调整 <code>range</code> 来选择不同的文本部分。</p><h2 id="方法二-使用属性字典初始化" tabindex="-1">方法二：使用属性字典初始化 <a class="header-anchor" href="#方法二-使用属性字典初始化" aria-label="Permalink to &quot;方法二：使用属性字典初始化&quot;">​</a></h2><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attributes: [NSAttributedString.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .font</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UIFont.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">systemFont</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ofSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .foregroundColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UIColor.blue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attributedString </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NSAttributedString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一个蓝色的文本。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">attributes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: attributes)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> textView </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UITextView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">textView.attributedText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attributedString</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这种方法在创建时就指定了整个字符串的属性。它非常适合当你需要为整个文本应用统一风格时。</p><h2 id="常用富文本属性" tabindex="-1">常用富文本属性 <a class="header-anchor" href="#常用富文本属性" aria-label="Permalink to &quot;常用富文本属性&quot;">​</a></h2><p><code>NSAttributedString.Key</code> 提供了丰富的属性，让你能够精细控制文本的每一个细节。以下是一些最常用的属性：</p><ul><li><code>.font</code>: 设置字体和字号。</li><li><code>.foregroundColor</code>: 设置文本颜色。</li><li><code>.backgroundColor</code>: 设置文本背景颜色。</li><li><code>.paragraphStyle</code>: 控制段落样式，如行间距、对齐方式等。</li><li><code>.underlineStyle</code>: 添加下划线。</li><li><code>.strikethroughStyle</code>: 添加删除线。</li><li><code>.kern</code>: 调整字符间距。</li><li><code>.link</code>: 添加超链接。</li></ul><p>这些属性的组合使用，能让你创造出无限可能！🚀</p><h2 id="实际应用场景" tabindex="-1">实际应用场景 <a class="header-anchor" href="#实际应用场景" aria-label="Permalink to &quot;实际应用场景&quot;">​</a></h2><p>富文本在 <code>iOS</code> 开发中无处不在。例如：</p><ol><li><strong>新闻应用</strong>: 标题、正文、引用等不同部分需要不同的样式。</li><li><strong>聊天应用</strong>: 消息中的表情符号、链接、@提及等。</li><li><strong>富文本编辑器</strong>: 允许用户自定义文本样式。</li><li><strong>广告横幅</strong>: 突出显示促销信息或关键短语。</li></ol><p>掌握 <code>NSAttributedString</code> 将极大地提升你的 <code>UI</code> 表现力，让你的应用界面更加生动和专业。继续探索，你会发现它的更多魅力！🌟</p>`,21)]))}const o=i(l,[["render",e]]);export{g as __pageData,o as default};
