import{_ as a,c as i,o as e,ag as n}from"./chunks/framework.Bw-5EFTY.js";const o=JSON.parse('{"title":"é¿å… @ObservedObject çš„å¸¸è§é™·é˜±","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/5.3_é¿å… @ObservedObject çš„å¸¸è§é™·é˜±.md","filePath":"advanced/5.3_é¿å… @ObservedObject çš„å¸¸è§é™·é˜±.md"}'),l={name:"advanced/5.3_é¿å… @ObservedObject çš„å¸¸è§é™·é˜±.md"};function t(p,s,h,r,d,k){return e(),i("div",null,s[0]||(s[0]=[n(`<h1 id="é¿å…-observedobject-çš„å¸¸è§é™·é˜±" tabindex="-1">é¿å… @ObservedObject çš„å¸¸è§é™·é˜± <a class="header-anchor" href="#é¿å…-observedobject-çš„å¸¸è§é™·é˜±" aria-label="Permalink to &quot;é¿å… @ObservedObject çš„å¸¸è§é™·é˜±&quot;">â€‹</a></h1><blockquote><p>é¿å… <code>@ObservedObject</code> çš„å¸¸è§é™·é˜±ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥æ¢è®¨ï¼ğŸ‰ æŒæ¡è¿™äº›æŠ€å·§ï¼Œä½ å°±èƒ½å†™å‡ºæ›´å¥å£®çš„ SwiftUI ä»£ç ã€‚</p></blockquote><h2 id="ç†è§£ç”Ÿå‘½å‘¨æœŸé—®é¢˜" tabindex="-1">ç†è§£ç”Ÿå‘½å‘¨æœŸé—®é¢˜ <a class="header-anchor" href="#ç†è§£ç”Ÿå‘½å‘¨æœŸé—®é¢˜" aria-label="Permalink to &quot;ç†è§£ç”Ÿå‘½å‘¨æœŸé—®é¢˜&quot;">â€‹</a></h2><p><code>@ObservedObject</code> çš„ä¸€ä¸ªå¸¸è§é™·é˜±æ˜¯ç”Ÿå‘½å‘¨æœŸç®¡ç†ä¸å½“ã€‚å½“ <code>@ObservedObject</code> å¼•ç”¨çš„å¯¹è±¡è¢«é‡Šæ”¾æ—¶ï¼Œè§†å›¾å¯èƒ½ä¼šå´©æºƒã€‚ç¡®ä¿ä½ çš„å¯¹è±¡åœ¨è§†å›¾çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…éƒ½å­˜åœ¨ã€‚</p><ul><li><strong>çˆ¶è§†å›¾æŒæœ‰ï¼š</strong> ç¡®ä¿çˆ¶è§†å›¾æŒæœ‰è¯¥å¯¹è±¡ï¼Œé¿å…è¿‡æ—©é‡Šæ”¾ã€‚</li><li><strong>ä½¿ç”¨ <code>@StateObject</code>ï¼š</strong> å¦‚æœå¯¹è±¡éœ€è¦åœ¨è§†å›¾çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…å­˜åœ¨ï¼Œè€ƒè™‘ä½¿ç”¨ <code>@StateObject</code>ã€‚</li></ul><h2 id="é¿å…ä¸å¿…è¦çš„æ›´æ–°" tabindex="-1">é¿å…ä¸å¿…è¦çš„æ›´æ–° <a class="header-anchor" href="#é¿å…ä¸å¿…è¦çš„æ›´æ–°" aria-label="Permalink to &quot;é¿å…ä¸å¿…è¦çš„æ›´æ–°&quot;">â€‹</a></h2><p><code>@ObservedObject</code> é©±åŠ¨çš„è§†å›¾æ›´æ–°å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚åªæœ‰åœ¨å¿…è¦æ—¶æ‰æ›´æ–°è§†å›¾ï¼Œé¿å…ä¸å¿…è¦çš„æ¸²æŸ“ã€‚</p><ul><li><strong><code>Equatable</code> åè®®ï¼š</strong> è®©ä½ çš„ ObservableObject ç¬¦åˆ <code>Equatable</code> åè®®ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„æ›´æ–°ã€‚</li><li><strong><code>shouldUpdate</code> æ–¹æ³•ï¼š</strong> åœ¨ ObservableObject ä¸­å®ç° <code>shouldUpdate</code> æ–¹æ³•ï¼Œå¯ä»¥æ›´ç²¾ç»†åœ°æ§åˆ¶æ›´æ–°ã€‚</li></ul><h2 id="æ­£ç¡®å¤„ç†æ•°æ®å…±äº«" tabindex="-1">æ­£ç¡®å¤„ç†æ•°æ®å…±äº« <a class="header-anchor" href="#æ­£ç¡®å¤„ç†æ•°æ®å…±äº«" aria-label="Permalink to &quot;æ­£ç¡®å¤„ç†æ•°æ®å…±äº«&quot;">â€‹</a></h2><p>åœ¨å¤šä¸ªè§†å›¾ä¹‹é—´å…±äº« <code>@ObservedObject</code> æ—¶ï¼ŒåŠ¡å¿…å°å¿ƒå¤„ç†æ•°æ®åŒæ­¥é—®é¢˜ã€‚ä¸æ­£ç¡®çš„åŒæ­¥å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚</p><ul><li><strong>å•å‘æ•°æ®æµï¼š</strong> å°½é‡é‡‡ç”¨å•å‘æ•°æ®æµï¼Œé¿å…å¤šä¸ªè§†å›¾åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå¯¹è±¡ã€‚</li><li><strong>ä½¿ç”¨ <code>Combine</code> æ¡†æ¶ï¼š</strong> ä½¿ç”¨ <code>Combine</code> æ¡†æ¶çš„ <code>PassthroughSubject</code> æˆ– <code>CurrentValueSubject</code> æ¥åŒæ­¥æ•°æ®ã€‚</li></ul><h2 id="ç¤ºä¾‹ä»£ç " tabindex="-1">ç¤ºä¾‹ä»£ç  <a class="header-anchor" href="#ç¤ºä¾‹ä»£ç " aria-label="Permalink to &quot;ç¤ºä¾‹ä»£ç &quot;">â€‹</a></h2><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ObservableObject </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> increment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @ObservedObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewModel: MyViewModel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        VStack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Count: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(viewModel.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">count</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Increment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                viewModel.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">increment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¡®ä¿ <code>MyViewModel</code> çš„å®ä¾‹åœ¨ <code>MyView</code> çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…éƒ½å­˜åœ¨ã€‚å¦‚æœ <code>MyViewModel</code> è¢«è¿‡æ—©é‡Šæ”¾ï¼Œ<code>MyView</code> å¯èƒ½ä¼šå´©æºƒã€‚</p><p>è®°ä½ï¼Œç†è§£ <code>@ObservedObject</code> çš„ç”Ÿå‘½å‘¨æœŸå’Œæ•°æ®åŒæ­¥æœºåˆ¶è‡³å…³é‡è¦ã€‚é€šè¿‡éµå¾ªè¿™äº›æœ€ä½³å®è·µï¼Œä½ å¯ä»¥é¿å…å¸¸è§çš„é™·é˜±ï¼Œå¹¶æ„å»ºæ›´ç¨³å®šã€æ›´é«˜æ•ˆçš„ SwiftUI åº”ç”¨ã€‚ğŸš€</p>`,15)]))}const b=a(l,[["render",t]]);export{o as __pageData,b as default};
