import{_ as s,c as a,o as n,ag as e}from"./chunks/framework.ymCRTBvy.js";const c=JSON.parse('{"title":"éµå¾ªUIViewControllerAnimatedTransitioningåè®®","description":"","frontmatter":{},"headers":[],"relativePath":"swift/uikit/advanced/14.3_éµå¾ªUIViewControllerAnimatedTransitioningåè®®.md","filePath":"swift/uikit/advanced/14.3_éµå¾ªUIViewControllerAnimatedTransitioningåè®®.md"}'),t={name:"swift/uikit/advanced/14.3_éµå¾ªUIViewControllerAnimatedTransitioningåè®®.md"};function l(r,i,p,h,o,k){return n(),a("div",null,i[0]||(i[0]=[e(`<h1 id="éµå¾ªuiviewcontrolleranimatedtransitioningåè®®" tabindex="-1">éµå¾ªUIViewControllerAnimatedTransitioningåè®® <a class="header-anchor" href="#éµå¾ªuiviewcontrolleranimatedtransitioningåè®®" aria-label="Permalink to &quot;éµå¾ªUIViewControllerAnimatedTransitioningåè®®&quot;">â€‹</a></h1><h2 id="åè®®æ ¸å¿ƒæ¦‚å¿µè§£æ" tabindex="-1">åè®®æ ¸å¿ƒæ¦‚å¿µè§£æ <a class="header-anchor" href="#åè®®æ ¸å¿ƒæ¦‚å¿µè§£æ" aria-label="Permalink to &quot;åè®®æ ¸å¿ƒæ¦‚å¿µè§£æ&quot;">â€‹</a></h2><p><code>UIViewControllerAnimatedTransitioning</code> åè®®æ˜¯å®ç°è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»çš„åŸºçŸ³ï¼ğŸš€ å®ƒå®šä¹‰äº†ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼Œè®©ä½ èƒ½å¤Ÿå®Œå…¨æŒæ§è§†å›¾æ§åˆ¶å™¨åœ¨å±å¹•ä¸Šå‡ºç°å’Œæ¶ˆå¤±çš„åŠ¨ç”»è¿‡ç¨‹ã€‚å½“ä½ æƒ³è¦æ‘†è„±ç³»ç»Ÿé»˜è®¤çš„ç”Ÿç¡¬è½¬åœºï¼Œåˆ›é€ å‡ºç‹¬ä¸€æ— äºŒçš„è§†è§‰ä½“éªŒæ—¶ï¼Œè¿™ä¸ªåè®®å°±æ˜¯ä½ çš„æœ€ä½³ä¼™ä¼´ã€‚ç†è§£å¹¶ç†Ÿç»ƒè¿ç”¨å®ƒï¼Œå°†æå¤§æå‡ä½ çš„åº”ç”¨çš„ç”¨æˆ·ä½“éªŒã€‚</p><h2 id="å®ç°è½¬åœºåŠ¨ç”»æ—¶é•¿" tabindex="-1">å®ç°è½¬åœºåŠ¨ç”»æ—¶é•¿ <a class="header-anchor" href="#å®ç°è½¬åœºåŠ¨ç”»æ—¶é•¿" aria-label="Permalink to &quot;å®ç°è½¬åœºåŠ¨ç”»æ—¶é•¿&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œä½ éœ€è¦å®ç° <code>transitionDuration(using:)</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•éå¸¸ç›´æ¥ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿä½ çš„è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»å°†æŒç»­å¤šé•¿æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œè¿”å› <code>0.5</code> æ„å‘³ç€ä½ çš„åŠ¨ç”»å°†åœ¨åŠç§’å†…å®Œæˆã€‚è¿™æ˜¯ä¸€ä¸ª <code>NSTimeInterval</code> ç±»å‹çš„å€¼ï¼Œé€šå¸¸ä»¥ç§’ä¸ºå•ä½ã€‚ç²¾ç¡®æ§åˆ¶åŠ¨ç”»æ—¶é•¿æ˜¯åˆ›é€ æµç•…ç”¨æˆ·ä½“éªŒçš„å…³é”®ä¸€æ­¥ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> transitionDuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transitionContext: UIViewControllerContextTransitioning</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TimeInterval {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.75</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // åŠ¨ç”»å°†æŒç»­0.75ç§’</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="æ‰§è¡ŒåŠ¨ç”»é€»è¾‘" tabindex="-1">æ‰§è¡ŒåŠ¨ç”»é€»è¾‘ <a class="header-anchor" href="#æ‰§è¡ŒåŠ¨ç”»é€»è¾‘" aria-label="Permalink to &quot;æ‰§è¡ŒåŠ¨ç”»é€»è¾‘&quot;">â€‹</a></h2><p>æ¥ä¸‹æ¥ï¼Œä¹Ÿæ˜¯æœ€æ¿€åŠ¨äººå¿ƒçš„éƒ¨åˆ†ï¼Œä½ éœ€è¦å®ç° <code>animateTransition(using:)</code> æ–¹æ³•ã€‚è¿™æ˜¯ä½ çœŸæ­£æ–½å±•é­”æ³•çš„åœ°æ–¹ï¼âœ¨ åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä½ å°†è·å¾—ä¸€ä¸ª <code>UIViewControllerContextTransitioning</code> å¯¹è±¡ï¼Œå®ƒåŒ…å«äº†è½¬åœºæ‰€éœ€çš„æ‰€æœ‰å…³é”®ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š</p><ul><li><strong><code>containerView</code></strong>: è¿™æ˜¯æ‰€æœ‰è½¬åœºè§†å›¾çš„çˆ¶è§†å›¾ã€‚ä½ çš„åŠ¨ç”»è§†å›¾éƒ½åº”è¯¥æ·»åŠ åˆ°è¿™é‡Œã€‚</li><li><strong><code>viewController(forKey:)</code></strong>: é€šè¿‡ <code>UITransitionContextViewControllerKey.from</code> å’Œ <code>UITransitionContextViewControllerKey.to</code> è·å–å‚ä¸è½¬åœºçš„æºè§†å›¾æ§åˆ¶å™¨å’Œç›®æ ‡è§†å›¾æ§åˆ¶å™¨ã€‚</li><li><strong><code>view(forKey:)</code></strong>: ç±»ä¼¼åœ°ï¼Œé€šè¿‡ <code>UITransitionContextViewKey.from</code> å’Œ <code>UITransitionContextViewKey.to</code> è·å–æºè§†å›¾å’Œç›®æ ‡è§†å›¾ã€‚</li></ul><p>ä½ å¯ä»¥åœ¨è¿™é‡Œå¯¹è¿™äº›è§†å›¾è¿›è¡Œå„ç§åŠ¨ç”»æ“ä½œï¼Œä¾‹å¦‚æ”¹å˜å®ƒä»¬çš„ä½ç½®ã€å¤§å°ã€é€æ˜åº¦ç­‰ã€‚</p><h2 id="åŠ¨ç”»å®Œæˆé€šçŸ¥" tabindex="-1">åŠ¨ç”»å®Œæˆé€šçŸ¥ <a class="header-anchor" href="#åŠ¨ç”»å®Œæˆé€šçŸ¥" aria-label="Permalink to &quot;åŠ¨ç”»å®Œæˆé€šçŸ¥&quot;">â€‹</a></h2><p>åœ¨ <code>animateTransition(using:)</code> æ–¹æ³•çš„æœ€åï¼Œæ— è®ºåŠ¨ç”»æ˜¯æˆåŠŸå®Œæˆè¿˜æ˜¯è¢«å–æ¶ˆï¼Œä½ éƒ½<strong>å¿…é¡»</strong>è°ƒç”¨ <code>transitionContext.completeTransition(true)</code> æˆ– <code>transitionContext.completeTransition(false)</code>ã€‚è¿™ä¼šé€šçŸ¥ç³»ç»Ÿè½¬åœºå·²ç»ç»“æŸï¼Œè®©ç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®åœ°æ¸…ç†å’Œæ›´æ–°è§†å›¾å±‚çº§ã€‚å¿˜è®°è¿™ä¸€æ­¥ä¼šå¯¼è‡´è§†å›¾å±‚çº§æ··ä¹±ï¼Œç”šè‡³åº”ç”¨å´©æºƒã€‚å¤§çº¦æœ‰15%çš„å¼€å‘è€…åˆæ¬¡å°è¯•æ—¶ä¼šé—æ¼è¿™ä¸€æ­¥ï¼Œæ‰€ä»¥åŠ¡å¿…ç‰¢è®°ï¼</p><h2 id="åŠ¨ç”»ç¤ºä¾‹-æ·¡å…¥æ·¡å‡ºæ•ˆæœ" tabindex="-1">åŠ¨ç”»ç¤ºä¾‹ï¼šæ·¡å…¥æ·¡å‡ºæ•ˆæœ <a class="header-anchor" href="#åŠ¨ç”»ç¤ºä¾‹-æ·¡å…¥æ·¡å‡ºæ•ˆæœ" aria-label="Permalink to &quot;åŠ¨ç”»ç¤ºä¾‹ï¼šæ·¡å…¥æ·¡å‡ºæ•ˆæœ&quot;">â€‹</a></h2><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„æ·¡å…¥æ·¡å‡ºåŠ¨ç”»ä¾‹å­ã€‚å‡è®¾æˆ‘ä»¬æƒ³è®©ç›®æ ‡è§†å›¾æ§åˆ¶å™¨ï¼ˆtoVCï¼‰ä»å®Œå…¨é€æ˜æ·¡å…¥åˆ°å®Œå…¨ä¸é€æ˜ï¼š</p><ol><li>è·å– <code>containerView</code>ã€<code>fromView</code> å’Œ <code>toView</code>ã€‚</li><li>å°† <code>toView</code> æ·»åŠ åˆ° <code>containerView</code>ã€‚</li><li>å°† <code>toView.alpha</code> è®¾ç½®ä¸º <code>0.0</code>ã€‚</li><li>ä½¿ç”¨ <code>UIView.animate</code> åŠ¨ç”»å—ï¼Œåœ¨ <code>transitionDuration</code> æ—¶é—´å†…å°† <code>toView.alpha</code> å˜ä¸º <code>1.0</code>ã€‚</li><li>åœ¨åŠ¨ç”»å®Œæˆå›è°ƒä¸­ï¼Œè°ƒç”¨ <code>transitionContext.completeTransition(true)</code>ã€‚</li></ol><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> animateTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transitionContext: UIViewControllerContextTransitioning) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    guard</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> toView </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transitionContext.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">forKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .to) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> containerView </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transitionContext.containerView</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    containerView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addSubview</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(toView)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    toView.alpha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // åˆå§‹çŠ¶æ€ï¼šå®Œå…¨é€æ˜</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> duration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transitionDuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: transitionContext)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    UIView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">animate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">withDuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: duration, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">animations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        toView.alpha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // åŠ¨ç”»ç»“æŸï¼šå®Œå…¨ä¸é€æ˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }) { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        transitionContext.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">completeTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€šçŸ¥ç³»ç»ŸåŠ¨ç”»å®Œæˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>é€šè¿‡éµå¾ª <code>UIViewControllerAnimatedTransitioning</code> åè®®ï¼Œä½ å°†æ‹¥æœ‰æ— é™å¯èƒ½å»åˆ›é€ ä»¤äººæƒŠå¹çš„è½¬åœºåŠ¨ç”»ã€‚è¿™ä¸ä»…èƒ½è®©ä½ çš„åº”ç”¨çœ‹èµ·æ¥æ›´ä¸“ä¸šï¼Œè¿˜èƒ½æ˜¾è‘—æå‡ç”¨æˆ·ä¸åº”ç”¨çš„äº’åŠ¨ä½“éªŒã€‚å»å°è¯•å§ï¼Œä½ ä¼šçˆ±ä¸Šå®ƒçš„ï¼ğŸ’–</p>`,17)]))}const E=s(t,[["render",l]]);export{c as __pageData,E as default};
