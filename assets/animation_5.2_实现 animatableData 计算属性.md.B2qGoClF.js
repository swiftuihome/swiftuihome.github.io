import{_ as s,c as i,o as n,ag as e}from"./chunks/framework.ymCRTBvy.js";const E=JSON.parse('{"title":"5.2_å®ç° animatableData è®¡ç®—å±æ€§","description":"","frontmatter":{},"headers":[],"relativePath":"animation/5.2_å®ç° animatableData è®¡ç®—å±æ€§.md","filePath":"animation/5.2_å®ç° animatableData è®¡ç®—å±æ€§.md"}'),l={name:"animation/5.2_å®ç° animatableData è®¡ç®—å±æ€§.md"};function t(p,a,h,k,r,d){return n(),i("div",null,a[0]||(a[0]=[e(`<h1 id="_5-2-å®ç°-animatabledata-è®¡ç®—å±æ€§" tabindex="-1">5.2_å®ç° animatableData è®¡ç®—å±æ€§ <a class="header-anchor" href="#_5-2-å®ç°-animatabledata-è®¡ç®—å±æ€§" aria-label="Permalink to &quot;5.2_å®ç° animatableData è®¡ç®—å±æ€§&quot;">â€‹</a></h1><h2 id="æ·±å…¥ç†è§£-animatabledata" tabindex="-1">æ·±å…¥ç†è§£ <code>animatableData</code> <a class="header-anchor" href="#æ·±å…¥ç†è§£-animatabledata" aria-label="Permalink to &quot;æ·±å…¥ç†è§£ \`animatableData\`&quot;">â€‹</a></h2><p><code>Animatable</code> åè®®çš„æ ¸å¿ƒåœ¨äº <code>animatableData</code> è®¡ç®—å±æ€§ã€‚å®ƒå…è®¸æ‚¨å°†è‡ªå®šä¹‰è§†å›¾çš„ä»»ä½•å¯åŠ¨ç”»å±æ€§è½¬æ¢ä¸º SwiftUI å¯ä»¥ç†è§£å’Œæ’å€¼çš„å•ä¸€ <code>VectorArithmetic</code> ç±»å‹ã€‚è¿™çœŸæ˜¯å¤ªæ£’äº†ï¼ğŸš€</p><p>å½“æ‚¨æƒ³è¦ä¸ºè‡ªå®šä¹‰è§†å›¾æ·»åŠ åŠ¨ç”»æ—¶ï¼Œ<code>animatableData</code> æ˜¯æ‚¨çš„ç§˜å¯†æ­¦å™¨ã€‚å®ƒå……å½“äº†è§†å›¾çŠ¶æ€å’ŒåŠ¨ç”»ç³»ç»Ÿä¹‹é—´çš„æ¡¥æ¢ã€‚æ‚¨ä¼šå‘ç°ï¼ŒæŒæ¡å®ƒèƒ½è®©æ‚¨çš„åŠ¨ç”»æ•ˆæœæå‡ä¸€ä¸ªæ¡£æ¬¡ã€‚</p><h2 id="å¦‚ä½•å®ç°-animatabledata" tabindex="-1">å¦‚ä½•å®ç° <code>animatableData</code> <a class="header-anchor" href="#å¦‚ä½•å®ç°-animatabledata" aria-label="Permalink to &quot;å¦‚ä½•å®ç° \`animatableData\`&quot;">â€‹</a></h2><p>å®ç° <code>animatableData</code> å±æ€§éœ€è¦æ‚¨å°†è§†å›¾ä¸­æ‰€æœ‰éœ€è¦åŠ¨ç”»çš„å±æ€§æ‰“åŒ…æˆä¸€ä¸ª <code>VectorArithmetic</code> ç±»å‹ã€‚é€šå¸¸ï¼Œè¿™ä¼šæ˜¯ <code>CGFloat</code> æˆ– <code>AnimatablePair</code>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>Shape</code>ï¼Œå¹¶ä¸”æƒ³è¦åŠ¨ç”»åŒ–å®ƒçš„æŸä¸ªåŠå¾„ï¼Œæ‚¨å¯ä»¥è¿™æ ·åšï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyCircle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Shape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Animatable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> radius: CGFloat</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animatableData: CGFloat {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { radius }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { radius </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newValue }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rect: CGRect) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Path {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ... ç»˜åˆ¶è·¯å¾„ ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>è¿™ä½¿å¾— <code>radius</code> å±æ€§èƒ½å¤Ÿå¹³æ»‘åœ°è¿›è¡ŒåŠ¨ç”»è¿‡æ¸¡ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿâœ¨</p><h2 id="å¤„ç†å¤šä¸ªå¯åŠ¨ç”»å±æ€§" tabindex="-1">å¤„ç†å¤šä¸ªå¯åŠ¨ç”»å±æ€§ <a class="header-anchor" href="#å¤„ç†å¤šä¸ªå¯åŠ¨ç”»å±æ€§" aria-label="Permalink to &quot;å¤„ç†å¤šä¸ªå¯åŠ¨ç”»å±æ€§&quot;">â€‹</a></h2><p>å½“æ‚¨çš„è§†å›¾æœ‰å¤šä¸ªéœ€è¦åŠ¨ç”»çš„å±æ€§æ—¶ï¼Œ<code>AnimatablePair</code> å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å®ƒå…è®¸æ‚¨å°†ä¸¤ä¸ª <code>VectorArithmetic</code> ç±»å‹ç»„åˆåœ¨ä¸€èµ·ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ‚¨æœ‰ä¸€ä¸ªè‡ªå®šä¹‰è§†å›¾ï¼Œæ—¢è¦åŠ¨ç”»åŒ–å®½åº¦ï¼Œåˆè¦åŠ¨ç”»åŒ–é«˜åº¦ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyRectangle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Animatable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> width: CGFloat</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> height: CGFloat</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animatableData: AnimatablePair&lt;CGFloat, CGFloat&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AnimatablePair</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(width, height) }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            width </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newValue.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">first</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newValue.second</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        Rectangle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">frame</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: width, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: height)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">foregroundColor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.blue)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>é€šè¿‡ <code>AnimatablePair</code>ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°åŒæ—¶åŠ¨ç”»åŒ– <code>width</code> å’Œ <code>height</code>ã€‚è¿™ç§çµæ´»æ€§è®©æ‚¨èƒ½å¤Ÿåˆ›å»ºæå…¶å¤æ‚çš„åŠ¨ç”»æ•ˆæœã€‚</p><h2 id="animatabledata-çš„å¹•ååŸç†" tabindex="-1"><code>animatableData</code> çš„å¹•ååŸç† <a class="header-anchor" href="#animatabledata-çš„å¹•ååŸç†" aria-label="Permalink to &quot;\`animatableData\` çš„å¹•ååŸç†&quot;">â€‹</a></h2><p>å½“ SwiftUI æ‰§è¡ŒåŠ¨ç”»æ—¶ï¼Œå®ƒä¼šåœ¨åŠ¨ç”»çš„èµ·å§‹å€¼å’Œç»“æŸå€¼ä¹‹é—´å¯¹ <code>animatableData</code> è¿›è¡Œæ’å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>radius</code> ä» 10 åŠ¨ç”»åˆ° 100ï¼ŒSwiftUI ä¼šåœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­è®¡ç®—å‡º 10 åˆ° 100 ä¹‹é—´çš„æ‰€æœ‰ä¸­é—´å€¼ã€‚</p><ul><li><strong>æ’å€¼è¿‡ç¨‹</strong>: SwiftUI ä¼šåœ¨æ¯ä¸€å¸§æ›´æ–° <code>animatableData</code> çš„å€¼ã€‚</li><li><strong>è§†å›¾é‡ç»˜</strong>: æ¯æ¬¡ <code>animatableData</code> æ›´æ–°æ—¶ï¼Œè§†å›¾éƒ½ä¼šæ ¹æ®æ–°çš„å€¼è¿›è¡Œé‡ç»˜ã€‚</li><li><strong>å¹³æ»‘è¿‡æ¸¡</strong>: è¿™ç§è¿ç»­çš„æ›´æ–°å’Œé‡ç»˜åˆ›é€ äº†å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœã€‚</li></ul><p>è¿™ç§æœºåˆ¶ç¡®ä¿äº†æ— è®ºæ‚¨çš„è‡ªå®šä¹‰å±æ€§å¤šä¹ˆå¤æ‚ï¼Œåªè¦å®ƒä»¬èƒ½è¢«è¡¨ç¤ºä¸º <code>VectorArithmetic</code> ç±»å‹ï¼Œå°±èƒ½å®ç°æµç•…çš„åŠ¨ç”»ã€‚å¤§çº¦ 90% çš„è‡ªå®šä¹‰åŠ¨ç”»éƒ½ä¾èµ–äºæ­¤ã€‚è¿™ç»å¯¹æ˜¯æ‚¨åŠ¨ç”»å·¥å…·ç®±ä¸­çš„å¿…å¤‡æŠ€èƒ½ï¼ğŸ’ª</p>`,16)]))}const o=s(l,[["render",t]]);export{E as __pageData,o as default};
