import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.Bw-5EFTY.js";const g=JSON.parse('{"title":"æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º","description":"","frontmatter":{},"headers":[],"relativePath":"purchase/8.5_æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º.md","filePath":"purchase/8.5_æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º.md"}'),e={name:"purchase/8.5_æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º.md"};function p(t,s,h,k,r,d){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º" tabindex="-1">æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º <a class="header-anchor" href="#æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º" aria-label="Permalink to &quot;æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤º&quot;">â€‹</a></h1><p>åœ¨SwiftUIä¸­é›†æˆStoreKitæ—¶ï¼Œå‘ç”¨æˆ·æ¸…æ™°åœ°å±•ç¤ºåŠ è½½çŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯è‡³å…³é‡è¦ã€‚è¿™ä¸ä»…æå‡äº†ç”¨æˆ·ä½“éªŒï¼Œè¿˜èƒ½å¸®åŠ©ç”¨æˆ·ç†è§£è®¢é˜…è¿‡ç¨‹ä¸­çš„é—®é¢˜ã€‚è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹å¦‚ä½•å®ç°å§ï¼ğŸš€</p><h2 id="åŠ è½½æŒ‡ç¤ºå™¨" tabindex="-1">åŠ è½½æŒ‡ç¤ºå™¨ <a class="header-anchor" href="#åŠ è½½æŒ‡ç¤ºå™¨" aria-label="Permalink to &quot;åŠ è½½æŒ‡ç¤ºå™¨&quot;">â€‹</a></h2><p>åœ¨è´­ä¹°æˆ–éªŒè¯è®¢é˜…æ—¶ï¼Œæ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨å¯ä»¥å‘ŠçŸ¥ç”¨æˆ·Appæ­£åœ¨å¤„ç†è¯·æ±‚ã€‚è¿™é¿å…äº†ç”¨æˆ·å› ç­‰å¾…æ—¶é—´è¿‡é•¿è€Œæ„Ÿåˆ°å›°æƒ‘ã€‚ä½ å¯ä»¥ä½¿ç”¨<code>ProgressView</code>æ¥å®ç°åŠ è½½æŒ‡ç¤ºå™¨ã€‚</p><ul><li><strong>ä½¿ç”¨<code>@State</code>å˜é‡æ§åˆ¶æ˜¾ç¤ºï¼š</strong> åˆ›å»ºä¸€ä¸ª<code>@State</code>å˜é‡æ¥è·Ÿè¸ªåŠ è½½çŠ¶æ€ã€‚</li><li><strong>æ¡ä»¶æ¸²æŸ“ï¼š</strong> æ ¹æ®åŠ è½½çŠ¶æ€æ˜¾ç¤ºæˆ–éšè—<code>ProgressView</code>ã€‚</li></ul><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isLoading </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isLoading {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ProgressView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ­£åœ¨å¤„ç†...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="é”™è¯¯æç¤º" tabindex="-1">é”™è¯¯æç¤º <a class="header-anchor" href="#é”™è¯¯æç¤º" aria-label="Permalink to &quot;é”™è¯¯æç¤º&quot;">â€‹</a></h2><p>å½“è´­ä¹°æˆ–éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯æ—¶ï¼ŒåŠæ—¶å‘ç”¨æˆ·æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯éå¸¸é‡è¦ã€‚è¿™èƒ½å¸®åŠ©ç”¨æˆ·äº†è§£é—®é¢˜æ‰€åœ¨ï¼Œå¹¶é‡‡å–ç›¸åº”æªæ–½ã€‚</p><ul><li><strong>ä½¿ç”¨<code>@State</code>å˜é‡å­˜å‚¨é”™è¯¯ä¿¡æ¯ï¼š</strong> åˆ›å»ºä¸€ä¸ª<code>@State</code>å˜é‡æ¥å­˜å‚¨é”™è¯¯ä¿¡æ¯ã€‚</li><li><strong>æ˜¾ç¤ºé”™è¯¯å¼¹çª—ï¼š</strong> ä½¿ç”¨<code>alert</code>ä¿®é¥°ç¬¦æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</li></ul><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errorMessage: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">alert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isPresented</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { errorMessage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { errorMessage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Alert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é”™è¯¯&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(errorMessage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">??</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;æœªçŸ¥é”™è¯¯&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        dismissButton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç¡®å®š&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="ç»“åˆä½¿ç”¨" tabindex="-1">ç»“åˆä½¿ç”¨ <a class="header-anchor" href="#ç»“åˆä½¿ç”¨" aria-label="Permalink to &quot;ç»“åˆä½¿ç”¨&quot;">â€‹</a></h2><p>å°†åŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤ºç»“åˆä½¿ç”¨ï¼Œå¯ä»¥æä¾›æ›´å®Œå–„çš„ç”¨æˆ·ä½“éªŒã€‚</p><ol><li><strong>å¼€å§‹è´­ä¹°æ—¶è®¾ç½®<code>isLoading = true</code>ã€‚</strong></li><li><strong>è´­ä¹°æˆåŠŸåè®¾ç½®<code>isLoading = false</code>ã€‚</strong></li><li><strong>è´­ä¹°å¤±è´¥æ—¶è®¾ç½®<code>isLoading = false</code>ï¼Œå¹¶è®¾ç½®<code>errorMessage</code>ã€‚</strong></li></ol><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è´­ä¹°&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    isLoading </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    storeManager.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">purchase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(product) { result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isLoading </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // è´­ä¹°æˆåŠŸ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">failure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            errorMessage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error.localizedDescription</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ" tabindex="-1">ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ <a class="header-anchor" href="#ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ" aria-label="Permalink to &quot;ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ&quot;">â€‹</a></h2><ul><li><strong>æ¸…æ™°çš„æç¤ºä¿¡æ¯ï¼š</strong> ç¡®ä¿åŠ è½½å’Œé”™è¯¯ä¿¡æ¯æ¸…æ™°æ˜“æ‡‚ã€‚</li><li><strong>åŠæ—¶æ›´æ–°UIï¼š</strong> åŠæ—¶æ›´æ–°UIï¼Œè®©ç”¨æˆ·äº†è§£è®¢é˜…çŠ¶æ€ã€‚</li><li><strong>æä¾›è§£å†³æ–¹æ¡ˆï¼š</strong> åœ¨é”™è¯¯æç¤ºä¸­ï¼Œå°½é‡æä¾›è§£å†³æ–¹æ¡ˆæˆ–å»ºè®®ã€‚</li></ul><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥ä¸ºä½ çš„SwiftUIè®¢é˜…åŠŸèƒ½æ·»åŠ åŠ è½½æŒ‡ç¤ºå™¨å’Œé”™è¯¯æç¤ºï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚è®°ä½ï¼Œæ¸…æ™°çš„åé¦ˆæ˜¯ä¼˜ç§€ç”¨æˆ·ä½“éªŒçš„å…³é”®ï¼ğŸ‘</p>`,17)]))}const c=i(e,[["render",p]]);export{g as __pageData,c as default};
