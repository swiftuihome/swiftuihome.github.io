import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.Bw-5EFTY.js";const d=JSON.parse('{"title":"ä½¿ç”¨ AnchorPreferences è¿›è¡Œå‡ ä½•å¯¹é½","description":"","frontmatter":{},"headers":[],"relativePath":"core/5.4_ä½¿ç”¨ AnchorPreferences è¿›è¡Œå‡ ä½•å¯¹é½.md","filePath":"core/5.4_ä½¿ç”¨ AnchorPreferences è¿›è¡Œå‡ ä½•å¯¹é½.md"}'),l={name:"core/5.4_ä½¿ç”¨ AnchorPreferences è¿›è¡Œå‡ ä½•å¯¹é½.md"};function h(p,s,k,t,r,E){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="ä½¿ç”¨-anchorpreferences-è¿›è¡Œå‡ ä½•å¯¹é½" tabindex="-1">ä½¿ç”¨ AnchorPreferences è¿›è¡Œå‡ ä½•å¯¹é½ <a class="header-anchor" href="#ä½¿ç”¨-anchorpreferences-è¿›è¡Œå‡ ä½•å¯¹é½" aria-label="Permalink to &quot;ä½¿ç”¨ AnchorPreferences è¿›è¡Œå‡ ä½•å¯¹é½&quot;">â€‹</a></h1><h2 id="æ¢ç´¢-anchorpreferences-çš„å¥¥ç§˜-ğŸš€" tabindex="-1">æ¢ç´¢ AnchorPreferences çš„å¥¥ç§˜ ğŸš€ <a class="header-anchor" href="#æ¢ç´¢-anchorpreferences-çš„å¥¥ç§˜-ğŸš€" aria-label="Permalink to &quot;æ¢ç´¢ AnchorPreferences çš„å¥¥ç§˜ ğŸš€&quot;">â€‹</a></h2><p>AnchorPreferences æ˜¯ SwiftUI ä¸­ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå…è®¸ä½ ä»å­è§†å›¾å‘çˆ¶è§†å›¾ä¼ é€’å‡ ä½•ä¿¡æ¯ï¼Œå®ç°è§†å›¾é—´çš„ç²¾ç¡®å¯¹é½ã€‚è¿™åœ¨åˆ›å»ºå¤æ‚å¸ƒå±€æ—¶éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œä½ éœ€è¦å°†ä¸€ä¸ªè§†å›¾çš„è¾¹ç¼˜ä¸å¦ä¸€ä¸ªè§†å›¾çš„ç‰¹å®šä½ç½®å¯¹é½ã€‚ä½¿ç”¨ AnchorPreferencesï¼Œä½ å¯ä»¥è½»æ¾åœ°å®ç°è¿™ç§å¯¹é½ï¼Œè€Œæ— éœ€æ‰‹åŠ¨è®¡ç®—ä½ç½®ã€‚</p><p>AnchorPreferences çš„æ ¸å¿ƒåœ¨äº <code>PreferenceKey</code> åè®®ã€‚ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>PreferenceKey</code>ï¼Œç”¨äºå­˜å‚¨ä½ æƒ³è¦ä¼ é€’çš„é”šç‚¹ä¿¡æ¯ã€‚é”šç‚¹å¯ä»¥æ˜¯è§†å›¾çš„ä»»ä½•å‡ ä½•å±æ€§ï¼Œä¾‹å¦‚ä¸­å¿ƒç‚¹ã€è¾¹ç¼˜æˆ–å¤§å°ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨-anchorpreferences-ğŸ› ï¸" tabindex="-1">å¦‚ä½•ä½¿ç”¨ AnchorPreferences ğŸ› ï¸ <a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨-anchorpreferences-ğŸ› ï¸" aria-label="Permalink to &quot;å¦‚ä½•ä½¿ç”¨ AnchorPreferences ğŸ› ï¸&quot;">â€‹</a></h2><ol><li><p><strong>å®šä¹‰ä¸€ä¸ª <code>PreferenceKey</code></strong>: é¦–å…ˆï¼Œä½ éœ€è¦å®šä¹‰ä¸€ä¸ª <code>PreferenceKey</code> æ¥å­˜å‚¨é”šç‚¹ä¿¡æ¯ã€‚è¿™ä¸ª <code>PreferenceKey</code> å¿…é¡»æœ‰ä¸€ä¸ªå…³è”ç±»å‹ï¼Œç”¨äºæŒ‡å®šé”šç‚¹ä¿¡æ¯çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³ä¼ é€’è§†å›¾çš„ä¸­å¿ƒç‚¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>CGPoint</code> ä½œä¸ºå…³è”ç±»å‹ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyAnchorKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PreferenceKey </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultValue: Anchor&lt;CGPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">inout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Anchor&lt;CGPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nextValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Anchor&lt;CGPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nextValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p><strong>ä½¿ç”¨ <code>anchorPreference</code> ä¿®é¥°ç¬¦</strong>: ä½¿ç”¨ <code>anchorPreference</code> ä¿®é¥°ç¬¦å°†é”šç‚¹ä¿¡æ¯é™„åŠ åˆ°è§†å›¾ä¸Šã€‚è¿™ä¸ªä¿®é¥°ç¬¦æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªé”®å’Œä¸€ä¸ªé”šç‚¹ã€‚é”®æ˜¯ä½ å®šä¹‰çš„ <code>PreferenceKey</code>ï¼Œé”šç‚¹æ˜¯ä½ æƒ³è¦ä¼ é€’çš„å‡ ä½•å±æ€§ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, world!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">anchorPreference</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: MyAnchorKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .center) { anchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        anchor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p><strong>ä½¿ç”¨ <code>onPreferenceChange</code> ä¿®é¥°ç¬¦</strong>: åœ¨çˆ¶è§†å›¾ä¸­ä½¿ç”¨ <code>onPreferenceChange</code> ä¿®é¥°ç¬¦æ¥æ¥æ”¶é”šç‚¹ä¿¡æ¯ã€‚è¿™ä¸ªä¿®é¥°ç¬¦æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªé”®å’Œä¸€ä¸ªé—­åŒ…ã€‚é”®æ˜¯ä½ å®šä¹‰çš„ <code>PreferenceKey</code>ï¼Œé—­åŒ…ä¼šåœ¨é”šç‚¹ä¿¡æ¯å‘ç”Ÿå˜åŒ–æ—¶è¢«è°ƒç”¨ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> myAnchor: Anchor&lt;CGPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    VStack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Parent View&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, world!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">anchorPreference</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: MyAnchorKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .center) { anchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                anchor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">onPreferenceChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyAnchorKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { anchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        myAnchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> anchor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ol><h2 id="å®ä¾‹æ¼”ç¤º-ç²¾å‡†å¯¹é½-ğŸ¯" tabindex="-1">å®ä¾‹æ¼”ç¤ºï¼šç²¾å‡†å¯¹é½ ğŸ¯ <a class="header-anchor" href="#å®ä¾‹æ¼”ç¤º-ç²¾å‡†å¯¹é½-ğŸ¯" aria-label="Permalink to &quot;å®ä¾‹æ¼”ç¤ºï¼šç²¾å‡†å¯¹é½ ğŸ¯&quot;">â€‹</a></h2><p>å‡è®¾ä½ æƒ³è¦å°†ä¸€ä¸ªæŒ‰é’®ä¸å¦ä¸€ä¸ªè§†å›¾çš„åº•éƒ¨å¯¹é½ã€‚ä½ å¯ä»¥ä½¿ç”¨ AnchorPreferences æ¥å®ç°è¿™ä¸ªç›®æ ‡ã€‚é¦–å…ˆï¼Œä½ éœ€è¦å®šä¹‰ä¸€ä¸ª <code>PreferenceKey</code> æ¥å­˜å‚¨è§†å›¾åº•éƒ¨çš„é”šç‚¹ä¿¡æ¯ã€‚ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>anchorPreference</code> ä¿®é¥°ç¬¦å°†é”šç‚¹ä¿¡æ¯é™„åŠ åˆ°è§†å›¾ä¸Šã€‚æœ€åï¼Œä½ å¯ä»¥åœ¨çˆ¶è§†å›¾ä¸­ä½¿ç”¨ <code>onPreferenceChange</code> ä¿®é¥°ç¬¦æ¥æ¥æ”¶é”šç‚¹ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å¯¹é½æŒ‰é’®ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BottomAnchorKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PreferenceKey </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultValue: Anchor&lt;UnitPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">inout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Anchor&lt;UnitPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nextValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Anchor&lt;UnitPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nextValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bottomAnchor: Anchor&lt;UnitPoint&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        VStack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Top View&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GeometryReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { proxy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    Color.clear</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">anchorPreference</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: BottomAnchorKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .bottom) { anchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            anchor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                })</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bottom Button&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                // Action</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">alignmentGuide</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.top) { dimension </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> anchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bottomAnchor {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dimension[anchor]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dimension[.top]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">onPreferenceChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BottomAnchorKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { anchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            bottomAnchor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> anchor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="æ€»ç»“-ğŸ‰" tabindex="-1">æ€»ç»“ ğŸ‰ <a class="header-anchor" href="#æ€»ç»“-ğŸ‰" aria-label="Permalink to &quot;æ€»ç»“ ğŸ‰&quot;">â€‹</a></h2><p>AnchorPreferences æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ åˆ›å»ºå¤æ‚çš„å¸ƒå±€ã€‚é€šè¿‡ä½¿ç”¨ <code>PreferenceKey</code>ã€<code>anchorPreference</code> å’Œ <code>onPreferenceChange</code> ä¿®é¥°ç¬¦ï¼Œä½ å¯ä»¥è½»æ¾åœ°ä»å­è§†å›¾å‘çˆ¶è§†å›¾ä¼ é€’å‡ ä½•ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å®ç°è§†å›¾é—´çš„ç²¾ç¡®å¯¹é½ã€‚æŒæ¡ AnchorPreferences å°†ä½¿ä½ èƒ½å¤Ÿæ„å»ºæ›´çµæ´»ã€æ›´å¼ºå¤§çš„ SwiftUI åº”ç”¨ç¨‹åºã€‚ è®°ä½ï¼Œå®è·µæ˜¯æœ€å¥½çš„è€å¸ˆï¼ åŠ¨æ‰‹å°è¯•ä¸€ä¸‹ï¼Œä½ ä¼šå‘ç° AnchorPreferences çš„å¼ºå¤§ä¹‹å¤„ã€‚</p>`,11)]))}const g=i(l,[["render",h]]);export{d as __pageData,g as default};
