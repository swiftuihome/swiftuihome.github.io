import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.Bw-5EFTY.js";const o=JSON.parse('{"title":"ä½¿ç”¨Alamofireç®€åŒ–è¯·æ±‚","description":"","frontmatter":{},"headers":[],"relativePath":"network/12.2_ä½¿ç”¨Alamofireç®€åŒ–è¯·æ±‚.md","filePath":"network/12.2_ä½¿ç”¨Alamofireç®€åŒ–è¯·æ±‚.md"}'),l={name:"network/12.2_ä½¿ç”¨Alamofireç®€åŒ–è¯·æ±‚.md"};function t(p,s,h,k,r,d){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="ä½¿ç”¨alamofireç®€åŒ–è¯·æ±‚" tabindex="-1">ä½¿ç”¨Alamofireç®€åŒ–è¯·æ±‚ <a class="header-anchor" href="#ä½¿ç”¨alamofireç®€åŒ–è¯·æ±‚" aria-label="Permalink to &quot;ä½¿ç”¨Alamofireç®€åŒ–è¯·æ±‚&quot;">â€‹</a></h1><p>Alamofire æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Swift ç½‘ç»œåº“ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ ç®€åŒ–ç½‘ç»œè¯·æ±‚çš„è¿‡ç¨‹ã€‚é€šè¿‡ä½¿ç”¨ Alamofireï¼Œä½ å¯ä»¥æ›´è½»æ¾åœ°å¤„ç† HTTP è¯·æ±‚ã€å“åº”å’Œé”™è¯¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®ç‚¹ï¼Œå¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹ã€‚</p><h2 id="_1-å®‰è£…-alamofire" tabindex="-1">1. å®‰è£… Alamofire <a class="header-anchor" href="#_1-å®‰è£…-alamofire" aria-label="Permalink to &quot;1. å®‰è£… Alamofire&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œä½ éœ€è¦å°† Alamofire é›†æˆåˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚å¯ä»¥é€šè¿‡ CocoaPods æˆ– Swift Package Manager æ¥å®‰è£…ã€‚</p><ul><li><strong>CocoaPods</strong>: åœ¨ Podfile ä¸­æ·»åŠ  <code>pod &#39;Alamofire&#39;</code>ï¼Œç„¶åè¿è¡Œ <code>pod install</code>ã€‚</li><li><strong>Swift Package Manager</strong>: åœ¨ Xcode ä¸­ï¼Œé€‰æ‹© File &gt; Swift Packages &gt; Add Package Dependencyï¼Œè¾“å…¥ Alamofire çš„ GitHub åœ°å€ã€‚</li></ul><h2 id="_2-å‘èµ·è¯·æ±‚" tabindex="-1">2. å‘èµ·è¯·æ±‚ <a class="header-anchor" href="#_2-å‘èµ·è¯·æ±‚" aria-label="Permalink to &quot;2. å‘èµ·è¯·æ±‚&quot;">â€‹</a></h2><p>ä½¿ç”¨ Alamofire å‘èµ·è¯·æ±‚éå¸¸ç®€å•ã€‚ä½ åªéœ€è°ƒç”¨ <code>AF.request</code> æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ URL å’Œè¯·æ±‚å‚æ•°ã€‚ä¾‹å¦‚ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AF.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.example.com/data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .get).</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">responseJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.result {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å“åº”æ•°æ®: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(value)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">failure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯·æ±‚å¤±è´¥: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_3-å¤„ç†å“åº”" tabindex="-1">3. å¤„ç†å“åº” <a class="header-anchor" href="#_3-å¤„ç†å“åº”" aria-label="Permalink to &quot;3. å¤„ç†å“åº”&quot;">â€‹</a></h2><p>Alamofire æä¾›äº†å¤šç§å“åº”å¤„ç†æ–¹å¼ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>.responseJSON</code>ã€<code>.responseData</code> æˆ– <code>.responseString</code> ç­‰æ–¹æ³•æ¥å¤„ç†ä¸åŒç±»å‹çš„å“åº”æ•°æ®ã€‚</p><ul><li><strong>JSON å“åº”</strong>: ä½¿ç”¨ <code>.responseJSON</code> æ–¹æ³•ï¼Œè‡ªåŠ¨å°†å“åº”æ•°æ®è§£æä¸º JSON æ ¼å¼ã€‚</li><li><strong>æ•°æ®å“åº”</strong>: ä½¿ç”¨ <code>.responseData</code> æ–¹æ³•ï¼Œè·å–åŸå§‹æ•°æ®ã€‚</li><li><strong>å­—ç¬¦ä¸²å“åº”</strong>: ä½¿ç”¨ <code>.responseString</code> æ–¹æ³•ï¼Œè·å–å“åº”çš„å­—ç¬¦ä¸²å†…å®¹ã€‚</li></ul><h2 id="_4-é”™è¯¯å¤„ç†" tabindex="-1">4. é”™è¯¯å¤„ç† <a class="header-anchor" href="#_4-é”™è¯¯å¤„ç†" aria-label="Permalink to &quot;4. é”™è¯¯å¤„ç†&quot;">â€‹</a></h2><p>åœ¨ç½‘ç»œè¯·æ±‚ä¸­ï¼Œé”™è¯¯å¤„ç†æ˜¯è‡³å…³é‡è¦çš„ã€‚Alamofire æä¾›äº†ç®€å•çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚ä½ å¯ä»¥åœ¨å“åº”é—­åŒ…ä¸­æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œå¹¶å¤„ç†ç›¸åº”çš„é”™è¯¯ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AF.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.example.com/data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">responseJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å‘ç”Ÿé”™è¯¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">localizedDescription</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¤„ç†æˆåŠŸçš„å“åº”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_5-è¯·æ±‚å‚æ•°ä¸å¤´éƒ¨" tabindex="-1">5. è¯·æ±‚å‚æ•°ä¸å¤´éƒ¨ <a class="header-anchor" href="#_5-è¯·æ±‚å‚æ•°ä¸å¤´éƒ¨" aria-label="Permalink to &quot;5. è¯·æ±‚å‚æ•°ä¸å¤´éƒ¨&quot;">â€‹</a></h2><p>Alamofire å…è®¸ä½ è½»æ¾åœ°æ·»åŠ è¯·æ±‚å‚æ•°å’Œè‡ªå®šä¹‰å¤´éƒ¨ä¿¡æ¯ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>parameters</code> å’Œ <code>headers</code> å‚æ•°æ¥è®¾ç½®è¿™äº›ä¿¡æ¯ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parameters: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> headers: HTTPHeaders </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Authorization&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Bearer token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AF.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.example.com/data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parameters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: parameters, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">headers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: headers).</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">responseJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¤„ç†å“åº”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_6-è¿›é˜¶ç”¨æ³•" tabindex="-1">6. è¿›é˜¶ç”¨æ³• <a class="header-anchor" href="#_6-è¿›é˜¶ç”¨æ³•" aria-label="Permalink to &quot;6. è¿›é˜¶ç”¨æ³•&quot;">â€‹</a></h2><p>Alamofire è¿˜æ”¯æŒé“¾å¼è¯·æ±‚ã€è¯·æ±‚é‡è¯•ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ç­‰é«˜çº§åŠŸèƒ½ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦çµæ´»ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œæå‡ç½‘ç»œè¯·æ±‚çš„æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚</p><p>é€šè¿‡ä½¿ç”¨ Alamofireï¼Œä½ å¯ä»¥å¤§å¤§ç®€åŒ–ç½‘ç»œè¯·æ±‚çš„ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚æ— è®ºæ˜¯ç®€å•çš„ GET è¯·æ±‚ï¼Œè¿˜æ˜¯å¤æ‚çš„ POST è¯·æ±‚ï¼ŒAlamofire éƒ½èƒ½ä¸ºä½ æä¾›å¼ºå¤§çš„æ”¯æŒã€‚ğŸš€</p>`,20)]))}const g=i(l,[["render",t]]);export{o as __pageData,g as default};
