import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.Bw-5EFTY.js";const g=JSON.parse('{"title":"APIç«¯ç‚¹çš„å®šä¹‰","description":"","frontmatter":{},"headers":[],"relativePath":"network/10.3_å®šä¹‰APIç«¯ç‚¹_(Endpoints).md","filePath":"network/10.3_å®šä¹‰APIç«¯ç‚¹_(Endpoints).md"}'),p={name:"network/10.3_å®šä¹‰APIç«¯ç‚¹_(Endpoints).md"};function h(k,s,t,e,r,E){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="apiç«¯ç‚¹çš„å®šä¹‰" tabindex="-1">APIç«¯ç‚¹çš„å®šä¹‰ <a class="header-anchor" href="#apiç«¯ç‚¹çš„å®šä¹‰" aria-label="Permalink to &quot;APIç«¯ç‚¹çš„å®šä¹‰&quot;">â€‹</a></h1><p>åœ¨ç½‘ç»œè¯·æ±‚ä¸­ï¼ŒAPIç«¯ç‚¹æ˜¯ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„å…³é”®ã€‚å®ƒä»¬æ˜¯ç‰¹å®šçš„URLï¼Œå…è®¸å®¢æˆ·ç«¯è¯·æ±‚æ•°æ®æˆ–å‘é€ä¿¡æ¯ã€‚ç†è§£å¦‚ä½•å®šä¹‰APIç«¯ç‚¹æ˜¯æ„å»ºé«˜æ•ˆç½‘ç»œå±‚çš„åŸºç¡€ã€‚</p><h2 id="_1-ç«¯ç‚¹çš„åŸºæœ¬ç»“æ„" tabindex="-1">1. ç«¯ç‚¹çš„åŸºæœ¬ç»“æ„ <a class="header-anchor" href="#_1-ç«¯ç‚¹çš„åŸºæœ¬ç»“æ„" aria-label="Permalink to &quot;1. ç«¯ç‚¹çš„åŸºæœ¬ç»“æ„&quot;">â€‹</a></h2><p>æ¯ä¸ªAPIç«¯ç‚¹é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p><ul><li><strong>åŸºç¡€URL</strong>ï¼šè¿™æ˜¯APIçš„æ ¹åœ°å€ï¼Œä¾‹å¦‚ <code>https://api.example.com</code>ã€‚</li><li><strong>è·¯å¾„</strong>ï¼šç”¨äºæŒ‡å®šèµ„æºçš„å…·ä½“ä½ç½®ï¼Œä¾‹å¦‚ <code>/users</code> æˆ– <code>/posts</code>ã€‚</li><li><strong>æŸ¥è¯¢å‚æ•°</strong>ï¼šç”¨äºä¼ é€’é¢å¤–ä¿¡æ¯ï¼Œä¾‹å¦‚ <code>?page=1&amp;limit=10</code>ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªå®Œæ•´çš„APIç«¯ç‚¹å¯èƒ½æ˜¯ <code>https://api.example.com/users?page=1&amp;limit=10</code>ã€‚</p><h2 id="_2-å®šä¹‰ç«¯ç‚¹çš„æ–¹å¼" tabindex="-1">2. å®šä¹‰ç«¯ç‚¹çš„æ–¹å¼ <a class="header-anchor" href="#_2-å®šä¹‰ç«¯ç‚¹çš„æ–¹å¼" aria-label="Permalink to &quot;2. å®šä¹‰ç«¯ç‚¹çš„æ–¹å¼&quot;">â€‹</a></h2><p>åœ¨Swiftä¸­ï¼Œå¯ä»¥ä½¿ç”¨æšä¸¾æ¥å®šä¹‰APIç«¯ç‚¹ã€‚è¿™ç§æ–¹å¼ä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> APIEndpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(postId: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url: URL {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        switch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.example.com/users?page=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(page)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&amp;limit=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(limit)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> postId)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.example.com/posts/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(postId)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_3-ä½¿ç”¨ç«¯ç‚¹è¿›è¡Œè¯·æ±‚" tabindex="-1">3. ä½¿ç”¨ç«¯ç‚¹è¿›è¡Œè¯·æ±‚ <a class="header-anchor" href="#_3-ä½¿ç”¨ç«¯ç‚¹è¿›è¡Œè¯·æ±‚" aria-label="Permalink to &quot;3. ä½¿ç”¨ç«¯ç‚¹è¿›è¡Œè¯·æ±‚&quot;">â€‹</a></h2><p>ä¸€æ—¦å®šä¹‰äº†APIç«¯ç‚¹ï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚ä½¿ç”¨URLSessionå¯ä»¥è½»æ¾å®ç°è¿™ä¸€ç‚¹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚ç¤ºä¾‹ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetchUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">limit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">completion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@escaping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ([User]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> endpoint </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> APIEndpoint.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: page, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">limit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: limit)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> task </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> URLSession.shared.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dataTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: endpoint.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { data, response, error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            completion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        guard</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            completion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NSError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DataError&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">userInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è§£ææ•°æ®...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    task.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_4-ç«¯ç‚¹çš„çµæ´»æ€§" tabindex="-1">4. ç«¯ç‚¹çš„çµæ´»æ€§ <a class="header-anchor" href="#_4-ç«¯ç‚¹çš„çµæ´»æ€§" aria-label="Permalink to &quot;4. ç«¯ç‚¹çš„çµæ´»æ€§&quot;">â€‹</a></h2><p>å®šä¹‰APIç«¯ç‚¹çš„å¥½å¤„åœ¨äºå®ƒä»¬çš„çµæ´»æ€§ã€‚ä½ å¯ä»¥è½»æ¾åœ°æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤ç«¯ç‚¹ï¼Œè€Œä¸å½±å“å…¶ä»–éƒ¨åˆ†çš„ä»£ç ã€‚è¿™ç§ç»“æ„åŒ–çš„æ–¹å¼ä½¿å¾—ä»£ç æ›´å…·å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><ul><li><strong>å¯æ‰©å±•æ€§</strong>ï¼šéšç€éœ€æ±‚çš„å˜åŒ–ï¼Œå¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ç«¯ç‚¹ã€‚</li><li><strong>å¯è¯»æ€§</strong>ï¼šä½¿ç”¨æšä¸¾å’Œç»“æ„åŒ–çš„æ–¹å¼ä½¿å¾—ä»£ç æ›´æ˜“äºç†è§£ã€‚</li><li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¯ä»¥åœ¨è¯·æ±‚ä¸­é›†ä¸­å¤„ç†é”™è¯¯ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li></ul><p>é€šè¿‡åˆç†åœ°å®šä¹‰APIç«¯ç‚¹ï¼Œä½ å°†èƒ½å¤Ÿæ„å»ºå‡ºé«˜æ•ˆã€å¯ç»´æŠ¤çš„ç½‘ç»œå±‚ï¼Œä¸ºç”¨æˆ·æä¾›æµç•…çš„ä½“éªŒã€‚ğŸš€</p>`,16)]))}const y=i(p,[["render",h]]);export{g as __pageData,y as default};
