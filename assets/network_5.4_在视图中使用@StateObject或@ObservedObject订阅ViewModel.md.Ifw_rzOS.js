import{_ as e,c as a,o as i,ag as n}from"./chunks/framework.ymCRTBvy.js";const k=JSON.parse('{"title":"ä½¿ç”¨@StateObjectæˆ–@ObservedObjectè®¢é˜…ViewModel","description":"","frontmatter":{},"headers":[],"relativePath":"network/5.4_åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectæˆ–@ObservedObjectè®¢é˜…ViewModel.md","filePath":"network/5.4_åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectæˆ–@ObservedObjectè®¢é˜…ViewModel.md"}'),t={name:"network/5.4_åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectæˆ–@ObservedObjectè®¢é˜…ViewModel.md"};function l(p,s,d,r,h,c){return i(),a("div",null,s[0]||(s[0]=[n(`<h1 id="ä½¿ç”¨-stateobjectæˆ–-observedobjectè®¢é˜…viewmodel" tabindex="-1">ä½¿ç”¨@StateObjectæˆ–@ObservedObjectè®¢é˜…ViewModel <a class="header-anchor" href="#ä½¿ç”¨-stateobjectæˆ–-observedobjectè®¢é˜…viewmodel" aria-label="Permalink to &quot;ä½¿ç”¨@StateObjectæˆ–@ObservedObjectè®¢é˜…ViewModel&quot;">â€‹</a></h1><p>åœ¨SwiftUIä¸­ï¼ŒçŠ¶æ€ç®¡ç†æ˜¯æ„å»ºåŠ¨æ€ç”¨æˆ·ç•Œé¢çš„å…³é”®ã€‚é€šè¿‡ä½¿ç”¨<code>@StateObject</code>å’Œ<code>@ObservedObject</code>ï¼Œä½ å¯ä»¥è½»æ¾åœ°å°†è§†å›¾ä¸ViewModelè¿æ¥ï¼Œä»è€Œå®ç°æ•°æ®çš„å®æ—¶æ›´æ–°ã€‚</p><h2 id="_1-stateobjectçš„ä½¿ç”¨" tabindex="-1">1. @StateObjectçš„ä½¿ç”¨ <a class="header-anchor" href="#_1-stateobjectçš„ä½¿ç”¨" aria-label="Permalink to &quot;1. @StateObjectçš„ä½¿ç”¨&quot;">â€‹</a></h2><p><code>@StateObject</code>ç”¨äºåœ¨è§†å›¾ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ViewModelå®ä¾‹ã€‚å®ƒç¡®ä¿ViewModelçš„ç”Ÿå‘½å‘¨æœŸä¸è§†å›¾ç›¸åŒã€‚å½“è§†å›¾é¦–æ¬¡åŠ è½½æ—¶ï¼Œ<code>@StateObject</code>ä¼šåˆå§‹åŒ–ViewModelï¼Œå¹¶åœ¨è§†å›¾çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒè¯¥å®ä¾‹ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @StateObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewModel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MyViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(viewModel.data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">onAppear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                viewModel.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fetchData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>MyViewModel</code>æ˜¯ä¸€ä¸ªéµå¾ª<code>ObservableObject</code>åè®®çš„ç±»ã€‚<code>fetchData()</code>æ–¹æ³•ç”¨äºä»ç½‘ç»œè·å–æ•°æ®å¹¶æ›´æ–°<code>data</code>å±æ€§ã€‚</p><h2 id="_2-observedobjectçš„ä½¿ç”¨" tabindex="-1">2. @ObservedObjectçš„ä½¿ç”¨ <a class="header-anchor" href="#_2-observedobjectçš„ä½¿ç”¨" aria-label="Permalink to &quot;2. @ObservedObjectçš„ä½¿ç”¨&quot;">â€‹</a></h2><p><code>@ObservedObject</code>ç”¨äºåœ¨è§†å›¾ä¸­è§‚å¯Ÿä¸€ä¸ªå·²ç»å­˜åœ¨çš„ViewModelå®ä¾‹ã€‚å®ƒé€‚ç”¨äºå½“ViewModelåœ¨å…¶ä»–åœ°æ–¹åˆ›å»ºæ—¶ï¼Œä½ å¸Œæœ›åœ¨è§†å›¾ä¸­ä½¿ç”¨å®ƒã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DetailView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @ObservedObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewModel: MyViewModel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(viewModel.data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>DetailView</code>æ¥æ”¶ä¸€ä¸ª<code>MyViewModel</code>å®ä¾‹ä½œä¸ºå‚æ•°ã€‚æ¯å½“<code>data</code>å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p><h2 id="_3-é€‰æ‹©åˆé€‚çš„å±æ€§åŒ…è£…å™¨" tabindex="-1">3. é€‰æ‹©åˆé€‚çš„å±æ€§åŒ…è£…å™¨ <a class="header-anchor" href="#_3-é€‰æ‹©åˆé€‚çš„å±æ€§åŒ…è£…å™¨" aria-label="Permalink to &quot;3. é€‰æ‹©åˆé€‚çš„å±æ€§åŒ…è£…å™¨&quot;">â€‹</a></h2><ul><li><strong>@StateObject</strong>: å½“ä½ éœ€è¦åœ¨è§†å›¾ä¸­åˆ›å»ºå’Œç®¡ç†ViewModelçš„ç”Ÿå‘½å‘¨æœŸæ—¶ä½¿ç”¨ã€‚</li><li><strong>@ObservedObject</strong>: å½“ViewModelåœ¨å…¶ä»–åœ°æ–¹åˆ›å»ºå¹¶ä¼ é€’ç»™è§†å›¾æ—¶ä½¿ç”¨ã€‚</li></ul><h2 id="_4-å®é™…åº”ç”¨åœºæ™¯" tabindex="-1">4. å®é™…åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#_4-å®é™…åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;4. å®é™…åº”ç”¨åœºæ™¯&quot;">â€‹</a></h2><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½¿ç”¨<code>@StateObject</code>å’Œ<code>@ObservedObject</code>å¯ä»¥å¸®åŠ©ä½ å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li><strong>æ•°æ®ç»‘å®š</strong>: é€šè¿‡å°†ViewModelä¸è§†å›¾ç»‘å®šï¼Œä»»ä½•æ•°æ®çš„å˜åŒ–éƒ½ä¼šè‡ªåŠ¨åæ˜ åœ¨UIä¸Šã€‚</li><li><strong>ç®€åŒ–çŠ¶æ€ç®¡ç†</strong>: ä½ å¯ä»¥å°†å¤æ‚çš„çŠ¶æ€é€»è¾‘å°è£…åœ¨ViewModelä¸­ï¼Œä½¿è§†å›¾ä»£ç æ›´åŠ ç®€æ´ã€‚</li><li><strong>æé«˜å¯é‡ç”¨æ€§</strong>: ViewModelå¯ä»¥åœ¨å¤šä¸ªè§†å›¾ä¹‹é—´å…±äº«ï¼Œå‡å°‘ä»£ç é‡å¤ã€‚</li></ul><h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to &quot;å°ç»“&quot;">â€‹</a></h2><p>é€šè¿‡åˆç†ä½¿ç”¨<code>@StateObject</code>å’Œ<code>@ObservedObject</code>ï¼Œä½ å¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†SwiftUIä¸­çš„çŠ¶æ€ï¼Œæå‡åº”ç”¨çš„å“åº”æ€§å’Œç”¨æˆ·ä½“éªŒã€‚æ— è®ºæ˜¯åˆ›å»ºæ–°çš„ViewModelè¿˜æ˜¯è§‚å¯Ÿç°æœ‰çš„å®ä¾‹ï¼Œè¿™ä¸¤ç§å±æ€§åŒ…è£…å™¨éƒ½èƒ½å¸®åŠ©ä½ æ„å»ºæ›´ä¸ºåŠ¨æ€å’Œäº¤äº’çš„ç•Œé¢ã€‚ç»§ç»­æ¢ç´¢SwiftUIçš„å¼ºå¤§åŠŸèƒ½å§ï¼ğŸš€</p>`,17)]))}const b=e(t,[["render",l]]);export{k as __pageData,b as default};
