import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.Bw-5EFTY.js";const c=JSON.parse('{"title":"16.1_åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”»","description":"","frontmatter":{},"headers":[],"relativePath":"animation/16.1_åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”».md","filePath":"animation/16.1_åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”».md"}'),l={name:"animation/16.1_åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”».md"};function p(t,s,h,k,r,E){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="_16-1-åœ¨-uiviewrepresentable-ä¸­ä½¿ç”¨-uiview-åŠ¨ç”»" tabindex="-1">16.1_åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”» <a class="header-anchor" href="#_16-1-åœ¨-uiviewrepresentable-ä¸­ä½¿ç”¨-uiview-åŠ¨ç”»" aria-label="Permalink to &quot;16.1_åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”»&quot;">â€‹</a></h1><h2 id="åœ¨-uiviewrepresentable-ä¸­ä½¿ç”¨-uiview-åŠ¨ç”»" tabindex="-1">åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”» <a class="header-anchor" href="#åœ¨-uiviewrepresentable-ä¸­ä½¿ç”¨-uiview-åŠ¨ç”»" aria-label="Permalink to &quot;åœ¨ UIViewRepresentable ä¸­ä½¿ç”¨ UIView åŠ¨ç”»&quot;">â€‹</a></h2><p>åœ¨ SwiftUI ä¸­ï¼Œä½¿ç”¨ <code>UIViewRepresentable</code> å¯ä»¥å°† UIKit çš„è§†å›¾å’ŒåŠ¨ç”»é›†æˆåˆ° SwiftUI ä¸­ã€‚è¿™ç§æ–¹æ³•ä½¿å¾—ä½ èƒ½å¤Ÿåˆ©ç”¨ UIKit çš„å¼ºå¤§åŠŸèƒ½ï¼ŒåŒæ—¶äº«å— SwiftUI çš„ç®€æ´æ€§ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ <code>UIViewRepresentable</code> ä¸­å®ç° UIView åŠ¨ç”»çš„æ­¥éª¤ã€‚</p><h2 id="_1-åˆ›å»º-uiviewrepresentable" tabindex="-1">1. åˆ›å»º UIViewRepresentable <a class="header-anchor" href="#_1-åˆ›å»º-uiviewrepresentable" aria-label="Permalink to &quot;1. åˆ›å»º UIViewRepresentable&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªéµå¾ª <code>UIViewRepresentable</code> åè®®çš„ç»“æ„ä½“ã€‚è¿™ä¸ªç»“æ„ä½“å°†è´Ÿè´£åˆ›å»ºå’Œæ›´æ–° UIKit è§†å›¾ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyCustomView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UIViewRepresentable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> makeUIView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Context) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UIView {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UIView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        view.backgroundColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .blue</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateUIView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uiView: UIView, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Context) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_2-å®ç°åŠ¨ç”»" tabindex="-1">2. å®ç°åŠ¨ç”» <a class="header-anchor" href="#_2-å®ç°åŠ¨ç”»" aria-label="Permalink to &quot;2. å®ç°åŠ¨ç”»&quot;">â€‹</a></h2><p>åœ¨ <code>updateUIView</code> æ–¹æ³•ä¸­ï¼Œä½ å¯ä»¥æ·»åŠ åŠ¨ç”»æ•ˆæœã€‚ä½¿ç”¨ UIKit çš„åŠ¨ç”» APIï¼Œä¾‹å¦‚ <code>UIView.animate</code>ï¼Œå¯ä»¥è½»æ¾å®ç°åŠ¨ç”»ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateUIView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uiView: UIView, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Context) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    UIView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">animate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">withDuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        uiView.alpha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3-ä¼ é€’æ•°æ®å’ŒçŠ¶æ€" tabindex="-1">3. ä¼ é€’æ•°æ®å’ŒçŠ¶æ€ <a class="header-anchor" href="#_3-ä¼ é€’æ•°æ®å’ŒçŠ¶æ€" aria-label="Permalink to &quot;3. ä¼ é€’æ•°æ®å’ŒçŠ¶æ€&quot;">â€‹</a></h2><p>ä¸ºäº†ä½¿åŠ¨ç”»æ›´å…·åŠ¨æ€æ€§ï¼Œä½ å¯ä»¥é€šè¿‡ <code>@Binding</code> æˆ–å…¶ä»–çŠ¶æ€ç®¡ç†æ–¹æ³•å°†æ•°æ®ä¼ é€’ç»™ <code>UIViewRepresentable</code>ã€‚è¿™æ ·å¯ä»¥æ ¹æ® SwiftUI çš„çŠ¶æ€å˜åŒ–æ¥è§¦å‘åŠ¨ç”»ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyCustomView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UIViewRepresentable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @Binding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isAnimating: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateUIView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uiView: UIView, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Context) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        UIView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">animate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">withDuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            uiView.alpha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isAnimating </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_4-ä½¿ç”¨è§†å›¾" tabindex="-1">4. ä½¿ç”¨è§†å›¾ <a class="header-anchor" href="#_4-ä½¿ç”¨è§†å›¾" aria-label="Permalink to &quot;4. ä½¿ç”¨è§†å›¾&quot;">â€‹</a></h2><p>æœ€åï¼Œåœ¨ SwiftUI ä¸­ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰è§†å›¾ã€‚ä½ å¯ä»¥é€šè¿‡çŠ¶æ€å˜é‡æ¥æ§åˆ¶åŠ¨ç”»çš„å¼€å§‹å’Œç»“æŸã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isAnimating </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        VStack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            MyCustomView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isAnimating</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: $isAnimating)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Toggle Animation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                isAnimating.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">toggle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="å°è´´å£«" tabindex="-1">å°è´´å£« <a class="header-anchor" href="#å°è´´å£«" aria-label="Permalink to &quot;å°è´´å£«&quot;">â€‹</a></h2><ul><li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šç¡®ä¿åŠ¨ç”»æµç•…ï¼Œé¿å…åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œé‡è®¡ç®—ã€‚</li><li><strong>è°ƒè¯•</strong>ï¼šä½¿ç”¨ Xcode çš„è°ƒè¯•å·¥å…·æ¥ç›‘æ§åŠ¨ç”»æ€§èƒ½ï¼Œç¡®ä¿æ²¡æœ‰å¡é¡¿ç°è±¡ã€‚</li><li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šåŠ¨ç”»åº”å¢å¼ºç”¨æˆ·ä½“éªŒï¼Œè€Œä¸æ˜¯åˆ†æ•£æ³¨æ„åŠ›ã€‚ä¿æŒç®€æ´å’Œè‡ªç„¶ã€‚</li></ul><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥åœ¨ SwiftUI ä¸­è½»æ¾é›†æˆ UIKit åŠ¨ç”»ï¼Œåˆ›é€ å‡ºä¸°å¯Œçš„ç”¨æˆ·ç•Œé¢ä½“éªŒã€‚ğŸ‰âœ¨</p>`,18)]))}const g=i(l,[["render",p]]);export{c as __pageData,g as default};
