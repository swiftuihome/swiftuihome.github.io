import{_ as i,c as a,o as e,ag as n}from"./chunks/framework.Bw-5EFTY.js";const b=JSON.parse('{"title":"ä½¿ç”¨ @ObservedObject è®¢é˜…å¤–éƒ¨å¯¹è±¡","description":"","frontmatter":{},"headers":[],"relativePath":"core/4.2_ä½¿ç”¨ @ObservedObject è®¢é˜…å¤–éƒ¨å¯¹è±¡.md","filePath":"core/4.2_ä½¿ç”¨ @ObservedObject è®¢é˜…å¤–éƒ¨å¯¹è±¡.md"}'),t={name:"core/4.2_ä½¿ç”¨ @ObservedObject è®¢é˜…å¤–éƒ¨å¯¹è±¡.md"};function l(p,s,h,r,k,d){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="ä½¿ç”¨-observedobject-è®¢é˜…å¤–éƒ¨å¯¹è±¡" tabindex="-1">ä½¿ç”¨ @ObservedObject è®¢é˜…å¤–éƒ¨å¯¹è±¡ <a class="header-anchor" href="#ä½¿ç”¨-observedobject-è®¢é˜…å¤–éƒ¨å¯¹è±¡" aria-label="Permalink to &quot;ä½¿ç”¨ @ObservedObject è®¢é˜…å¤–éƒ¨å¯¹è±¡&quot;">â€‹</a></h1><h2 id="æŒæ¡-observedobject-çš„å¥¥ç§˜" tabindex="-1">æŒæ¡ @ObservedObject çš„å¥¥ç§˜ <a class="header-anchor" href="#æŒæ¡-observedobject-çš„å¥¥ç§˜" aria-label="Permalink to &quot;æŒæ¡ @ObservedObject çš„å¥¥ç§˜&quot;">â€‹</a></h2><p>ä½¿ç”¨ <code>@ObservedObject</code> æ˜¯ SwiftUI ä¸­ç®¡ç†å¤–éƒ¨å¼•ç”¨ç±»å‹æ•°æ®æµçš„å…³é”®ã€‚å®ƒå…è®¸è§†å›¾å“åº”å¤–éƒ¨å¯¹è±¡çš„å˜åŒ–ï¼Œä»è€Œå®ç°åŠ¨æ€çš„ç”¨æˆ·ç•Œé¢ã€‚å½“ä½ æœ‰ä¸€ä¸ªåœ¨è§†å›¾å¤–éƒ¨å®šä¹‰çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¸Œæœ›è§†å›¾èƒ½å¤Ÿè§‚å¯Ÿåˆ°è¿™ä¸ªå¯¹è±¡å±æ€§çš„å˜åŒ–æ—¶ï¼Œ<code>@ObservedObject</code> å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ ğŸš€</p><p>è¿™ä¸ªå±æ€§åŒ…è£…å™¨ç‰¹åˆ«é€‚åˆé‚£äº›ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºè§†å›¾çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç½‘ç»œè¯·æ±‚ç®¡ç†å™¨æˆ–è€…ä¸€ä¸ªå¤æ‚çš„ä¸šåŠ¡é€»è¾‘æ¨¡å‹ã€‚</p><h2 id="æ„å»ºå¯è§‚å¯Ÿå¯¹è±¡" tabindex="-1">æ„å»ºå¯è§‚å¯Ÿå¯¹è±¡ <a class="header-anchor" href="#æ„å»ºå¯è§‚å¯Ÿå¯¹è±¡" aria-label="Permalink to &quot;æ„å»ºå¯è§‚å¯Ÿå¯¹è±¡&quot;">â€‹</a></h2><p>è¦è®©ä¸€ä¸ªå¯¹è±¡èƒ½å¤Ÿè¢« <code>@ObservedObject</code> è§‚å¯Ÿï¼Œå®ƒå¿…é¡»éµå¾ª <code>ObservableObject</code> åè®®ã€‚æ­¤å¤–ï¼Œä½ è¿˜éœ€è¦ä½¿ç”¨ <code>@Published</code> å±æ€§åŒ…è£…å™¨æ¥æ ‡è®°é‚£äº›ä½ å¸Œæœ›è§†å›¾èƒ½å¤Ÿå“åº”å…¶å˜åŒ–å±æ€§ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ObservableObject </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> username: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Guest&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>UserSettings</code> æ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿå¯¹è±¡ã€‚å½“ <code>username</code> æˆ– <code>score</code> å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä»»ä½•è®¢é˜…äº† <code>UserSettings</code> å®ä¾‹çš„è§†å›¾éƒ½ä¼šè‡ªåŠ¨æ›´æ–°ã€‚è¿™çœŸæ˜¯å¤ªæ£’äº†ï¼âœ¨</p><h2 id="åœ¨è§†å›¾ä¸­ä½¿ç”¨-observedobject" tabindex="-1">åœ¨è§†å›¾ä¸­ä½¿ç”¨ @ObservedObject <a class="header-anchor" href="#åœ¨è§†å›¾ä¸­ä½¿ç”¨-observedobject" aria-label="Permalink to &quot;åœ¨è§†å›¾ä¸­ä½¿ç”¨ @ObservedObject&quot;">â€‹</a></h2><p>åœ¨ä½ çš„ SwiftUI è§†å›¾ä¸­ï¼Œä½ å¯ä»¥åƒè¿™æ ·å£°æ˜ä¸€ä¸ª <code>@ObservedObject</code> å±æ€§ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserProfileView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @ObservedObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> settings: UserSettings</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        VStack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·å: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(settings.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">username</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆ†æ•°: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(settings.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">score</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¢åŠ åˆ†æ•°&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                settings.score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å½“ä½ åˆ›å»º <code>UserProfileView</code> çš„å®ä¾‹æ—¶ï¼Œä½ éœ€è¦ä¼ å…¥ä¸€ä¸ª <code>UserSettings</code> çš„å®ä¾‹ã€‚</p><ul><li><strong>é‡è¦æç¤º</strong>: ç¡®ä¿ä½ ä¼ å…¥çš„æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå¦åˆ™è§†å›¾å°†æ— æ³•æ­£ç¡®è§‚å¯Ÿåˆ°å˜åŒ–ã€‚</li></ul><h2 id="observedobject-çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†" tabindex="-1">@ObservedObject çš„ç”Ÿå‘½å‘¨æœŸç®¡ç† <a class="header-anchor" href="#observedobject-çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†" aria-label="Permalink to &quot;@ObservedObject çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†&quot;">â€‹</a></h2><p><code>@ObservedObject</code> ä¸ä¼šæ‹¥æœ‰å®ƒæ‰€åŒ…è£…çš„å¯¹è±¡ã€‚è¿™æ„å‘³ç€å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç”±å¤–éƒ¨ç®¡ç†çš„ã€‚</p><ul><li>å¦‚æœå¤–éƒ¨å¯¹è±¡è¢«é”€æ¯ï¼Œ<code>@ObservedObject</code> ä¹Ÿä¼šåœæ­¢è§‚å¯Ÿã€‚</li><li>è¿™ä¸ <code>@StateObject</code> ä¸åŒï¼Œ<code>@StateObject</code> ä¼šæ‹¥æœ‰å¹¶ç®¡ç†å…¶åŒ…è£…å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚</li></ul><p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨çˆ¶è§†å›¾ä¸­åˆ›å»º <code>UserSettings</code> å®ä¾‹ï¼Œç„¶åå°†å…¶ä¼ é€’ç»™å­è§†å›¾ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @StateObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appSettings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UserSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ @StateObject æ‹¥æœ‰å®ƒ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        UserProfileView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: appSettings)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œ<code>appSettings</code> çš„ç”Ÿå‘½å‘¨æœŸç”± <code>ContentView</code> ç®¡ç†ï¼Œè€Œ <code>UserProfileView</code> åˆ™é€šè¿‡ <code>@ObservedObject</code> è®¢é˜…å®ƒçš„å˜åŒ–ã€‚è¿™ç§æ¨¡å¼åœ¨å¤§å‹åº”ç”¨ä¸­éå¸¸å¸¸è§ï¼Œå› ä¸ºå®ƒæä¾›äº†æ¸…æ™°çš„æ•°æ®æµå’Œæ‰€æœ‰æƒç®¡ç†ã€‚ä½ å·²ç»æŒæ¡äº†æ•°æ®å…±äº«çš„å…³é”®ä¸€æ­¥ï¼ğŸ‰</p>`,19)]))}const o=i(t,[["render",l]]);export{b as __pageData,o as default};
