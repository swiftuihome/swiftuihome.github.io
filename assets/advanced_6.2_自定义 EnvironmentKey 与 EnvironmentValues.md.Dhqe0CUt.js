import{_ as i,c as n,o as a,ag as e}from"./chunks/framework.ymCRTBvy.js";const E=JSON.parse('{"title":"è‡ªå®šä¹‰ EnvironmentKey ä¸ EnvironmentValues","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/6.2_è‡ªå®šä¹‰ EnvironmentKey ä¸ EnvironmentValues.md","filePath":"advanced/6.2_è‡ªå®šä¹‰ EnvironmentKey ä¸ EnvironmentValues.md"}'),t={name:"advanced/6.2_è‡ªå®šä¹‰ EnvironmentKey ä¸ EnvironmentValues.md"};function l(p,s,h,r,k,d){return a(),n("div",null,s[0]||(s[0]=[e(`<h1 id="è‡ªå®šä¹‰-environmentkey-ä¸-environmentvalues" tabindex="-1">è‡ªå®šä¹‰ EnvironmentKey ä¸ EnvironmentValues <a class="header-anchor" href="#è‡ªå®šä¹‰-environmentkey-ä¸-environmentvalues" aria-label="Permalink to &quot;è‡ªå®šä¹‰ EnvironmentKey ä¸ EnvironmentValues&quot;">â€‹</a></h1><blockquote><p>åœ¨ SwiftUI ä¸­ï¼Œç¯å¢ƒï¼ˆEnvironmentï¼‰æä¾›äº†ä¸€ç§å¼ºå¤§çš„æ–¹å¼æ¥åœ¨è§†å›¾å±‚çº§ç»“æ„ä¸­å…±äº«æ•°æ®ã€‚ä½ å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ <code>EnvironmentKey</code> å’Œ <code>EnvironmentValues</code> æ¥æ‰©å±• SwiftUI çš„ç¯å¢ƒç³»ç»Ÿï¼Œä»è€Œæ³¨å…¥ä½ è‡ªå·±çš„æ•°æ®ç±»å‹å’Œå€¼ã€‚è¿™ä½¿å¾—åœ¨æ•´ä¸ªåº”ç”¨ä¸­ä¼ é€’å’Œè®¿é—®è‡ªå®šä¹‰é…ç½®æˆ–æœåŠ¡å˜å¾—éå¸¸æ–¹ä¾¿ã€‚ğŸ‰</p></blockquote><h2 id="è‡ªå®šä¹‰-environmentkey" tabindex="-1">è‡ªå®šä¹‰ EnvironmentKey <a class="header-anchor" href="#è‡ªå®šä¹‰-environmentkey" aria-label="Permalink to &quot;è‡ªå®šä¹‰ EnvironmentKey&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªéµå¾ª <code>EnvironmentKey</code> åè®®çš„ç»“æ„ä½“ã€‚è¿™ä¸ªç»“æ„ä½“å®šä¹‰äº†ä½ çš„è‡ªå®šä¹‰ç¯å¢ƒå€¼çš„é”®ã€‚<code>defaultValue</code> å±æ€§æ˜¯å¿…éœ€çš„ï¼Œå®ƒæŒ‡å®šäº†å½“ç¯å¢ƒä¸­æ²¡æœ‰æä¾›ç‰¹å®šå€¼æ—¶ä½¿ç”¨çš„é»˜è®¤å€¼ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyCustomValueKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EnvironmentKey </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultValue: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;é»˜è®¤å€¼&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>MyCustomValueKey</code> çš„ç»“æ„ä½“ï¼Œå®ƒå°†å­˜å‚¨ä¸€ä¸ª <code>String</code> ç±»å‹çš„å€¼ã€‚å¦‚æœè§†å›¾æ²¡æœ‰æ˜¾å¼åœ°è®¾ç½®è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆé»˜è®¤å€¼ <code>&quot;é»˜è®¤å€¼&quot;</code> å°†ä¼šè¢«ä½¿ç”¨ã€‚</p><h2 id="æ‰©å±•-environmentvalues" tabindex="-1">æ‰©å±• EnvironmentValues <a class="header-anchor" href="#æ‰©å±•-environmentvalues" aria-label="Permalink to &quot;æ‰©å±• EnvironmentValues&quot;">â€‹</a></h2><p>æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦æ‰©å±• <code>EnvironmentValues</code> ç»“æ„ä½“ï¼Œæ·»åŠ ä¸€ä¸ªè®¡ç®—å±æ€§æ¥è®¿é—®ä½ çš„è‡ªå®šä¹‰ç¯å¢ƒå€¼ã€‚è¿™ä¸ªè®¡ç®—å±æ€§ä½¿ç”¨ä½ å®šä¹‰çš„ <code>EnvironmentKey</code> æ¥è¯»å–å’Œè®¾ç½®ç¯å¢ƒä¸­çš„å€¼ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EnvironmentValues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> myCustomValue: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[MyCustomValueKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[MyCustomValueKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newValue }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•è§†å›¾ä¸­ä½¿ç”¨ <code>@Environment</code> å±æ€§åŒ…è£…å™¨æ¥è®¿é—®å’Œä½¿ç”¨ <code>myCustomValue</code>ã€‚ä¾‹å¦‚ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(\\.myCustomValue) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> myValue: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è‡ªå®šä¹‰å€¼: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(myValue)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="ä½¿ç”¨è‡ªå®šä¹‰-environmentvalue" tabindex="-1">ä½¿ç”¨è‡ªå®šä¹‰ EnvironmentValue <a class="header-anchor" href="#ä½¿ç”¨è‡ªå®šä¹‰-environmentvalue" aria-label="Permalink to &quot;ä½¿ç”¨è‡ªå®šä¹‰ EnvironmentValue&quot;">â€‹</a></h2><p>è¦è®¾ç½®è‡ªå®šä¹‰ç¯å¢ƒå€¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>.environment(_:_:)</code> ä¿®é¥°ç¬¦ã€‚è¿™å…è®¸ä½ åœ¨è§†å›¾å±‚çº§ç»“æ„çš„ç‰¹å®šéƒ¨åˆ†è¦†ç›–é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MyView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(\\.myCustomValue, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ–°çš„è‡ªå®šä¹‰å€¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>MyView</code> åŠå…¶æ‰€æœ‰å­è§†å›¾å°†ä¼šä½¿ç”¨ <code>&quot;æ–°çš„è‡ªå®šä¹‰å€¼&quot;</code>ï¼Œè€Œä¸æ˜¯é»˜è®¤å€¼ <code>&quot;é»˜è®¤å€¼&quot;</code>ã€‚è¿™æä¾›äº†ä¸€ç§çµæ´»çš„æ–¹å¼æ¥é…ç½®ä½ çš„è§†å›¾ï¼Œè€Œæ— éœ€æ˜¾å¼åœ°ä¼ é€’æ•°æ®ã€‚</p><p>é€šè¿‡è‡ªå®šä¹‰ <code>EnvironmentKey</code> å’Œ <code>EnvironmentValues</code>ï¼Œä½ å¯ä»¥åˆ›å»ºå¼ºå¤§çš„ã€ç±»å‹å®‰å…¨çš„æ–¹å¼æ¥ç®¡ç†å’Œå…±äº«åº”ç”¨ä¸­çš„é…ç½®å’ŒæœåŠ¡ã€‚è¿™ä¸ä»…æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿˜ä½¿å¾—åœ¨ä¸åŒçš„ç¯å¢ƒï¼ˆä¾‹å¦‚ï¼Œæµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒï¼‰ä¸­è¿è¡Œåº”ç”¨å˜å¾—æ›´åŠ å®¹æ˜“ã€‚ğŸš€</p><p>æ€»è€Œè¨€ä¹‹ï¼Œè‡ªå®šä¹‰ç¯å¢ƒå€¼æ˜¯ SwiftUI ä¸­ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ æ„å»ºæ›´åŠ çµæ´»å’Œå¯é…ç½®çš„åº”ç”¨ã€‚è®°ä½ï¼Œåˆç†åœ°ä½¿ç”¨ç¯å¢ƒå¯ä»¥å¤§å¤§ç®€åŒ–ä½ çš„ä»£ç ï¼Œå¹¶æé«˜åº”ç”¨çš„å¯ç»´æŠ¤æ€§ã€‚ğŸ‘</p>`,17)]))}const c=i(t,[["render",l]]);export{E as __pageData,c as default};
