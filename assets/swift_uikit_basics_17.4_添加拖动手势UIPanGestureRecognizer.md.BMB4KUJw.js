import{_ as i,c as a,o as e,ag as n}from"./chunks/framework.ymCRTBvy.js";const E=JSON.parse('{"title":"17.4_æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿UIPanGestureRecognizer","description":"","frontmatter":{},"headers":[],"relativePath":"swift/uikit/basics/17.4_æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿UIPanGestureRecognizer.md","filePath":"swift/uikit/basics/17.4_æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿UIPanGestureRecognizer.md"}'),t={name:"swift/uikit/basics/17.4_æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿UIPanGestureRecognizer.md"};function l(h,s,p,r,k,d){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="_17-4-æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿uipangesturerecognizer" tabindex="-1">17.4_æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿UIPanGestureRecognizer <a class="header-anchor" href="#_17-4-æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿uipangesturerecognizer" aria-label="Permalink to &quot;17.4_æ·»åŠ æ‹–åŠ¨æ‰‹åŠ¿UIPanGestureRecognizer&quot;">â€‹</a></h1><h2 id="æ¢ç´¢uipangesturerecognizer-è®©è§†å›¾éšä½ è€ŒåŠ¨-ğŸ–ï¸" tabindex="-1">æ¢ç´¢UIPanGestureRecognizerï¼šè®©è§†å›¾éšä½ è€ŒåŠ¨ ğŸ–ï¸ <a class="header-anchor" href="#æ¢ç´¢uipangesturerecognizer-è®©è§†å›¾éšä½ è€ŒåŠ¨-ğŸ–ï¸" aria-label="Permalink to &quot;æ¢ç´¢UIPanGestureRecognizerï¼šè®©è§†å›¾éšä½ è€ŒåŠ¨ ğŸ–ï¸&quot;">â€‹</a></h2><p>æƒ³è¦è®©ä½ çš„ iOS åº”ç”¨æ›´å…·äº’åŠ¨æ€§å—ï¼Ÿ <strong>UIPanGestureRecognizer</strong> ç»å¯¹æ˜¯ä½ çš„å¥½å¸®æ‰‹ï¼å®ƒèƒ½è®©ä½ è½»æ¾å®ç°è§†å›¾çš„æ‹–åŠ¨åŠŸèƒ½ï¼Œè®©ç”¨æˆ·ä½“éªŒæ›´ä¸Šä¸€å±‚æ¥¼ã€‚å‡†å¤‡å¥½ä¸€èµ·æ¢ç´¢äº†å—ï¼ŸğŸš€</p><h2 id="åˆ›å»ºå¹¶æ·»åŠ uipangesturerecognizer" tabindex="-1">åˆ›å»ºå¹¶æ·»åŠ UIPanGestureRecognizer <a class="header-anchor" href="#åˆ›å»ºå¹¶æ·»åŠ uipangesturerecognizer" aria-label="Permalink to &quot;åˆ›å»ºå¹¶æ·»åŠ UIPanGestureRecognizer&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ª <code>UIPanGestureRecognizer</code> å®ä¾‹ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä½ æƒ³è¦æ‹–åŠ¨çš„è§†å›¾ä¸Šã€‚è¿™å°±åƒç»™è§†å›¾å®‰è£…äº†ä¸€ä¸ªâ€œæ‹–åŠ¨æ„Ÿåº”å™¨â€ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> panGesture </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UIPanGestureRecognizer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handlePan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_:)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addGestureRecognizer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(panGesture)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™æ®µä»£ç åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ‹–åŠ¨æ‰‹åŠ¿è¯†åˆ«å™¨ï¼Œå¹¶å°†å…¶ä¸ <code>handlePan(_:)</code> æ–¹æ³•å…³è”èµ·æ¥ã€‚æ¯å½“ç”¨æˆ·åœ¨è§†å›¾ä¸Šæ‹–åŠ¨æ—¶ï¼Œ<code>handlePan(_:)</code> æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚</p><h2 id="å®ç°æ‹–åŠ¨æ‰‹åŠ¿å¤„ç†æ–¹æ³•" tabindex="-1">å®ç°æ‹–åŠ¨æ‰‹åŠ¿å¤„ç†æ–¹æ³• <a class="header-anchor" href="#å®ç°æ‹–åŠ¨æ‰‹åŠ¿å¤„ç†æ–¹æ³•" aria-label="Permalink to &quot;å®ç°æ‹–åŠ¨æ‰‹åŠ¿å¤„ç†æ–¹æ³•&quot;">â€‹</a></h2><p>æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦å®ç° <code>handlePan(_:)</code> æ–¹æ³•ï¼Œæ¥å¤„ç†æ‹–åŠ¨æ‰‹åŠ¿ã€‚è¿™ä¸ªæ–¹æ³•ä¼šæ¥æ”¶ä¸€ä¸ª <code>UIPanGestureRecognizer</code> å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒæ¥è·å–æ‹–åŠ¨çš„ç›¸å…³ä¿¡æ¯ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@objc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handlePan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gesture: UIPanGestureRecognizer) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> translation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gesture.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: view)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å°†æ‹–åŠ¨åº”ç”¨äºè§†å›¾çš„ä¸­å¿ƒç‚¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gesture.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">view</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.center </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> CGPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: gesture.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">view</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.center.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> translation.x, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: gesture.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">view</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.center.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> translation.y)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é‡ç½®æ‰‹åŠ¿çš„translationï¼Œä»¥ä¾¿ä¸‹æ¬¡å¢é‡è®¡ç®—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gesture.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setTranslation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(CGPoint.zero, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: view)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>è¿™æ®µä»£ç çš„æ ¸å¿ƒåœ¨äº <code>gesture.translation(in: view)</code>ã€‚å®ƒä¼šå‘Šè¯‰ä½ ï¼Œä»æ‰‹åŠ¿å¼€å§‹åˆ°ç°åœ¨ï¼Œç”¨æˆ·åœ¨è§†å›¾ä¸Šçš„æ‹–åŠ¨è·ç¦»ã€‚ç„¶åï¼Œä½ å¯ä»¥å°†è¿™ä¸ªè·ç¦»åº”ç”¨åˆ°è§†å›¾çš„ä¸­å¿ƒç‚¹ï¼Œä»è€Œå®ç°æ‹–åŠ¨æ•ˆæœã€‚åˆ«å¿˜äº†ä½¿ç”¨ <code>gesture.setTranslation(CGPoint.zero, in: view)</code> é‡ç½®æ‰‹åŠ¿çš„ translationï¼Œç¡®ä¿æ¯æ¬¡æ‹–åŠ¨éƒ½æ˜¯å¢é‡è®¡ç®—ã€‚</p><h2 id="ä¼˜åŒ–æ‹–åŠ¨ä½“éªŒ" tabindex="-1">ä¼˜åŒ–æ‹–åŠ¨ä½“éªŒ <a class="header-anchor" href="#ä¼˜åŒ–æ‹–åŠ¨ä½“éªŒ" aria-label="Permalink to &quot;ä¼˜åŒ–æ‹–åŠ¨ä½“éªŒ&quot;">â€‹</a></h2><p>ä¸ºäº†è®©æ‹–åŠ¨ä½“éªŒæ›´æµç•…ï¼Œä½ å¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li><strong>é™åˆ¶æ‹–åŠ¨èŒƒå›´</strong>ï¼šé¿å…è§†å›¾è¢«æ‹–å‡ºå±å¹•å¤–ã€‚ä½ å¯ä»¥é€šè¿‡åˆ¤æ–­è§†å›¾çš„ä¸­å¿ƒç‚¹æ˜¯å¦è¶…å‡ºå±å¹•è¾¹ç•Œæ¥é™åˆ¶æ‹–åŠ¨èŒƒå›´ã€‚</li><li><strong>æ·»åŠ åŠ¨ç”»æ•ˆæœ</strong>ï¼šåœ¨æ‹–åŠ¨ç»“æŸåï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªåŠ¨ç”»æ•ˆæœï¼Œè®©è§†å›¾å¹³æ»‘åœ°å›åˆ°æœ€ç»ˆä½ç½®ã€‚</li><li><strong>å¤„ç†æ‰‹åŠ¿çŠ¶æ€</strong>ï¼š<code>UIPanGestureRecognizer</code> æœ‰ä¸åŒçš„çŠ¶æ€ï¼Œä¾‹å¦‚ <code>.began</code>ã€<code>.changed</code> å’Œ <code>.ended</code>ã€‚ä½ å¯ä»¥åœ¨ä¸åŒçš„çŠ¶æ€ä¸‹æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>.began</code> çŠ¶æ€ä¸‹ï¼Œä½ å¯ä»¥æ”¹å˜è§†å›¾çš„é€æ˜åº¦ï¼Œè®©ç”¨æˆ·çŸ¥é“è§†å›¾æ­£åœ¨è¢«æ‹–åŠ¨ã€‚</li></ol><h2 id="ç¤ºä¾‹-æ‹–åŠ¨ä¸€ä¸ªimageview-ğŸ–¼ï¸" tabindex="-1">ç¤ºä¾‹ï¼šæ‹–åŠ¨ä¸€ä¸ªImageView ğŸ–¼ï¸ <a class="header-anchor" href="#ç¤ºä¾‹-æ‹–åŠ¨ä¸€ä¸ªimageview-ğŸ–¼ï¸" aria-label="Permalink to &quot;ç¤ºä¾‹ï¼šæ‹–åŠ¨ä¸€ä¸ªImageView ğŸ–¼ï¸&quot;">â€‹</a></h2><p>å‡è®¾ä½ æœ‰ä¸€ä¸ª <code>UIImageView</code>ï¼Œæƒ³è¦è®©ç”¨æˆ·å¯ä»¥æ‹–åŠ¨å®ƒã€‚ä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ª <code>UIImageView</code> å®ä¾‹ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°è§†å›¾ä¸Šã€‚</li><li>åˆ›å»ºä¸€ä¸ª <code>UIPanGestureRecognizer</code> å®ä¾‹ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° <code>UIImageView</code> ä¸Šã€‚</li><li>å®ç° <code>handlePan(_:)</code> æ–¹æ³•ï¼Œå°†æ‹–åŠ¨åº”ç”¨äº <code>UIImageView</code> çš„ä¸­å¿ƒç‚¹ã€‚</li></ol><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> imageView </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UIImageView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UIImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">named</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your_image&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">imageView.isUserInteractionEnabled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // å…è®¸ç”¨æˆ·äº¤äº’</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> panGesture </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UIPanGestureRecognizer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handlePan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_:)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">imageView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addGestureRecognizer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(panGesture)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addSubview</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(imageView)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è®°ä½ï¼Œä¸€å®šè¦è®¾ç½® <code>imageView.isUserInteractionEnabled = true</code>ï¼Œå¦åˆ™æ‰‹åŠ¿è¯†åˆ«å™¨æ— æ³•å·¥ä½œï¼</p><h2 id="æ€»ç»“-ğŸ‰" tabindex="-1">æ€»ç»“ ğŸ‰ <a class="header-anchor" href="#æ€»ç»“-ğŸ‰" aria-label="Permalink to &quot;æ€»ç»“ ğŸ‰&quot;">â€‹</a></h2><p>é€šè¿‡ <code>UIPanGestureRecognizer</code>ï¼Œä½ å¯ä»¥è½»æ¾åœ°ä¸ºä½ çš„ iOS åº”ç”¨æ·»åŠ æ‹–åŠ¨åŠŸèƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚è®°ä½ï¼Œå…³é”®åœ¨äºåˆ›å»ºæ‰‹åŠ¿è¯†åˆ«å™¨ã€å®ç°å¤„ç†æ–¹æ³•ï¼Œå¹¶æ ¹æ®éœ€è¦ä¼˜åŒ–æ‹–åŠ¨ä½“éªŒã€‚ç°åœ¨å°±å¼€å§‹åŠ¨æ‰‹ï¼Œè®©ä½ çš„åº”ç”¨æ›´å…·äº’åŠ¨æ€§å§ï¼ğŸ’ª</p>`,21)]))}const o=i(t,[["render",l]]);export{E as __pageData,o as default};
