import{_ as i,c as a,o as e,ag as n}from"./chunks/framework.ymCRTBvy.js";const E=JSON.parse('{"title":"ä½¿ç”¨CAShapeLayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚","description":"","frontmatter":{},"headers":[],"relativePath":"swift/uikit/advanced/11.2_ä½¿ç”¨CAShapeLayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚.md","filePath":"swift/uikit/advanced/11.2_ä½¿ç”¨CAShapeLayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚.md"}'),h={name:"swift/uikit/advanced/11.2_ä½¿ç”¨CAShapeLayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚.md"};function l(t,s,p,k,r,d){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="ä½¿ç”¨cashapelayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚" tabindex="-1">ä½¿ç”¨CAShapeLayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚ <a class="header-anchor" href="#ä½¿ç”¨cashapelayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚" aria-label="Permalink to &quot;ä½¿ç”¨CAShapeLayeråˆ›å»ºå¤æ‚å½¢çŠ¶å›¾å±‚&quot;">â€‹</a></h1><h2 id="cashapelayerç®€ä»‹ä¸ä¼˜åŠ¿" tabindex="-1">CAShapeLayerç®€ä»‹ä¸ä¼˜åŠ¿ <a class="header-anchor" href="#cashapelayerç®€ä»‹ä¸ä¼˜åŠ¿" aria-label="Permalink to &quot;CAShapeLayerç®€ä»‹ä¸ä¼˜åŠ¿&quot;">â€‹</a></h2><p><code>CAShapeLayer</code> æ˜¯ <code>CALayer</code> çš„ä¸€ä¸ªå­ç±»ï¼Œå®ƒèƒ½å¤Ÿè®©ä½ ä½¿ç”¨ <code>Core Graphics</code> è·¯å¾„æ¥ç»˜åˆ¶å„ç§å¤æ‚çš„å½¢çŠ¶ã€‚ä¸ç›´æ¥åœ¨ <code>draw(rect:)</code> æ–¹æ³•ä¸­ç»˜åˆ¶ç›¸æ¯”ï¼Œ<code>CAShapeLayer</code> æä¾›äº†æ˜¾è‘—çš„æ€§èƒ½ä¼˜åŠ¿ã€‚å®ƒåœ¨ç¡¬ä»¶å±‚é¢è¿›è¡Œæ¸²æŸ“ï¼Œæ•ˆç‡æé«˜ï¼Œå°¤å…¶é€‚åˆåŠ¨ç”»å’Œäº¤äº’ã€‚ğŸš€</p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³è¦ç»˜åˆ¶ä¸€ä¸ªå¿ƒå½¢ã€ä¸€ä¸ªæ˜Ÿå½¢æˆ–è€…ä»»ä½•è‡ªå®šä¹‰çš„æ›²çº¿ã€‚ä½¿ç”¨ <code>CAShapeLayer</code>ï¼Œä½ åªéœ€è¦å®šä¹‰ä¸€ä¸ª <code>UIBezierPath</code>ï¼Œç„¶åå°†å…¶èµ‹å€¼ç»™ <code>CAShapeLayer</code> çš„ <code>path</code> å±æ€§å³å¯ã€‚è¿™æ¯”æ‰‹åŠ¨ç®¡ç† <code>CGContext</code> çŠ¶æ€è¦ç®€å•å¾—å¤šã€‚</p><h2 id="åˆ›å»ºä¸é…ç½®cashapelayer" tabindex="-1">åˆ›å»ºä¸é…ç½®CAShapeLayer <a class="header-anchor" href="#åˆ›å»ºä¸é…ç½®cashapelayer" aria-label="Permalink to &quot;åˆ›å»ºä¸é…ç½®CAShapeLayer&quot;">â€‹</a></h2><p>åˆ›å»º <code>CAShapeLayer</code> éå¸¸ç›´æ¥ã€‚ä½ é¦–å…ˆéœ€è¦å®ä¾‹åŒ–å®ƒï¼Œç„¶åè®¾ç½®å®ƒçš„è·¯å¾„ã€å¡«å……é¢œè‰²å’Œæè¾¹é¢œè‰²ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shapeLayer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> CAShapeLayer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">shapeLayer.frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.bounds</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.layer.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addSublayer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(shapeLayer)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦å®šä¹‰ä¸€ä¸ª <code>UIBezierPath</code>ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„åœ†å½¢è·¯å¾„ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> circlePath </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UIBezierPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">arcCenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CGPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: view.bounds.midX, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: view.bounds.midY),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                              radius</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                              startAngle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                              endAngle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: CGFloat.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pi</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                              clockwise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">shapeLayer.path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> circlePath.cgPath</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä½ å¯ä»¥è®¾ç½® <code>fillColor</code> æ¥å¡«å……å½¢çŠ¶å†…éƒ¨ï¼Œä»¥åŠ <code>strokeColor</code> å’Œ <code>lineWidth</code> æ¥å®šä¹‰è¾¹æ¡†ã€‚</p><ul><li><code>shapeLayer.fillColor = UIColor.red.cgColor</code></li><li><code>shapeLayer.strokeColor = UIColor.blue.cgColor</code></li><li><code>shapeLayer.lineWidth = 3</code></li></ul><h2 id="ç»˜åˆ¶å¤æ‚è·¯å¾„ä¸åŠ¨ç”»" tabindex="-1">ç»˜åˆ¶å¤æ‚è·¯å¾„ä¸åŠ¨ç”» <a class="header-anchor" href="#ç»˜åˆ¶å¤æ‚è·¯å¾„ä¸åŠ¨ç”»" aria-label="Permalink to &quot;ç»˜åˆ¶å¤æ‚è·¯å¾„ä¸åŠ¨ç”»&quot;">â€‹</a></h2><p><code>CAShapeLayer</code> çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒèƒ½å¤Ÿè½»æ¾å¤„ç†å¤æ‚çš„è·¯å¾„ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>UIBezierPath</code> çš„å„ç§æ–¹æ³•æ¥æ„å»ºå¤æ‚çš„å‡ ä½•å›¾å½¢ï¼Œä¾‹å¦‚ï¼š</p><ol><li><strong>æ·»åŠ ç›´çº¿æ®µ</strong>: <code>addLine(to:)</code></li><li><strong>æ·»åŠ æ›²çº¿æ®µ</strong>: <code>addCurve(to:controlPoint1:controlPoint2:)</code> æˆ– <code>addQuadCurve(to:controlPoint:)</code></li><li><strong>é—­åˆè·¯å¾„</strong>: <code>close()</code></li></ol><p>ä¾‹å¦‚ï¼Œç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trianglePath </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UIBezierPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">trianglePath.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">move</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CGPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">trianglePath.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CGPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">trianglePath.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">addLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CGPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">trianglePath.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">shapeLayer.path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trianglePath.cgPath</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>CAShapeLayer</code> è¿˜æ”¯æŒè·¯å¾„åŠ¨ç”»ï¼ä½ å¯ä»¥é€šè¿‡æ”¹å˜ <code>path</code> å±æ€§æ¥åˆ›å»ºå¹³æ»‘çš„å½¢çŠ¶è¿‡æ¸¡åŠ¨ç”»ã€‚è¿™åœ¨åˆ¶ä½œåŠ è½½åŠ¨ç”»æˆ–è‡ªå®šä¹‰è¿›åº¦æ¡æ—¶éå¸¸æœ‰ç”¨ã€‚âœ¨</p><h2 id="å®é™…åº”ç”¨åœºæ™¯" tabindex="-1">å®é™…åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#å®é™…åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;å®é™…åº”ç”¨åœºæ™¯&quot;">â€‹</a></h2><p><code>CAShapeLayer</code> åœ¨ <code>iOS</code> å¼€å‘ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼Œä¾‹å¦‚ï¼š</p><ul><li><strong>è‡ªå®šä¹‰è¿›åº¦æ¡</strong>: é€šè¿‡æ”¹å˜ <code>strokeEnd</code> å±æ€§æ¥æ˜¾ç¤ºè¿›åº¦ã€‚</li><li><strong>åŠ è½½åŠ¨ç”»</strong>: åˆ¶ä½œå„ç§æµç•…ã€å¸å¼•äººçš„åŠ è½½æŒ‡ç¤ºå™¨ã€‚</li><li><strong>å›¾è¡¨ç»˜åˆ¶</strong>: ç»˜åˆ¶æŠ˜çº¿å›¾ã€é¥¼å›¾ç­‰å¤æ‚å›¾è¡¨ã€‚</li><li><strong>è‡ªå®šä¹‰æ§ä»¶</strong>: åˆ›å»ºå…·æœ‰ç‹¬ç‰¹å½¢çŠ¶å’Œäº¤äº’çš„ <code>UI</code> å…ƒç´ ã€‚</li></ul><p>æ®ç»Ÿè®¡ï¼Œä½¿ç”¨ <code>CAShapeLayer</code> è¿›è¡Œå›¾å½¢æ¸²æŸ“é€šå¸¸æ¯” <code>Core Graphics</code> ä¸Šä¸‹æ–‡ç»˜åˆ¶å¿« <code>20%</code> åˆ° <code>30%</code>ï¼Œå› ä¸ºå®ƒé¿å…äº†ä½å›¾ä¸Šä¸‹æ–‡çš„å¼€é”€ã€‚è¿™ä½¿å¾—ä½ çš„åº”ç”¨ç•Œé¢æ›´åŠ æµç•…ï¼Œç”¨æˆ·ä½“éªŒæ›´ä½³ã€‚ğŸ‘</p><h2 id="æ€§èƒ½ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹" tabindex="-1">æ€§èƒ½ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ€§èƒ½ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;æ€§èƒ½ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h2><p>è™½ç„¶ <code>CAShapeLayer</code> æ€§èƒ½ä¼˜å¼‚ï¼Œä½†ä»æœ‰ä¸€äº›æœ€ä½³å®è·µå¯ä»¥å¸®åŠ©ä½ è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š</p><ul><li><strong>é¿å…é¢‘ç¹ä¿®æ”¹è·¯å¾„</strong>: å¦‚æœè·¯å¾„éå¸¸å¤æ‚ä¸”éœ€è¦é¢‘ç¹æ›´æ–°ï¼Œè€ƒè™‘æ˜¯å¦å¯ä»¥ç®€åŒ–è·¯å¾„æˆ–ä½¿ç”¨å…¶ä»–æŠ€æœ¯ã€‚</li><li><strong>ç¼“å­˜è·¯å¾„</strong>: å¦‚æœè·¯å¾„æ˜¯é™æ€çš„ï¼Œåªåˆ›å»ºä¸€æ¬¡å¹¶ç¼“å­˜å…¶ <code>CGPath</code>ã€‚</li><li><strong>åˆç†è®¾ç½® <code>frame</code></strong>: ç¡®ä¿ <code>CAShapeLayer</code> çš„ <code>frame</code> è¶³å¤Ÿå¤§ä»¥åŒ…å«å…¶è·¯å¾„ï¼Œä½†ä¸è¦è¿‡å¤§ï¼Œä»¥å…é€ æˆä¸å¿…è¦çš„æ¸²æŸ“å¼€é”€ã€‚</li></ul><p>é€šè¿‡æŒæ¡ <code>CAShapeLayer</code>ï¼Œä½ å°†èƒ½å¤Ÿåˆ›å»ºå‡ºä»¤äººæƒŠå¹çš„è‡ªå®šä¹‰ <code>UI</code> å…ƒç´ ï¼Œè®©ä½ çš„åº”ç”¨åœ¨è§†è§‰ä¸Šè„±é¢–è€Œå‡ºï¼ğŸ¨ è¿™æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—æŠ•å…¥å­¦ä¹ çš„å¼ºå¤§å·¥å…·ã€‚</p>`,25)]))}const c=i(h,[["render",l]]);export{E as __pageData,c as default};
