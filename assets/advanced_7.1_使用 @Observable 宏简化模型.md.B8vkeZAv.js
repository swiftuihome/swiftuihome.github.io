import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.Bw-5EFTY.js";const c=JSON.parse('{"title":"ä½¿ç”¨ @Observable å®ç®€åŒ–æ¨¡å‹","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/7.1_ä½¿ç”¨ @Observable å®ç®€åŒ–æ¨¡å‹.md","filePath":"advanced/7.1_ä½¿ç”¨ @Observable å®ç®€åŒ–æ¨¡å‹.md"}'),l={name:"advanced/7.1_ä½¿ç”¨ @Observable å®ç®€åŒ–æ¨¡å‹.md"};function p(t,s,h,k,r,d){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="ä½¿ç”¨-observable-å®ç®€åŒ–æ¨¡å‹" tabindex="-1">ä½¿ç”¨ @Observable å®ç®€åŒ–æ¨¡å‹ <a class="header-anchor" href="#ä½¿ç”¨-observable-å®ç®€åŒ–æ¨¡å‹" aria-label="Permalink to &quot;ä½¿ç”¨ @Observable å®ç®€åŒ–æ¨¡å‹&quot;">â€‹</a></h1><blockquote><p>ä½¿ç”¨ <code>@Observable</code> å®ç®€åŒ–æ¨¡å‹ï¼Œè®©æ•°æ®ç®¡ç†å˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ï¼ğŸš€ ä½ ä¸å†éœ€è¦æ‰‹åŠ¨ç¼–å†™ <code>ObservableObject</code> åè®®å’Œ <code>@Published</code> å±æ€§ï¼Œåªéœ€ä¸€ä¸ªå®ï¼Œå°±èƒ½æå®šä¸€åˆ‡ï¼</p></blockquote><h2 id="å‘Šåˆ«ç¹ç-æ‹¥æŠ±-observable" tabindex="-1">å‘Šåˆ«ç¹çï¼šæ‹¥æŠ± <code>@Observable</code> <a class="header-anchor" href="#å‘Šåˆ«ç¹ç-æ‹¥æŠ±-observable" aria-label="Permalink to &quot;å‘Šåˆ«ç¹çï¼šæ‹¥æŠ± \`@Observable\`&quot;">â€‹</a></h2><p>ä»¥å‰ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·å®šä¹‰å¯è§‚å¯Ÿå¯¹è±¡ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ObservableObject </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ç°åœ¨ï¼Œæœ‰äº† <code>@Observable</code>ï¼Œä»£ç å˜å¾—ç®€æ´å¤šäº†ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observation</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@Observable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æ˜¯ä¸æ˜¯æ¸…çˆ½äº†å¾ˆå¤šï¼ŸğŸ‰ <code>@Observable</code> å®ä¼šè‡ªåŠ¨ä¸ºä½ å¤„ç†æ‰€æœ‰å¿…è¦çš„è®¾ç½®ï¼Œè®©ä½ å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚</p><h2 id="observable-çš„ä¼˜åŠ¿" tabindex="-1"><code>@Observable</code> çš„ä¼˜åŠ¿ <a class="header-anchor" href="#observable-çš„ä¼˜åŠ¿" aria-label="Permalink to &quot;\`@Observable\` çš„ä¼˜åŠ¿&quot;">â€‹</a></h2><ul><li><strong>ä»£ç æ›´ç®€æ´</strong>ï¼šå¤§å¹…å‡å°‘æ ·æ¿ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li><li><strong>æ˜“äºç»´æŠ¤</strong>ï¼šä»£ç æ›´æ˜“è¯»ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œè°ƒè¯•ã€‚</li><li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šObservation æ¡†æ¶åº•å±‚è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ€§èƒ½æ›´ä½³ã€‚</li></ul><h2 id="å¦‚ä½•ä½¿ç”¨-observable" tabindex="-1">å¦‚ä½•ä½¿ç”¨ <code>@Observable</code> <a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨-observable" aria-label="Permalink to &quot;å¦‚ä½•ä½¿ç”¨ \`@Observable\`&quot;">â€‹</a></h2><ol><li><strong>å¯¼å…¥ Observation æ¡†æ¶</strong>ï¼š<code>import Observation</code></li><li><strong>åœ¨ç±»å‰æ·»åŠ  <code>@Observable</code> å®</strong>ï¼š<code>@Observable class MyModel { ... }</code></li><li><strong>ç›´æ¥ä½¿ç”¨å±æ€§</strong>ï¼šåœ¨ SwiftUI è§†å›¾ä¸­ï¼Œåƒæ™®é€šå±æ€§ä¸€æ ·ä½¿ç”¨å³å¯ã€‚</li></ol><p>ä¾‹å¦‚ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SwiftUI</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observation</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@Observable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;å¼ ä¸‰&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        VStack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å§“åï¼š</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(model.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¹´é¾„ï¼š</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(model.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">age</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            TextField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å§“å&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: $model.name)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Stepper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¹´é¾„&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: $model.age, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>ContentView</code> é€šè¿‡ <code>@State</code> åˆ›å»ºäº†ä¸€ä¸ª <code>MyModel</code> çš„å®ä¾‹ã€‚å½“ <code>name</code> æˆ– <code>age</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°ã€‚æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼ŸğŸ˜</p><h2 id="æ³¨æ„äº‹é¡¹" tabindex="-1">æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h2><ul><li><code>@Observable</code> åªèƒ½ç”¨äºç±»ã€‚</li><li>ç¡®ä¿å¯¼å…¥äº† <code>Observation</code> æ¡†æ¶ã€‚</li><li>åœ¨ SwiftUI è§†å›¾ä¸­ä½¿ç”¨ <code>@State</code> æˆ– <code>@ObservedObject</code> æ¥æŒæœ‰ <code>@Observable</code> å¯¹è±¡ã€‚</li></ul><p>ä½¿ç”¨ <code>@Observable</code> å®ï¼Œå¯ä»¥æå¤§åœ°ç®€åŒ–ä½ çš„ SwiftUI æ•°æ®æ¨¡å‹ï¼Œè®©ä½ æ›´ä¸“æ³¨äºæ„å»ºå‡ºè‰²çš„ç”¨æˆ·ç•Œé¢ã€‚å¿«æ¥è¯•è¯•å§ï¼ğŸ‘</p>`,18)]))}const o=i(l,[["render",p]]);export{c as __pageData,o as default};
