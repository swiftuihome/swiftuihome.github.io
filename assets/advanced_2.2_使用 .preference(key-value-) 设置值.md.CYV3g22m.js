import{_ as s,c as a,o as i,ag as n}from"./chunks/framework.Bw-5EFTY.js";const o=JSON.parse('{"title":"ä½¿ç”¨ .preference(key-value-) è®¾ç½®å€¼","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/2.2_ä½¿ç”¨ .preference(key-value-) è®¾ç½®å€¼.md","filePath":"advanced/2.2_ä½¿ç”¨ .preference(key-value-) è®¾ç½®å€¼.md"}'),l={name:"advanced/2.2_ä½¿ç”¨ .preference(key-value-) è®¾ç½®å€¼.md"};function r(t,e,p,h,k,d){return i(),a("div",null,e[0]||(e[0]=[n(`<h1 id="ä½¿ç”¨-preference-key-value-è®¾ç½®å€¼" tabindex="-1">ä½¿ç”¨ .preference(key-value-) è®¾ç½®å€¼ <a class="header-anchor" href="#ä½¿ç”¨-preference-key-value-è®¾ç½®å€¼" aria-label="Permalink to &quot;ä½¿ç”¨ .preference(key-value-) è®¾ç½®å€¼&quot;">â€‹</a></h1><blockquote><p>åœ¨ SwiftUI ä¸­ï¼Œ<code>.preference(key:value:)</code> æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå…è®¸ä½ å°†ä¿¡æ¯ä»è§†å›¾æ ‘çš„å­è§†å›¾ä¼ é€’åˆ°çˆ¶è§†å›¾ã€‚è¿™å¯¹äºåˆ›å»ºçµæ´»ä¸”å¯é…ç½®çš„ UI éå¸¸æœ‰ç”¨ã€‚è®©æˆ‘ä»¬æ·±å…¥äº†è§£å¦‚ä½•ä½¿ç”¨å®ƒï¼ğŸš€</p></blockquote><h2 id="æŒæ¡-preference-key-value-çš„å¥¥ç§˜" tabindex="-1">æŒæ¡ <code>.preference(key:value:)</code> çš„å¥¥ç§˜ <a class="header-anchor" href="#æŒæ¡-preference-key-value-çš„å¥¥ç§˜" aria-label="Permalink to &quot;æŒæ¡ \`.preference(key:value:)\` çš„å¥¥ç§˜&quot;">â€‹</a></h2><p><code>.preference(key:value:)</code> ä¿®é¥°ç¬¦é™„åŠ åˆ°è§†å›¾ä¸Šï¼Œç”¨äºè®¾ç½®ç‰¹å®š <code>PreferenceKey</code> çš„å€¼ã€‚<code>PreferenceKey</code> æœ¬èº«å®šä¹‰äº†å€¼çš„ç±»å‹ä»¥åŠå¦‚ä½•åˆå¹¶æ¥è‡ªä¸åŒå­è§†å›¾çš„å€¼ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªä¿¡ä½¿ï¼Œè´Ÿè´£ä¼ é€’ä¿¡æ¯ã€‚</p><ul><li><strong>è®¾ç½®å€¼</strong>: ä½¿ç”¨ <code>.preference(key:value:)</code> å°†ç‰¹å®šå€¼ä¸è§†å›¾å…³è”ã€‚</li><li><strong>ç±»å‹å®‰å…¨</strong>: <code>key</code> ç¡®ä¿ä½ ä¼ é€’çš„å€¼ç±»å‹æ­£ç¡®ã€‚</li><li><strong>è§†å›¾å±‚çº§</strong>: ä¿¡æ¯æ²¿ç€è§†å›¾å±‚çº§å‘ä¸ŠæµåŠ¨ã€‚</li></ul><h2 id="å®æˆ˜æ¼”ç»ƒ-è®¾ç½®-preference-å€¼" tabindex="-1">å®æˆ˜æ¼”ç»ƒï¼šè®¾ç½® Preference å€¼ <a class="header-anchor" href="#å®æˆ˜æ¼”ç»ƒ-è®¾ç½®-preference-å€¼" aria-label="Permalink to &quot;å®æˆ˜æ¼”ç»ƒï¼šè®¾ç½® Preference å€¼&quot;">â€‹</a></h2><p>å‡è®¾ä½ æƒ³è¦çŸ¥é“ä¸€ä¸ªæ–‡æœ¬è§†å›¾çš„å®½åº¦ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>PreferenceKey</code> æ¥å­˜å‚¨è¿™ä¸ªå®½åº¦ï¼Œå¹¶ä½¿ç”¨ <code>.preference(key:value:)</code> åœ¨æ–‡æœ¬è§†å›¾ä¸Šè®¾ç½®å®ƒã€‚è¿™å°±åƒç»™è§†å›¾è´´ä¸Šä¸€ä¸ªæ ‡ç­¾ï¼Œä¸Šé¢å†™ç€å®ƒçš„å®½åº¦ã€‚ğŸ“</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WidthPreferenceKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PreferenceKey </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultValue: CGFloat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">inout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CGFloat, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nextValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CGFloat) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nextValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, SwiftUI!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GeometryReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { geometry </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Color.clear</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">preference</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: WidthPreferenceKey.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: geometry.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.width)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="æ·±å…¥ç†è§£-preferencekey" tabindex="-1">æ·±å…¥ç†è§£ PreferenceKey <a class="header-anchor" href="#æ·±å…¥ç†è§£-preferencekey" aria-label="Permalink to &quot;æ·±å…¥ç†è§£ PreferenceKey&quot;">â€‹</a></h2><p><code>PreferenceKey</code> åè®®è¦æ±‚ä½ å®šä¹‰ä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼š<code>defaultValue</code> å’Œ <code>reduce</code> æ–¹æ³•ã€‚<code>defaultValue</code> æ˜¯ä¸€ä¸ªåˆå§‹å€¼ï¼Œè€Œ <code>reduce</code> æ–¹æ³•å®šä¹‰äº†å¦‚ä½•åˆå¹¶æ¥è‡ªå¤šä¸ªå­è§†å›¾çš„å€¼ã€‚è¿™ç¡®ä¿äº†å³ä½¿æœ‰å¤šä¸ªå­è§†å›¾è®¾ç½®äº†ç›¸åŒ <code>PreferenceKey</code>ï¼Œä½ ä¹Ÿèƒ½å¾—åˆ°ä¸€ä¸ªæœ‰æ„ä¹‰çš„ç»“æœã€‚</p><ul><li><strong>defaultValue</strong>: åˆå§‹å€¼ï¼Œç¡®ä¿å³ä½¿æ²¡æœ‰è®¾ç½®å€¼ï¼Œä¹Ÿæœ‰ä¸€ä¸ªé»˜è®¤å€¼å¯ç”¨ã€‚</li><li><strong>reduce</strong>: åˆå¹¶ç­–ç•¥ï¼Œå®šä¹‰å¦‚ä½•å¤„ç†æ¥è‡ªå¤šä¸ªå­è§†å›¾çš„å€¼ã€‚</li></ul><h2 id="å®é™…åº”ç”¨åœºæ™¯" tabindex="-1">å®é™…åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#å®é™…åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;å®é™…åº”ç”¨åœºæ™¯&quot;">â€‹</a></h2><p><code>.preference(key:value:)</code> åœ¨è®¸å¤šåœºæ™¯ä¸­éƒ½éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥ï¼š</p><ol><li><strong>åŒæ­¥è§†å›¾å°ºå¯¸</strong>: ç¡®ä¿å¤šä¸ªè§†å›¾å…·æœ‰ç›¸åŒçš„å°ºå¯¸ã€‚</li><li><strong>åˆ›å»ºè‡ªå®šä¹‰å¸ƒå±€</strong>: æ ¹æ®å­è§†å›¾çš„éœ€æ±‚è°ƒæ•´çˆ¶è§†å›¾çš„å¸ƒå±€ã€‚</li><li><strong>å®ç°åŠ¨æ€æ•ˆæœ</strong>: æ ¹æ®å­è§†å›¾çš„çŠ¶æ€æ”¹å˜çˆ¶è§†å›¾çš„å¤–è§‚ã€‚</li></ol><p>é€šè¿‡å·§å¦™åœ°ä½¿ç”¨ <code>.preference(key:value:)</code>ï¼Œä½ å¯ä»¥åˆ›å»ºå‡ºæ›´åŠ çµæ´»å’Œå¼ºå¤§çš„ SwiftUI è§†å›¾ã€‚è®°ä½ï¼Œå®è·µæ˜¯æœ€å¥½çš„è€å¸ˆï¼åŠ¨æ‰‹å°è¯•ï¼Œä½ ä¼šå‘ç°æ›´å¤šæœ‰è¶£çš„åº”ç”¨ã€‚ğŸ‰</p>`,15)]))}const E=s(l,[["render",r]]);export{o as __pageData,E as default};
