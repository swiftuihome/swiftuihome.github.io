import{_ as s,c as a,o as n,ag as e}from"./chunks/framework.Bw-5EFTY.js";const c=JSON.parse('{"title":"13.4_ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”»","description":"","frontmatter":{},"headers":[],"relativePath":"animation/13.4_ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”».md","filePath":"animation/13.4_ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”».md"}'),l={name:"animation/13.4_ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”».md"};function t(h,i,p,k,d,r){return n(),a("div",null,i[0]||(i[0]=[e(`<h1 id="_13-4-ç»“åˆ-timelineview-å’Œ-canvas-å®ç°å¤æ‚åŠ¨ç”»" tabindex="-1">13.4_ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”» <a class="header-anchor" href="#_13-4-ç»“åˆ-timelineview-å’Œ-canvas-å®ç°å¤æ‚åŠ¨ç”»" aria-label="Permalink to &quot;13.4_ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”»&quot;">â€‹</a></h1><h2 id="ç»“åˆ-timelineview-å’Œ-canvas-å®ç°å¤æ‚åŠ¨ç”»" tabindex="-1">ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”» <a class="header-anchor" href="#ç»“åˆ-timelineview-å’Œ-canvas-å®ç°å¤æ‚åŠ¨ç”»" aria-label="Permalink to &quot;ç»“åˆ TimelineView å’Œ Canvas å®ç°å¤æ‚åŠ¨ç”»&quot;">â€‹</a></h2><p>æƒ³ä¸æƒ³è®©ä½ çš„ SwiftUI åŠ¨ç”»æ›´ä¸Šä¸€å±‚æ¥¼ï¼ŸğŸš€ ç»“åˆ <code>TimelineView</code> å’Œ <code>Canvas</code>ï¼Œä½ å°±èƒ½åˆ›é€ å‡ºä»¤äººæƒŠå¹çš„å¤æ‚åŠ¨ç”»æ•ˆæœï¼<code>TimelineView</code> è´Ÿè´£æä¾›æ—¶é—´æµï¼Œ<code>Canvas</code> è´Ÿè´£ç»˜åˆ¶å›¾å½¢ï¼Œä¸¤è€…ç»“åˆï¼Œç®€ç›´æ˜¯åŠ¨ç”»ç•Œçš„é»„é‡‘æ­æ¡£ï¼</p><h2 id="timelineview-çš„å¦™ç”¨" tabindex="-1">TimelineView çš„å¦™ç”¨ <a class="header-anchor" href="#timelineview-çš„å¦™ç”¨" aria-label="Permalink to &quot;TimelineView çš„å¦™ç”¨&quot;">â€‹</a></h2><p><code>TimelineView</code> å°±åƒä¸€ä¸ªåŠ¨ç”»å¼•æ“ï¼Œå®ƒä¼šæŒ‰ç…§ä½ è®¾å®šçš„æ—¶é—´é—´éš”ï¼Œä¸æ–­åœ°è§¦å‘è§†å›¾çš„æ›´æ–°ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„ <code>schedule</code> æ¥æ§åˆ¶æ›´æ–°é¢‘ç‡ï¼Œä¾‹å¦‚ <code>.animation</code>ã€<code>.periodic</code> ç­‰ã€‚</p><ul><li><code>.animation</code>: ä¾èµ–äºç³»ç»Ÿçš„åŠ¨ç”»åˆ·æ–°ç‡ï¼Œé€šå¸¸æ˜¯æ¯ç§’ 60 å¸§ã€‚</li><li><code>.periodic(from:by:)</code>: å…è®¸ä½ è‡ªå®šä¹‰æ›´æ–°çš„æ—¶é—´é—´éš”ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¿™æ ·åˆ›å»ºä¸€ä¸ªæ¯ç§’æ›´æ–°ä¸€æ¬¡çš„ <code>TimelineView</code>ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TimelineView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">periodic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .now, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">by</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) { timeline </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åœ¨è¿™é‡Œç»˜åˆ¶ä½ çš„åŠ¨ç”»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="canvas-çš„å¼ºå¤§ç»˜å›¾èƒ½åŠ›" tabindex="-1">Canvas çš„å¼ºå¤§ç»˜å›¾èƒ½åŠ› <a class="header-anchor" href="#canvas-çš„å¼ºå¤§ç»˜å›¾èƒ½åŠ›" aria-label="Permalink to &quot;Canvas çš„å¼ºå¤§ç»˜å›¾èƒ½åŠ›&quot;">â€‹</a></h2><p><code>Canvas</code> æä¾›äº†å¼ºå¤§çš„ç»˜å›¾ APIï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­ç»˜åˆ¶å„ç§å½¢çŠ¶ã€å›¾åƒå’Œæ–‡æœ¬ã€‚å®ƒè¿˜æ”¯æŒä½¿ç”¨ <code>context</code> å¯¹è±¡è¿›è¡Œæ›´é«˜çº§çš„ç»˜å›¾æ“ä½œï¼Œä¾‹å¦‚å˜æ¢ã€è£å‰ªå’Œæ··åˆã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨ <code>Canvas</code> ç»˜åˆ¶åŠ¨æ€å›¾å½¢ï¼Œä¾‹å¦‚ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Canvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { context, size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åœ¨è¿™é‡Œç»˜åˆ¶ä½ çš„å›¾å½¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ç»“åˆ-timelineview-å’Œ-canvas" tabindex="-1">ç»“åˆ TimelineView å’Œ Canvas <a class="header-anchor" href="#ç»“åˆ-timelineview-å’Œ-canvas" aria-label="Permalink to &quot;ç»“åˆ TimelineView å’Œ Canvas&quot;">â€‹</a></h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠ <code>TimelineView</code> å’Œ <code>Canvas</code> ç»“åˆèµ·æ¥ï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„åŠ¨ç”»ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ—‹è½¬çš„çŸ©å½¢ï¼š</p><ol><li>ä½¿ç”¨ <code>TimelineView</code> æä¾›æ—¶é—´æµã€‚</li><li>åœ¨ <code>Canvas</code> ä¸­ï¼Œæ ¹æ®å½“å‰æ—¶é—´è®¡ç®—æ—‹è½¬è§’åº¦ã€‚</li><li>ä½¿ç”¨ <code>context.rotate(by:)</code> æ–¹æ³•æ—‹è½¬çŸ©å½¢ã€‚</li></ol><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TimelineView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.animation) { timeline </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Canvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { context, size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> angle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timeline.date.timeIntervalSinceReferenceDate.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">truncatingRemainder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dividingBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        context.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: size.width </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: size.height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        context.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">by</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Angle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">radians</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: angle))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        context.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CGRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.red))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="è¿›é˜¶æŠ€å·§" tabindex="-1">è¿›é˜¶æŠ€å·§ <a class="header-anchor" href="#è¿›é˜¶æŠ€å·§" aria-label="Permalink to &quot;è¿›é˜¶æŠ€å·§&quot;">â€‹</a></h2><ul><li><strong>ä½¿ç”¨ GeometryReader è·å–è§†å›¾å¤§å°</strong>: ç¡®ä¿ä½ çš„åŠ¨ç”»èƒ½å¤Ÿé€‚åº”ä¸åŒçš„å±å¹•å°ºå¯¸ã€‚</li><li><strong>åˆ©ç”¨ State å˜é‡æ§åˆ¶åŠ¨ç”»</strong>: ä½ å¯ä»¥ä½¿ç”¨ <code>@State</code> å˜é‡æ¥æ§åˆ¶åŠ¨ç”»çš„å±æ€§ï¼Œä¾‹å¦‚é¢œè‰²ã€ä½ç½®å’Œå¤§å°ã€‚</li><li><strong>å°è¯•ä¸åŒçš„æ··åˆæ¨¡å¼</strong>: <code>context.blendMode</code> å¯ä»¥è®©ä½ åˆ›é€ å‡ºå„ç§æœ‰è¶£çš„è§†è§‰æ•ˆæœã€‚</li></ul><p>é€šè¿‡ç»“åˆ <code>TimelineView</code> å’Œ <code>Canvas</code>ï¼Œä½ å¯ä»¥åˆ›é€ å‡ºæ— é™å¯èƒ½çš„å¤æ‚åŠ¨ç”»ã€‚ å°½æƒ…å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›ï¼Œæ‰“é€ å‡ºä»¤äººæƒŠè‰³çš„ SwiftUI åŠ¨ç”»å§ï¼ğŸ‰</p>`,19)]))}const o=s(l,[["render",t]]);export{c as __pageData,o as default};
