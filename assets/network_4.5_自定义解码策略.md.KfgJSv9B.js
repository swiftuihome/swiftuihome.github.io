import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.ymCRTBvy.js";const E=JSON.parse('{"title":"è‡ªå®šä¹‰è§£ç ç­–ç•¥","description":"","frontmatter":{},"headers":[],"relativePath":"network/4.5_è‡ªå®šä¹‰è§£ç ç­–ç•¥.md","filePath":"network/4.5_è‡ªå®šä¹‰è§£ç ç­–ç•¥.md"}'),t={name:"network/4.5_è‡ªå®šä¹‰è§£ç ç­–ç•¥.md"};function l(p,s,h,r,k,d){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="è‡ªå®šä¹‰è§£ç ç­–ç•¥" tabindex="-1">è‡ªå®šä¹‰è§£ç ç­–ç•¥ <a class="header-anchor" href="#è‡ªå®šä¹‰è§£ç ç­–ç•¥" aria-label="Permalink to &quot;è‡ªå®šä¹‰è§£ç ç­–ç•¥&quot;">â€‹</a></h1><p>åœ¨å¤„ç†JSONæ•°æ®æ—¶ï¼Œä½¿ç”¨è‡ªå®šä¹‰è§£ç ç­–ç•¥å¯ä»¥å¸®åŠ©ä½ æ›´çµæ´»åœ°è§£ææ•°æ®ã€‚Swiftçš„<code>JSONDecoder</code>æä¾›äº†ä¸¤ç§ä¸»è¦çš„è§£ç ç­–ç•¥ï¼š<code>keyDecodingStrategy</code>å’Œ<code>dateDecodingStrategy</code>ã€‚è¿™ä¸¤ç§ç­–ç•¥å¯ä»¥è®©ä½ æ ¹æ®éœ€è¦è°ƒæ•´è§£ç è¿‡ç¨‹ã€‚</p><h2 id="_1-keydecodingstrategy" tabindex="-1">1. keyDecodingStrategy <a class="header-anchor" href="#_1-keydecodingstrategy" aria-label="Permalink to &quot;1. keyDecodingStrategy&quot;">â€‹</a></h2><p><code>keyDecodingStrategy</code>ç”¨äºå®šä¹‰å¦‚ä½•å°†JSONä¸­çš„é”®æ˜ å°„åˆ°Swiftä¸­çš„å±æ€§ã€‚å¸¸ç”¨çš„ç­–ç•¥åŒ…æ‹¬ï¼š</p><ul><li><strong>useDefaultKeys</strong>ï¼šä½¿ç”¨é»˜è®¤çš„é”®åï¼Œç›´æ¥æ˜ å°„ã€‚</li><li><strong>convertFromSnakeCase</strong>ï¼šå°†è›‡å½¢å‘½åï¼ˆå¦‚<code>first_name</code>ï¼‰è½¬æ¢ä¸ºé©¼å³°å‘½åï¼ˆå¦‚<code>firstName</code>ï¼‰ã€‚</li><li><strong>custom</strong>ï¼šè‡ªå®šä¹‰æ˜ å°„è§„åˆ™ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œä½¿ç”¨<code>convertFromSnakeCase</code>å¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSONDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decoder.keyDecodingStrategy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .convertFromSnakeCase</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™æ ·ï¼Œå½“ä½ è§£ç ä¸€ä¸ªåŒ…å«è›‡å½¢å‘½åçš„JSONæ—¶ï¼ŒSwiftä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºé©¼å³°å‘½åã€‚</p><h2 id="_2-datedecodingstrategy" tabindex="-1">2. dateDecodingStrategy <a class="header-anchor" href="#_2-datedecodingstrategy" aria-label="Permalink to &quot;2. dateDecodingStrategy&quot;">â€‹</a></h2><p><code>dateDecodingStrategy</code>ç”¨äºå®šä¹‰å¦‚ä½•è§£ææ—¥æœŸæ ¼å¼ã€‚å¸¸ç”¨çš„ç­–ç•¥åŒ…æ‹¬ï¼š</p><ul><li><strong>deferredToDate</strong>ï¼šä½¿ç”¨é»˜è®¤çš„æ—¥æœŸæ ¼å¼ã€‚</li><li><strong>iso8601</strong>ï¼šè§£æISO 8601æ ¼å¼çš„æ—¥æœŸã€‚</li><li><strong>formatted</strong>ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„æ—¥æœŸæ ¼å¼ã€‚</li><li><strong>custom</strong>ï¼šè‡ªå®šä¹‰è§£æè§„åˆ™ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„JSONæ—¥æœŸæ˜¯ISO 8601æ ¼å¼ï¼Œå¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSONDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decoder.dateDecodingStrategy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .iso8601</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¦‚æœä½ éœ€è¦è§£æç‰¹å®šæ ¼å¼çš„æ—¥æœŸï¼Œå¯ä»¥ä½¿ç”¨<code>formatted</code>ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dateFormatter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> DateFormatter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dateFormatter.dateFormat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;yyyy-MM-dd&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decoder.dateDecodingStrategy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">formatted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dateFormatter)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_3-è‡ªå®šä¹‰è§£ç ç¤ºä¾‹" tabindex="-1">3. è‡ªå®šä¹‰è§£ç ç¤ºä¾‹ <a class="header-anchor" href="#_3-è‡ªå®šä¹‰è§£ç ç¤ºä¾‹" aria-label="Permalink to &quot;3. è‡ªå®šä¹‰è§£ç ç¤ºä¾‹&quot;">â€‹</a></h2><p>å‡è®¾ä½ æœ‰ä»¥ä¸‹JSONæ•°æ®ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;first_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;John&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;last_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Doe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;birth_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1990-01-01&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªæ•°æ®æ¨¡å‹å¦‚ä¸‹ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Codable </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> firstName: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lastName: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> birthDate: Date</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ç„¶åä½¿ç”¨è‡ªå®šä¹‰è§£ç ç­–ç•¥ï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonData </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /* JSONæ•°æ® */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSONDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decoder.keyDecodingStrategy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .convertFromSnakeCase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decoder.dateDecodingStrategy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">formatted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dateFormatter)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoder.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(User.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: jsonData)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è§£ç å¤±è´¥: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_4-æ€»ç»“" tabindex="-1">4. æ€»ç»“ <a class="header-anchor" href="#_4-æ€»ç»“" aria-label="Permalink to &quot;4. æ€»ç»“&quot;">â€‹</a></h2><p>é€šè¿‡è‡ªå®šä¹‰è§£ç ç­–ç•¥ï¼Œä½ å¯ä»¥è½»æ¾å¤„ç†ä¸åŒæ ¼å¼çš„JSONæ•°æ®ã€‚æ— è®ºæ˜¯é”®åçš„è½¬æ¢è¿˜æ˜¯æ—¥æœŸæ ¼å¼çš„è§£æï¼ŒSwiftçš„<code>JSONDecoder</code>éƒ½èƒ½ä¸ºä½ æä¾›å¼ºå¤§çš„æ”¯æŒã€‚çµæ´»è¿ç”¨è¿™äº›ç­–ç•¥ï¼Œå¯ä»¥è®©ä½ çš„æ•°æ®è§£ææ›´åŠ é«˜æ•ˆå’Œå‡†ç¡®ã€‚ç»§ç»­æ¢ç´¢ï¼ŒæŒæ¡æ›´å¤šæŠ€å·§å§ï¼ğŸš€</p>`,24)]))}const c=i(t,[["render",l]]);export{E as __pageData,c as default};
