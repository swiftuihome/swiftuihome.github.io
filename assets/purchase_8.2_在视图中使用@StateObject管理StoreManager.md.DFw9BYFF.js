import{_ as s,c as e,o as n,ag as i}from"./chunks/framework.Bw-5EFTY.js";const k=JSON.parse('{"title":"åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectç®¡ç†StoreManager","description":"","frontmatter":{},"headers":[],"relativePath":"purchase/8.2_åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectç®¡ç†StoreManager.md","filePath":"purchase/8.2_åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectç®¡ç†StoreManager.md"}'),t={name:"purchase/8.2_åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectç®¡ç†StoreManager.md"};function r(l,a,p,o,c,h){return n(),e("div",null,a[0]||(a[0]=[i(`<h1 id="åœ¨è§†å›¾ä¸­ä½¿ç”¨-stateobjectç®¡ç†storemanager" tabindex="-1">åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectç®¡ç†StoreManager <a class="header-anchor" href="#åœ¨è§†å›¾ä¸­ä½¿ç”¨-stateobjectç®¡ç†storemanager" aria-label="Permalink to &quot;åœ¨è§†å›¾ä¸­ä½¿ç”¨@StateObjectç®¡ç†StoreManager&quot;">â€‹</a></h1><h2 id="å£°æ˜storemanager" tabindex="-1">å£°æ˜StoreManager <a class="header-anchor" href="#å£°æ˜storemanager" aria-label="Permalink to &quot;å£°æ˜StoreManager&quot;">â€‹</a></h2><p>åœ¨SwiftUIè§†å›¾ä¸­ç®¡ç†<code>StoreManager</code>è‡³å…³é‡è¦ã€‚ä½ éœ€è¦ä½¿ç”¨<code>@StateObject</code>å±æ€§åŒ…è£…å™¨ã€‚è¿™ç¡®ä¿äº†<code>StoreManager</code>å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸä¸è§†å›¾ç»‘å®šã€‚</p><p>å½“è§†å›¾é¦–æ¬¡å‡ºç°æ—¶ï¼Œ<code>@StateObject</code>ä¼šåˆ›å»ºå¹¶æŒæœ‰<code>StoreManager</code>å®ä¾‹ã€‚å³ä½¿è§†å›¾åˆ·æ–°ï¼Œè¯¥å®ä¾‹ä¹Ÿä¼šæŒç»­å­˜åœ¨ã€‚è¿™å¯¹äºä¿æŒè®¢é˜…çŠ¶æ€çš„ç¨³å®šæ€§è‡³å…³é‡è¦ã€‚</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SwiftUI</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @StateObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> storeManager: StoreManager</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        _storeManager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> StateObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">wrappedValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">StoreManager</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ‚¨çš„è§†å›¾å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ¬¢è¿æ¥åˆ°è®¢é˜…é¡µé¢ï¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="åˆå§‹åŒ–storemanager" tabindex="-1">åˆå§‹åŒ–StoreManager <a class="header-anchor" href="#åˆå§‹åŒ–storemanager" aria-label="Permalink to &quot;åˆå§‹åŒ–StoreManager&quot;">â€‹</a></h2><p>åˆå§‹åŒ–<code>StoreManager</code>æ—¶ï¼Œé€šå¸¸åœ¨è§†å›¾çš„<code>init()</code>æ–¹æ³•ä¸­è¿›è¡Œã€‚ä½ å¯ä»¥ç›´æ¥å°†<code>StoreManager</code>çš„ä¸€ä¸ªæ–°å®ä¾‹èµ‹å€¼ç»™<code>@StateObject</code>å£°æ˜çš„å±æ€§ã€‚</p><p>è¿™ç§æ–¹æ³•ç¡®ä¿äº†<code>StoreManager</code>åœ¨è§†å›¾åŠ è½½æ—¶ç«‹å³å¯ç”¨ã€‚å®ƒèƒ½ç«‹å³å¼€å§‹ç›‘å¬StoreKitäº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œäº§å“ä¿¡æ¯æˆ–äº¤æ˜“æ›´æ–°ã€‚</p><h2 id="è®¿é—®äº§å“ä¿¡æ¯" tabindex="-1">è®¿é—®äº§å“ä¿¡æ¯ <a class="header-anchor" href="#è®¿é—®äº§å“ä¿¡æ¯" aria-label="Permalink to &quot;è®¿é—®äº§å“ä¿¡æ¯&quot;">â€‹</a></h2><p>ä¸€æ—¦<code>StoreManager</code>è¢«æ­£ç¡®ç®¡ç†ï¼Œä½ å°±å¯ä»¥è½»æ¾è®¿é—®å…¶å‘å¸ƒçš„äº§å“åˆ—è¡¨ã€‚<code>StoreManager</code>é€šå¸¸ä¼šæœ‰ä¸€ä¸ªå±æ€§ï¼Œæ¯”å¦‚<code>products</code>ã€‚è¿™ä¸ªå±æ€§ä¼šåŒ…å«ä»StoreKitè·å–çš„äº§å“æ•°æ®ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨<code>ForEach</code>å¾ªç¯æ¥åŠ¨æ€å±•ç¤ºè¿™äº›äº§å“ã€‚è¿™ä½¿å¾—ä½ çš„è®¢é˜…é¡µé¢èƒ½å¤Ÿçµæ´»åœ°é€‚åº”ä¸åŒçš„äº§å“é…ç½®ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å±•ç¤ºæœˆåº¦ã€å¹´åº¦è®¢é˜…é€‰é¡¹ã€‚</p><ul><li><strong>æ­¥éª¤ä¸€</strong>: ç¡®ä¿<code>StoreManager</code>å·²æˆåŠŸä»StoreKitåŠ è½½äº§å“ã€‚</li><li><strong>æ­¥éª¤äºŒ</strong>: åœ¨è§†å›¾ä¸­ä½¿ç”¨<code>storeManager.products</code>æ•°ç»„ã€‚</li><li><strong>æ­¥éª¤ä¸‰</strong>: åˆ©ç”¨<code>ForEach</code>éå†äº§å“å¹¶åˆ›å»ºUIå…ƒç´ ã€‚</li></ul><h2 id="å“åº”çŠ¶æ€å˜åŒ–" tabindex="-1">å“åº”çŠ¶æ€å˜åŒ– <a class="header-anchor" href="#å“åº”çŠ¶æ€å˜åŒ–" aria-label="Permalink to &quot;å“åº”çŠ¶æ€å˜åŒ–&quot;">â€‹</a></h2><p><code>@StateObject</code>çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒèƒ½å¤Ÿè‡ªåŠ¨å“åº”<code>ObservableObject</code>å‘å¸ƒçš„å˜åŒ–ã€‚å½“<code>StoreManager</code>ä¸­çš„è®¢é˜…çŠ¶æ€æ›´æ–°æ—¶ï¼Œä¾‹å¦‚è´­ä¹°æˆåŠŸæˆ–æ¢å¤è´­ä¹°ï¼Œè§†å›¾ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚</p><p>è¿™ä¸ºç”¨æˆ·æä¾›äº†æ— ç¼çš„ä½“éªŒã€‚ä»–ä»¬ä¼šç«‹å³çœ‹åˆ°è®¢é˜…çŠ¶æ€çš„å˜åŒ–ã€‚ä¾‹å¦‚ï¼Œè´­ä¹°æŒ‰é’®å¯èƒ½ä¼šå˜æˆâ€œå·²è®¢é˜…â€çŠ¶æ€ã€‚</p><p>è¿™ç§å“åº”å¼è¡Œä¸ºæ˜¯SwiftUIçš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€ã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†çŠ¶æ€ç®¡ç†ã€‚ä½ æ— éœ€æ‰‹åŠ¨åˆ·æ–°UIã€‚</p><h2 id="æœ€ä½³å®è·µä¸æ€§èƒ½" tabindex="-1">æœ€ä½³å®è·µä¸æ€§èƒ½ <a class="header-anchor" href="#æœ€ä½³å®è·µä¸æ€§èƒ½" aria-label="Permalink to &quot;æœ€ä½³å®è·µä¸æ€§èƒ½&quot;">â€‹</a></h2><p>ä½¿ç”¨<code>@StateObject</code>æ˜¯ç®¡ç†å¤æ‚å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„æœ€ä½³å®è·µã€‚å®ƒé¿å…äº†ä¸å¿…è¦çš„é‡æ–°åˆ›å»ºã€‚è¿™å¯¹äºæ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ¯æ¬¡è§†å›¾æ›´æ–°éƒ½é‡æ–°åˆ›å»º<code>StoreManager</code>ï¼Œé‚£å°†æ˜¯å·¨å¤§çš„èµ„æºæµªè´¹ã€‚<code>@StateObject</code>ç¡®ä¿äº†<code>StoreManager</code>åªåˆ›å»ºä¸€æ¬¡ã€‚å®ƒåœ¨è§†å›¾çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½ä¿æŒæ´»è·ƒã€‚</p><ul><li><strong>é¿å…</strong>: åœ¨<code>body</code>ä¸­ç›´æ¥åˆ›å»º<code>StoreManager</code>å®ä¾‹ã€‚</li><li><strong>æ¨è</strong>: åœ¨<code>init()</code>ä¸­ä½¿ç”¨<code>_storeManager = StateObject(wrappedValue: StoreManager())</code>ã€‚</li><li><strong>å¥½å¤„</strong>: æå‡åº”ç”¨æ€§èƒ½å’Œå“åº”é€Ÿåº¦ã€‚ğŸš€</li></ul><p>è¿™ç§æ–¹æ³•ç¡®ä¿äº†ä½ çš„è®¢é˜…é€»è¾‘å§‹ç»ˆä¿æŒä¸€è‡´ã€‚å®ƒä¹Ÿè®©ä½ çš„ä»£ç æ›´æ˜“äºç»´æŠ¤ã€‚å¤§çº¦æœ‰90%çš„å¼€å‘è€…ä¼šé€‰æ‹©è¿™ç§æ–¹å¼æ¥ç®¡ç†å…±äº«çŠ¶æ€ã€‚è¿™è¯æ˜äº†å®ƒçš„é«˜æ•ˆæ€§ã€‚</p>`,21)]))}const g=s(t,[["render",r]]);export{k as __pageData,g as default};
