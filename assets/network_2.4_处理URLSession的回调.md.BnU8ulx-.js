import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.ymCRTBvy.js";const o=JSON.parse('{"title":"å¤„ç†URLSessionçš„å›è°ƒï¼š(Data?, URLResponse?, Error?)","description":"","frontmatter":{},"headers":[],"relativePath":"network/2.4_å¤„ç†URLSessionçš„å›è°ƒ.md","filePath":"network/2.4_å¤„ç†URLSessionçš„å›è°ƒ.md"}'),p={name:"network/2.4_å¤„ç†URLSessionçš„å›è°ƒ.md"};function h(e,s,t,k,r,E){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="å¤„ç†urlsessionçš„å›è°ƒ-data-urlresponse-error" tabindex="-1">å¤„ç†URLSessionçš„å›è°ƒï¼š(Data?, URLResponse?, Error?) <a class="header-anchor" href="#å¤„ç†urlsessionçš„å›è°ƒ-data-urlresponse-error" aria-label="Permalink to &quot;å¤„ç†URLSessionçš„å›è°ƒï¼š(Data?, URLResponse?, Error?)&quot;">â€‹</a></h1><p>åœ¨ä½¿ç”¨URLSessionè¿›è¡Œç½‘ç»œè¯·æ±‚æ—¶ï¼Œå¤„ç†å›è°ƒæ˜¯è‡³å…³é‡è¦çš„ä¸€æ­¥ã€‚ä½ å°†ä¼šæ¥æ”¶åˆ°ä¸‰ä¸ªå‚æ•°ï¼š<code>Data?</code>ã€<code>URLResponse?</code>å’Œ<code>Error?</code>ã€‚ç†è§£è¿™äº›å‚æ•°çš„æ„ä¹‰å’Œå¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Œå°†å¸®åŠ©ä½ æ›´å¥½åœ°å¤„ç†ç½‘ç»œè¯·æ±‚çš„ç»“æœã€‚</p><h2 id="_1-dataå‚æ•°" tabindex="-1">1. Dataå‚æ•° <a class="header-anchor" href="#_1-dataå‚æ•°" aria-label="Permalink to &quot;1. Dataå‚æ•°&quot;">â€‹</a></h2><p><code>Data?</code>æ˜¯ä½ ä»æœåŠ¡å™¨æ¥æ”¶åˆ°çš„åŸå§‹æ•°æ®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™äº›æ•°æ®æ˜¯JSONæ ¼å¼çš„ï¼ŒåŒ…å«äº†ä½ è¯·æ±‚çš„ä¿¡æ¯ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥å¤„ç†è¿™ä¸ªæ•°æ®ï¼š</p><ul><li><strong>æ£€æŸ¥æ•°æ®æ˜¯å¦ä¸ºnil</strong>ï¼šåœ¨ä½¿ç”¨æ•°æ®ä¹‹å‰ï¼Œé¦–å…ˆè¦ç¡®ä¿å®ƒä¸ä¸ºnilã€‚</li><li><strong>è§£ææ•°æ®</strong>ï¼šä½¿ç”¨JSONSerializationæˆ–JSONDecoderå°†æ•°æ®è½¬æ¢ä¸ºSwiftå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</li></ul><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JSONSerialization.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">jsonObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: data, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [])</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(json)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è§£æé”™è¯¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_2-urlresponseå‚æ•°" tabindex="-1">2. URLResponseå‚æ•° <a class="header-anchor" href="#_2-urlresponseå‚æ•°" aria-label="Permalink to &quot;2. URLResponseå‚æ•°&quot;">â€‹</a></h2><p><code>URLResponse?</code>æä¾›äº†å…³äºè¯·æ±‚çš„å“åº”ä¿¡æ¯ï¼ŒåŒ…æ‹¬HTTPçŠ¶æ€ç å’Œå“åº”å¤´ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–çŠ¶æ€ç ï¼š</p><ul><li><strong>å¼ºåˆ¶è½¬æ¢ä¸ºHTTPURLResponse</strong>ï¼šè¿™æ ·ä½ å°±å¯ä»¥è®¿é—®çŠ¶æ€ç å’Œå…¶ä»–HTTPç›¸å…³ä¿¡æ¯ã€‚</li></ul><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> httpResponse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HTTPURLResponse {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;çŠ¶æ€ç : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(httpResponse.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">statusCode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>æ ¹æ®çŠ¶æ€ç å¤„ç†ä¸åŒæƒ…å†µ</strong>ï¼šä¾‹å¦‚ï¼Œ2xxè¡¨ç¤ºæˆåŠŸï¼Œ4xxè¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯ï¼Œ5xxè¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯ã€‚</li></ul><h2 id="_3-errorå‚æ•°" tabindex="-1">3. Errorå‚æ•° <a class="header-anchor" href="#_3-errorå‚æ•°" aria-label="Permalink to &quot;3. Errorå‚æ•°&quot;">â€‹</a></h2><p><code>Error?</code>ç”¨äºæŒ‡ç¤ºè¯·æ±‚è¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿäº†é”™è¯¯ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¤„ç†é”™è¯¯ï¼š</p><ul><li><strong>æ£€æŸ¥é”™è¯¯æ˜¯å¦ä¸ºnil</strong>ï¼šå¦‚æœä¸ä¸ºnilï¼Œè¯´æ˜è¯·æ±‚å¤±è´¥ã€‚</li></ul><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯·æ±‚å¤±è´¥: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">localizedDescription</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>æ ¹æ®é”™è¯¯ç±»å‹è¿›è¡Œå¤„ç†</strong>ï¼šä¸åŒçš„é”™è¯¯ç±»å‹å¯èƒ½éœ€è¦ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚</li></ul><h2 id="_4-å®Œæ•´ç¤ºä¾‹" tabindex="-1">4. å®Œæ•´ç¤ºä¾‹ <a class="header-anchor" href="#_4-å®Œæ•´ç¤ºä¾‹" aria-label="Permalink to &quot;4. å®Œæ•´ç¤ºä¾‹&quot;">â€‹</a></h2><p>ç»“åˆä»¥ä¸Šå†…å®¹ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å¤„ç†URLSessionçš„å›è°ƒï¼š</p><div class="language-swift vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.example.com/data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> task </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> URLSession.shared.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dataTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: url) { data, response, error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯·æ±‚å¤±è´¥: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">localizedDescription</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> httpResponse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HTTPURLResponse {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;çŠ¶æ€ç : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(httpResponse.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">statusCode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JSONSerialization.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">jsonObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: data, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [])</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(json)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è§£æé”™è¯¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">task.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥æœ‰æ•ˆåœ°å¤„ç†URLSessionçš„å›è°ƒï¼Œç¡®ä¿ä½ çš„ç½‘ç»œè¯·æ±‚èƒ½å¤Ÿé¡ºåˆ©å®Œæˆå¹¶æ­£ç¡®å¤„ç†å“åº”æ•°æ®ã€‚ğŸ’ªâœ¨</p>`,20)]))}const g=i(p,[["render",h]]);export{o as __pageData,g as default};
